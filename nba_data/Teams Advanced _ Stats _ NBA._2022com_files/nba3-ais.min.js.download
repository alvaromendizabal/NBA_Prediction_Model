"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty2(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty2(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1,_s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e6){throw _e6},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=!0,didErr=!1,err;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e7){didErr=!0,err=_e7},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}!function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory((global=global||self).AdFuelUtils={})}(void 0,(function(exports){var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}function getCjsExportFromNamespace(n){return n&&n.default||n}var _global=createCommonjsModule((function(module){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)})),_core=createCommonjsModule((function(module){var core=module.exports={version:"2.6.12"};"number"==typeof __e&&(__e=core)})),_core_1=_core.version,_aFunction=function _aFunction(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it},_ctx=function _ctx(fn,that,length){if(_aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}},_isObject=function _isObject(it){return"object"===_typeof2(it)?null!==it:"function"==typeof it},_anObject=function _anObject(it){if(!_isObject(it))throw TypeError(it+" is not an object!");return it},_fails=function _fails(exec){try{return!!exec()}catch(e){return!0}},_descriptors=!_fails((function(){return 7!=Object.defineProperty({},"a",{get:function get(){return 7}}).a})),document$1=_global.document,is=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function _domCreate(it){return is?document$1.createElement(it):{}},_ie8DomDefine=!_descriptors&&!_fails((function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function get(){return 7}}).a})),_toPrimitive=function _toPrimitive(it,S){if(!_isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!_isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!_isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!_isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,f,_objectDp={f:_descriptors?Object.defineProperty:function defineProperty(O,P,Attributes){if(_anObject(O),P=_toPrimitive(P,!0),_anObject(Attributes),_ie8DomDefine)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},_propertyDesc=function _propertyDesc(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}},_hide=_descriptors?function(object,key,value){return _objectDp.f(object,key,_propertyDesc(1,value))}:function(object,key,value){return object[key]=value,object},hasOwnProperty={}.hasOwnProperty,_has=function _has(it,key){return hasOwnProperty.call(it,key)},PROTOTYPE="prototype",$export=function $export(type,name,source){var IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?_core:_core[name]||(_core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?_global:IS_STATIC?_global[name]:(_global[name]||{}).prototype,key,own,out;for(key in IS_GLOBAL&&(source=name),source)(own=!IS_FORCED&&target&&void 0!==target[key])&&_has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?_ctx(out,_global):IS_WRAP&&target[key]==out?function(C){var F=function F(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?_ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&_hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128;var _export=$export;_export(_export.S+_export.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object=_core.Object,defineProperty,defineProperty$1=function defineProperty(it,key,desc){return $Object.defineProperty(it,key,desc)},defineProperty$2,_defineProperty=unwrapExports(createCommonjsModule((function(module){function _defineProperty(obj,key,value){return key in obj?defineProperty$1(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}module.exports=_defineProperty,module.exports.default=module.exports,module.exports.__esModule=!0}))),_redefine=_hide,id=0,px=Math.random(),_uid=function _uid(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))},_meta=createCommonjsModule((function(module){var META=_uid("meta"),setDesc=_objectDp.f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!_fails((function(){return isExtensible(Object.preventExtensions({}))})),setMeta=function setMeta(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function fastKey(it,create){if(!_isObject(it))return"symbol"==_typeof2(it)?it:("string"==typeof it?"S":"P")+it;if(!_has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function getWeak(it,create){if(!_has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function onFreeze(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!_has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}})),_meta_1=_meta.KEY,_meta_2=_meta.NEED,_meta_3=_meta.fastKey,_meta_4=_meta.getWeak,_meta_5=_meta.onFreeze,_library=!0,_shared=createCommonjsModule((function(module){var SHARED="__core-js_shared__",store=_global[SHARED]||(_global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:_core.version,mode:"pure",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),_wks=createCommonjsModule((function(module){var store=_shared("wks"),_Symbol=_global.Symbol,USE_SYMBOL="function"==typeof _Symbol,$exports;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&_Symbol[name]||(USE_SYMBOL?_Symbol:_uid)("Symbol."+name))}).store=store})),def=_objectDp.f,TAG=_wks("toStringTag"),_setToStringTag=function _setToStringTag(it,tag,stat){it&&!_has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})},f$1,_wksExt={f:_wks},defineProperty$3=_objectDp.f,_wksDefine=function _wksDefine(name){var $Symbol=_core.Symbol||(_core.Symbol={});"_"==name.charAt(0)||name in $Symbol||defineProperty$3($Symbol,name,{value:_wksExt.f(name)})},toString={}.toString,_cof=function _cof(it){return toString.call(it).slice(8,-1)},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==_cof(it)?it.split(""):Object(it)},_defined=function _defined(it){if(null==it)throw TypeError("Can't call method on  "+it);return it},_toIobject=function _toIobject(it){return _iobject(_defined(it))},ceil=Math.ceil,floor=Math.floor,_toInteger=function _toInteger(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)},min=Math.min,_toLength=function _toLength(it){return it>0?min(_toInteger(it),9007199254740991):0},max=Math.max,min$1=Math.min,_toAbsoluteIndex=function _toAbsoluteIndex(index,length){return(index=_toInteger(index))<0?max(index+length,0):min$1(index,length)},_arrayIncludes=function _arrayIncludes(IS_INCLUDES){return function($this,el,fromIndex){var O=_toIobject($this),length=_toLength(O.length),index=_toAbsoluteIndex(fromIndex,length),value;if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}},shared=_shared("keys"),_sharedKey=function _sharedKey(key){return shared[key]||(shared[key]=_uid(key))},arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function _objectKeysInternal(object,names){var O=_toIobject(object),i=0,result=[],key;for(key in O)key!=IE_PROTO&&_has(O,key)&&result.push(key);for(;names.length>i;)_has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys=Object.keys||function keys(O){return _objectKeysInternal(O,_enumBugKeys)},f$2,_objectGops={f:Object.getOwnPropertySymbols},f$3,_objectPie={f:{}.propertyIsEnumerable},_enumKeys=function _enumKeys(it){var result=_objectKeys(it),getSymbols=_objectGops.f;if(getSymbols)for(var symbols=getSymbols(it),isEnum=_objectPie.f,i=0,key;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result},_isArray=Array.isArray||function isArray(arg){return"Array"==_cof(arg)},_toObject=function _toObject(it){return Object(_defined(it))},_objectDps=_descriptors?Object.defineProperties:function defineProperties(O,Properties){_anObject(O);for(var keys=_objectKeys(Properties),length=keys.length,i=0,P;length>i;)_objectDp.f(O,P=keys[i++],Properties[P]);return O},document$2=_global.document,_html=document$2&&document$2.documentElement,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function Empty(){},PROTOTYPE$1="prototype",_createDict=function createDict(){var iframe=_domCreate("iframe"),i=_enumBugKeys.length,lt="<",gt=">",iframeDocument;for(iframe.style.display="none",_html.appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),_createDict=iframeDocument.F;i--;)delete _createDict.prototype[_enumBugKeys[i]];return _createDict()},_objectCreate=Object.create||function create(O,Properties){var result;return null!==O?(Empty.prototype=_anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO$1]=O):result=_createDict(),void 0===Properties?result:_objectDps(result,Properties)},hiddenKeys=_enumBugKeys.concat("length","prototype"),f$4,_objectGopn={f:Object.getOwnPropertyNames||function getOwnPropertyNames(O){return _objectKeysInternal(O,hiddenKeys)}},gOPN=_objectGopn.f,toString$1={}.toString,windowNames="object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function getWindowNames(it){try{return gOPN(it)}catch(e){return windowNames.slice()}},f$5,_objectGopnExt={f:function getOwnPropertyNames(it){return windowNames&&"[object Window]"==toString$1.call(it)?getWindowNames(it):gOPN(_toIobject(it))}},gOPD=Object.getOwnPropertyDescriptor,f$6,_objectGopd={f:_descriptors?gOPD:function getOwnPropertyDescriptor(O,P){if(O=_toIobject(O),P=_toPrimitive(P,!0),_ie8DomDefine)try{return gOPD(O,P)}catch(e){}if(_has(O,P))return _propertyDesc(!_objectPie.f.call(O,P),O[P])}},META=_meta.KEY,gOPD$1=_objectGopd.f,dP$1=_objectDp.f,gOPN$1=_objectGopnExt.f,$Symbol=_global.Symbol,$JSON=_global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE$2="prototype",HIDDEN=_wks("_hidden"),TO_PRIMITIVE=_wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=_shared("symbol-registry"),AllSymbols=_shared("symbols"),OPSymbols=_shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol&&!!_objectGops.f,QObject=_global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=_descriptors&&_fails((function(){return 7!=_objectCreate(dP$1({},"a",{get:function get(){return dP$1(this,"a",{value:7}).a}})).a}))?function(it,key,D){var protoDesc=gOPD$1(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP$1(it,key,D),protoDesc&&it!==ObjectProto&&dP$1(ObjectProto,key,protoDesc)}:dP$1,wrap=function wrap(tag){var sym=AllSymbols[tag]=_objectCreate($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==_typeof2($Symbol.iterator)?function(it){return"symbol"==_typeof2(it)}:function(it){return it instanceof $Symbol},$defineProperty=function defineProperty(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),_anObject(it),key=_toPrimitive(key,!0),_anObject(D),_has(AllSymbols,key)?(D.enumerable?(_has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_objectCreate(D,{enumerable:_propertyDesc(0,!1)})):(_has(it,HIDDEN)||dP$1(it,HIDDEN,_propertyDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP$1(it,key,D)},$defineProperties=function defineProperties(it,P){_anObject(it);for(var keys=_enumKeys(P=_toIobject(P)),i=0,l=keys.length,key;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function create(it,P){return void 0===P?_objectCreate(it):$defineProperties(_objectCreate(it),P)},$propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=_toPrimitive(key,!0));return!(this===ObjectProto&&_has(AllSymbols,key)&&!_has(OPSymbols,key))&&(!(E||!_has(this,key)||!_has(AllSymbols,key)||_has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){if(it=_toIobject(it),key=_toPrimitive(key,!0),it!==ObjectProto||!_has(AllSymbols,key)||_has(OPSymbols,key)){var D=gOPD$1(it,key);return!D||!_has(AllSymbols,key)||_has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function getOwnPropertyNames(it){for(var names=gOPN$1(_toIobject(it)),result=[],i=0,key;names.length>i;)_has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function getOwnPropertySymbols(it){for(var IS_OP=it===ObjectProto,names=gOPN$1(IS_OP?OPSymbols:_toIobject(it)),result=[],i=0,key;names.length>i;)!_has(AllSymbols,key=names[i++])||IS_OP&&!_has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(_redefine(($Symbol=function _Symbol2(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=_uid(arguments.length>0?arguments[0]:void 0),$set=function $set(value){this===ObjectProto&&$set.call(OPSymbols,value),_has(this,HIDDEN)&&_has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,_propertyDesc(1,value))};return _descriptors&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",(function toString(){return this._k})),_objectGopd.f=$getOwnPropertyDescriptor,_objectDp.f=$defineProperty,_objectGopn.f=_objectGopnExt.f=$getOwnPropertyNames,_objectPie.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,_wksExt.f=function(name){return wrap(_wks(name))}),_export(_export.G+_export.W+_export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)_wks(es6Symbols[j++]);for(var wellKnownSymbols=_objectKeys(_wks.store),k=0;wellKnownSymbols.length>k;)_wksDefine(wellKnownSymbols[k++]);_export(_export.S+_export.F*!USE_NATIVE,"Symbol",{for:function _for(key){return _has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function useSetter(){setter=!0},useSimple:function useSimple(){setter=!1}}),_export(_export.S+_export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=_fails((function(){_objectGops.f(1)}));_export(_export.S+_export.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(it){return _objectGops.f(_toObject(it))}}),$JSON&&_export(_export.S+_export.F*(!USE_NATIVE||_fails((function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))}))),"JSON",{stringify:function stringify(it){for(var args=[it],i=1,replacer,$replacer;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(_isObject(replacer)||void 0!==it)&&!isSymbol(it))return _isArray(replacer)||(replacer=function replacer(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||_hide($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),_setToStringTag($Symbol,"Symbol"),_setToStringTag(Math,"Math",!0),_setToStringTag(_global.JSON,"JSON",!0);var es6_object_toString=Object.freeze({__proto__:null});_wksDefine("asyncIterator"),_wksDefine("observable"),getCjsExportFromNamespace(es6_object_toString);var symbol,symbol$1=_core.Symbol,_stringAt=function _stringAt(TO_STRING){return function(that,pos){var s=String(_defined(that)),i=_toInteger(pos),l=s.length,a,b;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}},_iterators={},IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),(function(){return this}));var _iterCreate=function _iterCreate(Constructor,NAME,next){Constructor.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,next)}),_setToStringTag(Constructor,NAME+" Iterator")},IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto$1=Object.prototype,_objectGpo=Object.getPrototypeOf||function(O){return O=_toObject(O),_has(O,IE_PROTO$2)?O[IE_PROTO$2]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto$1:null},ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function returnThis(){return this},_iterDefine=function _iterDefine(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){_iterCreate(Constructor,NAME,next);var getMethod=function getMethod(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native,methods,key,IteratorPrototype;if($anyNative&&(IteratorPrototype=_objectGpo($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&_setToStringTag(IteratorPrototype,TAG,!0),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function values(){return $native.call(this)}),FORCED&&(BUGGY||VALUES_BUG||!proto[ITERATOR])&&_hide(proto,ITERATOR,$default),_iterators[NAME]=$default,_iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||_redefine(proto,key,methods[key]);else _export(_export.P+_export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods},$at=_stringAt(!0);_iterDefine(String,"String",(function(iterated){this._t=String(iterated),this._i=0}),(function(){var O=this._t,index=this._i,point;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})}));var _iterStep=function _iterStep(done,value){return{value:value,done:!!done}},es6_array_iterator=_iterDefine(Array,"Array",(function(iterated,kind){this._t=_toIobject(iterated),this._i=0,this._k=kind}),(function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,_iterStep(1)):_iterStep(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])}),"values");_iterators.Arguments=_iterators.Array;for(var TO_STRING_TAG=_wks("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=_global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&_hide(proto,TO_STRING_TAG,NAME),_iterators[NAME]=_iterators.Array}var iterator,iterator$1=_wksExt.f("iterator"),_typeof_1,_typeof=unwrapExports(createCommonjsModule((function(module){function _typeof(obj){return"function"==typeof symbol$1&&"symbol"==typeof iterator$1?(module.exports=_typeof=function _typeof(obj){return typeof obj},module.exports.default=module.exports,module.exports.__esModule=!0):(module.exports=_typeof=function _typeof(obj){return obj&&"function"==typeof symbol$1&&obj.constructor===symbol$1&&obj!==symbol$1.prototype?"symbol":typeof obj},module.exports.default=module.exports,module.exports.__esModule=!0),_typeof(obj)}module.exports=_typeof,module.exports.default=module.exports,module.exports.__esModule=!0}))),_objectSap=function _objectSap(KEY,exec){var fn=(_core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),_export(_export.S+_export.F*_fails((function(){fn(1)})),"Object",exp)};_objectSap("keys",(function(){return function keys(it){return _objectKeys(_toObject(it))}}));var keys,keys$1=_core.Object.keys;_export(_export.S,"Array",{isArray:_isArray});var isArray,isArray$1=_core.Array.isArray,TAG$1=_wks("toStringTag"),ARG="Arguments"==_cof(function(){return arguments}()),tryGet=function tryGet(it,key){try{return it[key]}catch(e){}},_classof=function _classof(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG$1))?T:ARG?_cof(O):"Object"==(B=_cof(O))&&"function"==typeof O.callee?"Arguments":B},_anInstance=function _anInstance(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it},_iterCall=function _iterCall(iterator,fn,value,entries){try{return entries?fn(_anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&_anObject(ret.call(iterator)),e}},ITERATOR$1=_wks("iterator"),ArrayProto=Array.prototype,_isArrayIter=function _isArrayIter(it){return void 0!==it&&(_iterators.Array===it||ArrayProto[ITERATOR$1]===it)},ITERATOR$2=_wks("iterator"),core_getIteratorMethod=_core.getIteratorMethod=function(it){if(null!=it)return it[ITERATOR$2]||it["@@iterator"]||_iterators[_classof(it)]},_forOf=createCommonjsModule((function(module){var BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var iterFn=ITERATOR?function(){return iterable}:core_getIteratorMethod(iterable),f=_ctx(fn,that,entries?2:1),index=0,length,step,iterator,result;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(_isArrayIter(iterFn)){for(length=_toLength(iterable.length);length>index;index++)if((result=entries?f(_anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=_iterCall(iterator,f,step.value,entries))===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN})),SPECIES=_wks("species"),_speciesConstructor=function _speciesConstructor(O,D){var C=_anObject(O).constructor,S;return void 0===C||null==(S=_anObject(C)[SPECIES])?D:_aFunction(S)},_invoke=function _invoke(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)},process$1=_global.process,setTask=_global.setImmediate,clearTask=_global.clearImmediate,MessageChannel=_global.MessageChannel,Dispatch=_global.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function run(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function listener(event){run.call(event.data)};setTask&&clearTask||(setTask=function setImmediate(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){_invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function clearImmediate(id){delete queue[id]},"process"==_cof(process$1)?defer=function defer(id){process$1.nextTick(_ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function defer(id){Dispatch.now(_ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=_ctx(port.postMessage,port,1)):_global.addEventListener&&"function"==typeof postMessage&&!_global.importScripts?(defer=function defer(id){_global.postMessage(id+"","*")},_global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in _domCreate("script")?function defer(id){_html.appendChild(_domCreate("script")).onreadystatechange=function(){_html.removeChild(this),run.call(id)}}:function defer(id){setTimeout(_ctx(run,id,1),0)});var _task={set:setTask,clear:clearTask},macrotask=_task.set,Observer=_global.MutationObserver||_global.WebKitMutationObserver,process$2=_global.process,Promise=_global.Promise,isNode="process"==_cof(process$2),_microtask=function _microtask(){var head,last,notify,flush=function flush(){var parent,fn;for(isNode&&(parent=process$2.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function notify(){process$2.nextTick(flush)};else if(!Observer||_global.navigator&&_global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function notify(){promise.then(flush)}}else notify=function notify(){macrotask.call(_global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function notify(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}};function PromiseCapability(C){var resolve,reject;this.promise=new C((function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject})),this.resolve=_aFunction(resolve),this.reject=_aFunction(reject)}var f$7,_newPromiseCapability={f:function f$7(C){return new PromiseCapability(C)}},_perform=function _perform(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}},navigator$1=_global.navigator,_userAgent=navigator$1&&navigator$1.userAgent||"",_promiseResolve=function _promiseResolve(C,x){if(_anObject(C),_isObject(x)&&x.constructor===C)return x;var promiseCapability=_newPromiseCapability.f(C),resolve;return(0,promiseCapability.resolve)(x),promiseCapability.promise},_redefineAll=function _redefineAll(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:_hide(target,key,src[key]);return target},SPECIES$1=_wks("species"),_setSpecies=function _setSpecies(KEY){var C="function"==typeof _core[KEY]?_core[KEY]:_global[KEY];_descriptors&&C&&!C[SPECIES$1]&&_objectDp.f(C,SPECIES$1,{configurable:!0,get:function get(){return this}})},ITERATOR$3=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$3]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,(function(){throw 2}))}catch(e){}var _iterDetect=function _iterDetect(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR$3]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR$3]=function(){return iter},exec(arr)}catch(e){}return safe},task=_task.set,microtask=_microtask(),PROMISE="Promise",TypeError$1=_global.TypeError,process$3=_global.process,versions=process$3&&process$3.versions,v8=versions&&versions.v8||"",$Promise=_global.Promise,isNode$1="process"==_classof(process$3),empty=function empty(){},Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,newPromiseCapability=newGenericPromiseCapability=_newPromiseCapability.f,USE_NATIVE$1=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[_wks("species")]=function(exec){exec(empty,empty)};return(isNode$1||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===_userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function isThenable(it){var then;return!(!_isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function notify(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask((function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function run(reaction){var handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain,result,then,exited;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError$1("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)}))}},onUnhandled=function onUnhandled(promise){task.call(_global,(function(){var value=promise._v,unhandled=isUnhandled(promise),result,handler,console;if(unhandled&&(result=_perform((function(){isNode$1?process$3.emit("unhandledRejection",value,promise):(handler=_global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=_global.console)&&console.error&&console.error("Unhandled promise rejection",value)})),promise._h=isNode$1||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v}))},isUnhandled=function isUnhandled(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function onHandleUnhandled(promise){task.call(_global,(function(){var handler;isNode$1?process$3.emit("rejectionHandled",promise):(handler=_global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})}))},$reject=function $reject(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function $resolve(value){var promise=this,then;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError$1("Promise can't be resolved itself");(then=isThenable(value))?microtask((function(){var wrapper={_w:promise,_d:!1};try{then.call(value,_ctx($resolve,wrapper,1),_ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}})):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE$1||($Promise=function Promise(executor){_anInstance(this,$Promise,PROMISE,"_h"),_aFunction(executor),Internal.call(this);try{executor(_ctx($resolve,this,1),_ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function Promise(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=_redefineAll($Promise.prototype,{then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(_speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode$1?process$3.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function _catch(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function OwnPromiseCapability(){var promise=new Internal;this.promise=promise,this.resolve=_ctx($resolve,promise,1),this.reject=_ctx($reject,promise,1)},_newPromiseCapability.f=newPromiseCapability=function newPromiseCapability(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),_export(_export.G+_export.W+_export.F*!USE_NATIVE$1,{Promise:$Promise}),_setToStringTag($Promise,PROMISE),_setSpecies(PROMISE),Wrapper=_core.Promise,_export(_export.S+_export.F*!USE_NATIVE$1,PROMISE,{reject:function reject(r){var capability=newPromiseCapability(this),$$reject;return(0,capability.reject)(r),capability.promise}}),_export(_export.S+!0*_export.F,PROMISE,{resolve:function resolve(x){return _promiseResolve(this===Wrapper?$Promise:this,x)}}),_export(_export.S+_export.F*!(USE_NATIVE$1&&_iterDetect((function(iter){$Promise.all(iter).catch(empty)}))),PROMISE,{all:function all(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=_perform((function(){var values=[],index=0,remaining=1;_forOf(iterable,!1,(function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then((function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))}),reject)})),--remaining||resolve(values)}));return result.e&&reject(result.v),capability.promise},race:function race(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=_perform((function(){_forOf(iterable,!1,(function(promise){C.resolve(promise).then(capability.resolve,reject)}))}));return result.e&&reject(result.v),capability.promise}}),_export(_export.P+_export.R,"Promise",{finally:function _finally(onFinally){var C=_speciesConstructor(this,_core.Promise||_global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return _promiseResolve(C,onFinally()).then((function(){return x}))}:onFinally,isFunction?function(e){return _promiseResolve(C,onFinally()).then((function(){throw e}))}:onFinally)}}),_export(_export.S,"Promise",{try:function _try(callbackfn){var promiseCapability=_newPromiseCapability.f(this),result=_perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}});var promise,promise$1=_core.Promise,$JSON$1=_core.JSON||(_core.JSON={stringify:JSON.stringify}),stringify,stringify$1=function stringify(it){return $JSON$1.stringify.apply($JSON$1,arguments)};_objectSap("getOwnPropertyNames",(function(){return _objectGopnExt.f}));var $Object$1=_core.Object,getOwnPropertyNames,getOwnPropertyNames$1=function getOwnPropertyNames(it){return $Object$1.getOwnPropertyNames(it)},_stringWs="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",space="["+_stringWs+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function exporter(KEY,exec,ALIAS){var exp={},FORCE=_fails((function(){return!!_stringWs[KEY]()||non[KEY]()!=non})),fn=exp[KEY]=FORCE?exec(trim):_stringWs[KEY];ALIAS&&(exp[ALIAS]=fn),_export(_export.P+_export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(_defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string},_stringTrim=exporter,$parseInt=_global.parseInt,$trim=_stringTrim.trim,hex=/^[-+]?0[xX]/,_parseInt=8!==$parseInt(_stringWs+"08")||22!==$parseInt(_stringWs+"0x16")?function parseInt(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt;_export(_export.G+_export.F*(parseInt!=_parseInt),{parseInt:_parseInt});var _parseInt$1,_parseInt$2=_core.parseInt,getOwnPropertySymbols,getOwnPropertySymbols$1=_core.Object.getOwnPropertySymbols,$getOwnPropertyDescriptor$1=_objectGopd.f;_objectSap("getOwnPropertyDescriptor",(function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor$1(_toIobject(it),key)}}));var $Object$2=_core.Object,getOwnPropertyDescriptor,getOwnPropertyDescriptor$1=function getOwnPropertyDescriptor(it,key){return $Object$2.getOwnPropertyDescriptor(it,key)},Reflect=_global.Reflect,_ownKeys=Reflect&&Reflect.ownKeys||function ownKeys(it){var keys=_objectGopn.f(_anObject(it)),getSymbols=_objectGops.f;return getSymbols?keys.concat(getSymbols(it)):keys},_createProperty=function _createProperty(object,index,value){index in object?_objectDp.f(object,index,_propertyDesc(0,value)):object[index]=value};_export(_export.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){for(var O=_toIobject(object),getDesc=_objectGopd.f,keys=_ownKeys(O),result={},i=0,key,desc;keys.length>i;)void 0!==(desc=getDesc(O,key=keys[i++]))&&_createProperty(result,key,desc);return result}});var getOwnPropertyDescriptors,getOwnPropertyDescriptors$1=_core.Object.getOwnPropertyDescriptors;_export(_export.S+_export.F*!_descriptors,"Object",{defineProperties:_objectDps});var $Object$3=_core.Object,defineProperties,defineProperties$1=function defineProperties(T,D){return $Object$3.defineProperties(T,D)},isMobile=createCommonjsModule((function(module){!function(global){var apple_phone=/iPhone/i,apple_ipod=/iPod/i,apple_tablet=/iPad/i,android_phone=/\bAndroid(?:.+)Mobile\b/i,android_tablet=/Android/i,amazon_phone=/\bAndroid(?:.+)SD4930UR\b/i,amazon_tablet=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,windows_phone=/Windows Phone/i,windows_tablet=/\bWindows(?:.+)ARM\b/i,other_blackberry=/BlackBerry/i,other_blackberry_10=/BB10/i,other_opera=/Opera Mini/i,other_chrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,other_firefox=/Mobile(?:.+)Firefox\b/i;function match(regex,userAgent){return regex.test(userAgent)}function isMobile(userAgent){var ua=userAgent||("undefined"!=typeof navigator?navigator.userAgent:""),tmp=ua.split("[FBAN");void 0!==tmp[1]&&(ua=tmp[0]),void 0!==(tmp=ua.split("Twitter"))[1]&&(ua=tmp[0]);var result={apple:{phone:match(apple_phone,ua)&&!match(windows_phone,ua),ipod:match(apple_ipod,ua),tablet:!match(apple_phone,ua)&&match(apple_tablet,ua)&&!match(windows_phone,ua),device:(match(apple_phone,ua)||match(apple_ipod,ua)||match(apple_tablet,ua))&&!match(windows_phone,ua)},amazon:{phone:match(amazon_phone,ua),tablet:!match(amazon_phone,ua)&&match(amazon_tablet,ua),device:match(amazon_phone,ua)||match(amazon_tablet,ua)},android:{phone:!match(windows_phone,ua)&&match(amazon_phone,ua)||!match(windows_phone,ua)&&match(android_phone,ua),tablet:!match(windows_phone,ua)&&!match(amazon_phone,ua)&&!match(android_phone,ua)&&(match(amazon_tablet,ua)||match(android_tablet,ua)),device:!match(windows_phone,ua)&&(match(amazon_phone,ua)||match(amazon_tablet,ua)||match(android_phone,ua)||match(android_tablet,ua))||match(/\bokhttp\b/i,ua)},windows:{phone:match(windows_phone,ua),tablet:match(windows_tablet,ua),device:match(windows_phone,ua)||match(windows_tablet,ua)},other:{blackberry:match(other_blackberry,ua),blackberry10:match(other_blackberry_10,ua),opera:match(other_opera,ua),firefox:match(other_firefox,ua),chrome:match(other_chrome,ua),device:match(other_blackberry,ua)||match(other_blackberry_10,ua)||match(other_opera,ua)||match(other_firefox,ua)||match(other_chrome,ua)}};return result.any=result.apple.device||result.android.device||result.windows.device||result.other.device,result.phone=result.apple.phone||result.android.phone||result.windows.phone,result.tablet=result.apple.tablet||result.android.tablet||result.windows.tablet,result}module.exports&&"undefined"==typeof window?module.exports=isMobile:module.exports&&"undefined"!=typeof window?(module.exports=isMobile(),module.exports.isMobile=isMobile):global.isMobile=isMobile()}(commonjsGlobal)})),isMobile_1=isMobile.isMobile,SEMVER_SPEC_VERSION="2.0.0",MAX_LENGTH=256,MAX_SAFE_INTEGER,MAX_SAFE_COMPONENT_LENGTH=16,constants={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},debug,debug_1="object"===("undefined"==typeof process?"undefined":_typeof2(process))&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var _console,_len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return(_console=console).error.apply(_console,["SEMVER"].concat(args))}:function(){},re_1=createCommonjsModule((function(module,exports){var MAX_SAFE_COMPONENT_LENGTH=constants.MAX_SAFE_COMPONENT_LENGTH,re=(exports=module.exports={}).re=[],src=exports.src=[],t=exports.t={},R=0,createToken=function createToken(name,value,isGlobal){var index=R++;debug_1(index,value),t[name]=index,src[index]=value,re[index]=new RegExp(value,isGlobal?"g":void 0)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*"),createToken("NUMERICIDENTIFIERLOOSE","[0-9]+"),createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),createToken("MAINVERSION","(".concat(src[t.NUMERICIDENTIFIER],")\\.")+"(".concat(src[t.NUMERICIDENTIFIER],")\\.")+"(".concat(src[t.NUMERICIDENTIFIER],")")),createToken("MAINVERSIONLOOSE","(".concat(src[t.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(src[t.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(src[t.NUMERICIDENTIFIERLOOSE],")")),createToken("PRERELEASEIDENTIFIER","(?:".concat(src[t.NUMERICIDENTIFIER],"|").concat(src[t.NONNUMERICIDENTIFIER],")")),createToken("PRERELEASEIDENTIFIERLOOSE","(?:".concat(src[t.NUMERICIDENTIFIERLOOSE],"|").concat(src[t.NONNUMERICIDENTIFIER],")")),createToken("PRERELEASE","(?:-(".concat(src[t.PRERELEASEIDENTIFIER],"(?:\\.").concat(src[t.PRERELEASEIDENTIFIER],")*))")),createToken("PRERELEASELOOSE","(?:-?(".concat(src[t.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(src[t.PRERELEASEIDENTIFIERLOOSE],")*))")),createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+"),createToken("BUILD","(?:\\+(".concat(src[t.BUILDIDENTIFIER],"(?:\\.").concat(src[t.BUILDIDENTIFIER],")*))")),createToken("FULLPLAIN","v?".concat(src[t.MAINVERSION]).concat(src[t.PRERELEASE],"?").concat(src[t.BUILD],"?")),createToken("FULL","^".concat(src[t.FULLPLAIN],"$")),createToken("LOOSEPLAIN","[v=\\s]*".concat(src[t.MAINVERSIONLOOSE]).concat(src[t.PRERELEASELOOSE],"?").concat(src[t.BUILD],"?")),createToken("LOOSE","^".concat(src[t.LOOSEPLAIN],"$")),createToken("GTLT","((?:<|>)?=?)"),createToken("XRANGEIDENTIFIERLOOSE","".concat(src[t.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),createToken("XRANGEIDENTIFIER","".concat(src[t.NUMERICIDENTIFIER],"|x|X|\\*")),createToken("XRANGEPLAIN","[v=\\s]*(".concat(src[t.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(src[t.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(src[t.XRANGEIDENTIFIER],")")+"(?:".concat(src[t.PRERELEASE],")?").concat(src[t.BUILD],"?")+")?)?"),createToken("XRANGEPLAINLOOSE","[v=\\s]*(".concat(src[t.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(src[t.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(src[t.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(src[t.PRERELEASELOOSE],")?").concat(src[t.BUILD],"?")+")?)?"),createToken("XRANGE","^".concat(src[t.GTLT],"\\s*").concat(src[t.XRANGEPLAIN],"$")),createToken("XRANGELOOSE","^".concat(src[t.GTLT],"\\s*").concat(src[t.XRANGEPLAINLOOSE],"$")),createToken("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(MAX_SAFE_COMPONENT_LENGTH,"})")+"(?:\\.(\\d{1,".concat(MAX_SAFE_COMPONENT_LENGTH,"}))?")+"(?:\\.(\\d{1,".concat(MAX_SAFE_COMPONENT_LENGTH,"}))?")+"(?:$|[^\\d])"),createToken("COERCERTL",src[t.COERCE],!0),createToken("LONETILDE","(?:~>?)"),createToken("TILDETRIM","(\\s*)".concat(src[t.LONETILDE],"\\s+"),!0),exports.tildeTrimReplace="$1~",createToken("TILDE","^".concat(src[t.LONETILDE]).concat(src[t.XRANGEPLAIN],"$")),createToken("TILDELOOSE","^".concat(src[t.LONETILDE]).concat(src[t.XRANGEPLAINLOOSE],"$")),createToken("LONECARET","(?:\\^)"),createToken("CARETTRIM","(\\s*)".concat(src[t.LONECARET],"\\s+"),!0),exports.caretTrimReplace="$1^",createToken("CARET","^".concat(src[t.LONECARET]).concat(src[t.XRANGEPLAIN],"$")),createToken("CARETLOOSE","^".concat(src[t.LONECARET]).concat(src[t.XRANGEPLAINLOOSE],"$")),createToken("COMPARATORLOOSE","^".concat(src[t.GTLT],"\\s*(").concat(src[t.LOOSEPLAIN],")$|^$")),createToken("COMPARATOR","^".concat(src[t.GTLT],"\\s*(").concat(src[t.FULLPLAIN],")$|^$")),createToken("COMPARATORTRIM","(\\s*)".concat(src[t.GTLT],"\\s*(").concat(src[t.LOOSEPLAIN],"|").concat(src[t.XRANGEPLAIN],")"),!0),exports.comparatorTrimReplace="$1$2$3",createToken("HYPHENRANGE","^\\s*(".concat(src[t.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(src[t.XRANGEPLAIN],")")+"\\s*$"),createToken("HYPHENRANGELOOSE","^\\s*(".concat(src[t.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(src[t.XRANGEPLAINLOOSE],")")+"\\s*$"),createToken("STAR","(<|>)?=?\\s*\\*"),createToken("GTE0","^\\s*>=\\s*0.0.0\\s*$"),createToken("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")})),re_2=re_1.re,re_3=re_1.src,re_4=re_1.t,re_5=re_1.tildeTrimReplace,re_6=re_1.caretTrimReplace,re_7=re_1.comparatorTrimReplace,opts=["includePrerelease","loose","rtl"],parseOptions,parseOptions_1=function parseOptions(options){return options?"object"!==_typeof2(options)?{loose:!0}:opts.filter((function(k){return options[k]})).reduce((function(options,k){return options[k]=!0,options}),{}):{}},numeric=/^[0-9]+$/,compareIdentifiers=function compareIdentifiers(a,b){var anum=numeric.test(a),bnum=numeric.test(b);return anum&&bnum&&(a=+a,b=+b),a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1},rcompareIdentifiers=function rcompareIdentifiers(a,b){return compareIdentifiers(b,a)},identifiers={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers},MAX_LENGTH$1=constants.MAX_LENGTH,MAX_SAFE_INTEGER$1=constants.MAX_SAFE_INTEGER,re=re_1.re,t=re_1.t,compareIdentifiers$1=identifiers.compareIdentifiers,SemVer,semver=function(){function SemVer(version,options){if(_classCallCheck(this,SemVer),options=parseOptions_1(options),version instanceof SemVer){if(version.loose===!!options.loose&&version.includePrerelease===!!options.includePrerelease)return version;version=version.version}else if("string"!=typeof version)throw new TypeError("Invalid Version: ".concat(version));if(version.length>MAX_LENGTH$1)throw new TypeError("version is longer than ".concat(MAX_LENGTH$1," characters"));debug_1("SemVer",version,options),this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease;var m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m)throw new TypeError("Invalid Version: ".concat(version));if(this.raw=version,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>MAX_SAFE_INTEGER$1||this.major<0)throw new TypeError("Invalid major version");if(this.minor>MAX_SAFE_INTEGER$1||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>MAX_SAFE_INTEGER$1||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map((function(id){if(/^[0-9]+$/.test(id)){var num=+id;if(num>=0&&num<MAX_SAFE_INTEGER$1)return num}return id})):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}return _createClass(SemVer,[{key:"format",value:function format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function toString(){return this.version}},{key:"compare",value:function compare(other){if(debug_1("SemVer.compare",this.version,this.options,other),!(other instanceof SemVer)){if("string"==typeof other&&other===this.version)return 0;other=new SemVer(other,this.options)}return other.version===this.version?0:this.compareMain(other)||this.comparePre(other)}},{key:"compareMain",value:function compareMain(other){return other instanceof SemVer||(other=new SemVer(other,this.options)),compareIdentifiers$1(this.major,other.major)||compareIdentifiers$1(this.minor,other.minor)||compareIdentifiers$1(this.patch,other.patch)}},{key:"comparePre",value:function comparePre(other){if(other instanceof SemVer||(other=new SemVer(other,this.options)),this.prerelease.length&&!other.prerelease.length)return-1;if(!this.prerelease.length&&other.prerelease.length)return 1;if(!this.prerelease.length&&!other.prerelease.length)return 0;var i=0;do{var a=this.prerelease[i],b=other.prerelease[i];if(debug_1("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers$1(a,b)}while(++i)}},{key:"compareBuild",value:function compareBuild(other){other instanceof SemVer||(other=new SemVer(other,this.options));var i=0;do{var a=this.build[i],b=other.build[i];if(debug_1("prerelease compare",i,a,b),void 0===a&&void 0===b)return 0;if(void 0===b)return 1;if(void 0===a)return-1;if(a!==b)return compareIdentifiers$1(a,b)}while(++i)}},{key:"inc",value:function inc(release,identifier){switch(release){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0,this.inc("patch",identifier),this.inc("pre",identifier);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",identifier),this.inc("pre",identifier);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var _i2=this.prerelease.length;--_i2>=0;)"number"==typeof this.prerelease[_i2]&&(this.prerelease[_i2]++,_i2=-2);-1===_i2&&this.prerelease.push(0)}identifier&&(this.prerelease[0]===identifier?isNaN(this.prerelease[1])&&(this.prerelease=[identifier,0]):this.prerelease=[identifier,0]);break;default:throw new Error("invalid increment argument: ".concat(release))}return this.format(),this.raw=this.version,this}}]),SemVer}(),MAX_LENGTH$2=constants.MAX_LENGTH,re$1=re_1.re,t$1=re_1.t,parse,parse_1=function parse(version,options){if(options=parseOptions_1(options),version instanceof semver)return version;if("string"!=typeof version)return null;if(version.length>MAX_LENGTH$2)return null;var r;if(!(options.loose?re$1[t$1.LOOSE]:re$1[t$1.FULL]).test(version))return null;try{return new semver(version,options)}catch(er){return null}},valid,valid_1=function valid(version,options){var v=parse_1(version,options);return v?v.version:null},clean,clean_1=function clean(version,options){var s=parse_1(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null},inc,inc_1=function inc(version,release,options,identifier){"string"==typeof options&&(identifier=options,options=void 0);try{return new semver(version,options).inc(release,identifier).version}catch(er){return null}},compare,compare_1=function compare(a,b,loose){return new semver(a,loose).compare(new semver(b,loose))},eq,eq_1=function eq(a,b,loose){return 0===compare_1(a,b,loose)},diff,diff_1=function diff(version1,version2){if(eq_1(version1,version2))return null;var v1=parse_1(version1),v2=parse_1(version2),hasPre=v1.prerelease.length||v2.prerelease.length,prefix=hasPre?"pre":"",defaultResult=hasPre?"prerelease":"";for(var key in v1)if(("major"===key||"minor"===key||"patch"===key)&&v1[key]!==v2[key])return prefix+key;return defaultResult},major,major_1=function major(a,loose){return new semver(a,loose).major},minor,minor_1=function minor(a,loose){return new semver(a,loose).minor},patch,patch_1=function patch(a,loose){return new semver(a,loose).patch},prerelease,prerelease_1=function prerelease(version,options){var parsed=parse_1(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null},rcompare,rcompare_1=function rcompare(a,b,loose){return compare_1(b,a,loose)},compareLoose,compareLoose_1=function compareLoose(a,b){return compare_1(a,b,!0)},compareBuild,compareBuild_1=function compareBuild(a,b,loose){var versionA=new semver(a,loose),versionB=new semver(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)},sort,sort_1=function sort(list,loose){return list.sort((function(a,b){return compareBuild_1(a,b,loose)}))},rsort,rsort_1=function rsort(list,loose){return list.sort((function(a,b){return compareBuild_1(b,a,loose)}))},gt,gt_1=function gt(a,b,loose){return compare_1(a,b,loose)>0},lt,lt_1=function lt(a,b,loose){return compare_1(a,b,loose)<0},neq,neq_1=function neq(a,b,loose){return 0!==compare_1(a,b,loose)},gte,gte_1=function gte(a,b,loose){return compare_1(a,b,loose)>=0},lte,lte_1=function lte(a,b,loose){return compare_1(a,b,loose)<=0},cmp,cmp_1=function cmp(a,op,b,loose){switch(op){case"===":return"object"===_typeof2(a)&&(a=a.version),"object"===_typeof2(b)&&(b=b.version),a===b;case"!==":return"object"===_typeof2(a)&&(a=a.version),"object"===_typeof2(b)&&(b=b.version),a!==b;case"":case"=":case"==":return eq_1(a,b,loose);case"!=":return neq_1(a,b,loose);case">":return gt_1(a,b,loose);case">=":return gte_1(a,b,loose);case"<":return lt_1(a,b,loose);case"<=":return lte_1(a,b,loose);default:throw new TypeError("Invalid operator: ".concat(op))}},re$2=re_1.re,t$2=re_1.t,coerce,coerce_1=function coerce(version,options){if(version instanceof semver)return version;if("number"==typeof version&&(version=String(version)),"string"!=typeof version)return null;var match=null;if((options=options||{}).rtl){for(var next;(next=re$2[t$2.COERCERTL].exec(version))&&(!match||match.index+match[0].length!==version.length);)match&&next.index+next[0].length===match.index+match[0].length||(match=next),re$2[t$2.COERCERTL].lastIndex=next.index+next[1].length+next[2].length;re$2[t$2.COERCERTL].lastIndex=-1}else match=version.match(re$2[t$2.COERCE]);return null===match?null:parse_1("".concat(match[2],".").concat(match[3]||"0",".").concat(match[4]||"0"),options)},iterator$2=function iterator$2(Yallist){Yallist.prototype[Symbol.iterator]=regeneratorRuntime.mark((function _callee(){var walker;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:walker=this.head;case 1:if(!walker){_context.next=7;break}return _context.next=4,walker.value;case 4:walker=walker.next,_context.next=1;break;case 7:case"end":return _context.stop()}}),_callee,this)}))},yallist=Yallist;function Yallist(list){var self=this;if(self instanceof Yallist||(self=new Yallist),self.tail=null,self.head=null,self.length=0,list&&"function"==typeof list.forEach)list.forEach((function(item){self.push(item)}));else if(arguments.length>0)for(var i=0,l=arguments.length;i<l;i++)self.push(arguments[i]);return self}function insert(self,node,value){var inserted=node===self.head?new Node(value,null,node,self):new Node(value,node,node.next,self);return null===inserted.next&&(self.tail=inserted),null===inserted.prev&&(self.head=inserted),self.length++,inserted}function push(self,item){self.tail=new Node(item,self.tail,null,self),self.head||(self.head=self.tail),self.length++}function unshift(self,item){self.head=new Node(item,null,self.head,self),self.tail||(self.tail=self.head),self.length++}function Node(value,prev,next,list){if(!(this instanceof Node))return new Node(value,prev,next,list);this.list=list,this.value=value,prev?(prev.next=this,this.prev=prev):this.prev=null,next?(next.prev=this,this.next=next):this.next=null}Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(node){if(node.list!==this)throw new Error("removing node which does not belong to this list");var next=node.next,prev=node.prev;return next&&(next.prev=prev),prev&&(prev.next=next),node===this.head&&(this.head=next),node===this.tail&&(this.tail=prev),node.list.length--,node.next=null,node.prev=null,node.list=null,next},Yallist.prototype.unshiftNode=function(node){if(node!==this.head){node.list&&node.list.removeNode(node);var head=this.head;node.list=this,node.next=head,head&&(head.prev=node),this.head=node,this.tail||(this.tail=node),this.length++}},Yallist.prototype.pushNode=function(node){if(node!==this.tail){node.list&&node.list.removeNode(node);var tail=this.tail;node.list=this,node.prev=tail,tail&&(tail.next=node),this.tail=node,this.head||(this.head=node),this.length++}},Yallist.prototype.push=function(){for(var i=0,l=arguments.length;i<l;i++)push(this,arguments[i]);return this.length},Yallist.prototype.unshift=function(){for(var i=0,l=arguments.length;i<l;i++)unshift(this,arguments[i]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var res=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,res}},Yallist.prototype.shift=function(){if(this.head){var res=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,res}},Yallist.prototype.forEach=function(fn,thisp){thisp=thisp||this;for(var walker=this.head,i=0;null!==walker;i++)fn.call(thisp,walker.value,i,this),walker=walker.next},Yallist.prototype.forEachReverse=function(fn,thisp){thisp=thisp||this;for(var walker=this.tail,i=this.length-1;null!==walker;i--)fn.call(thisp,walker.value,i,this),walker=walker.prev},Yallist.prototype.get=function(n){for(var i=0,walker=this.head;null!==walker&&i<n;i++)walker=walker.next;if(i===n&&null!==walker)return walker.value},Yallist.prototype.getReverse=function(n){for(var i=0,walker=this.tail;null!==walker&&i<n;i++)walker=walker.prev;if(i===n&&null!==walker)return walker.value},Yallist.prototype.map=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.head;null!==walker;)res.push(fn.call(thisp,walker.value,this)),walker=walker.next;return res},Yallist.prototype.mapReverse=function(fn,thisp){thisp=thisp||this;for(var res=new Yallist,walker=this.tail;null!==walker;)res.push(fn.call(thisp,walker.value,this)),walker=walker.prev;return res},Yallist.prototype.reduce=function(fn,initial){var acc,walker=this.head;if(arguments.length>1)acc=initial;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");walker=this.head.next,acc=this.head.value}for(var i=0;null!==walker;i++)acc=fn(acc,walker.value,i),walker=walker.next;return acc},Yallist.prototype.reduceReverse=function(fn,initial){var acc,walker=this.tail;if(arguments.length>1)acc=initial;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");walker=this.tail.prev,acc=this.tail.value}for(var i=this.length-1;null!==walker;i--)acc=fn(acc,walker.value,i),walker=walker.prev;return acc},Yallist.prototype.toArray=function(){for(var arr=new Array(this.length),i=0,walker=this.head;null!==walker;i++)arr[i]=walker.value,walker=walker.next;return arr},Yallist.prototype.toArrayReverse=function(){for(var arr=new Array(this.length),i=0,walker=this.tail;null!==walker;i++)arr[i]=walker.value,walker=walker.prev;return arr},Yallist.prototype.slice=function(from,to){(to=to||this.length)<0&&(to+=this.length),(from=from||0)<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=0,walker=this.head;null!==walker&&i<from;i++)walker=walker.next;for(;null!==walker&&i<to;i++,walker=walker.next)ret.push(walker.value);return ret},Yallist.prototype.sliceReverse=function(from,to){(to=to||this.length)<0&&(to+=this.length),(from=from||0)<0&&(from+=this.length);var ret=new Yallist;if(to<from||to<0)return ret;from<0&&(from=0),to>this.length&&(to=this.length);for(var i=this.length,walker=this.tail;null!==walker&&i>to;i--)walker=walker.prev;for(;null!==walker&&i>from;i--,walker=walker.prev)ret.push(walker.value);return ret},Yallist.prototype.splice=function(start,deleteCount){start>this.length&&(start=this.length-1),start<0&&(start=this.length+start);for(var i=0,walker=this.head;null!==walker&&i<start;i++)walker=walker.next;for(var ret=[],i=0;walker&&i<deleteCount;i++)ret.push(walker.value),walker=this.removeNode(walker);null===walker&&(walker=this.tail),walker!==this.head&&walker!==this.tail&&(walker=walker.prev);for(var i=0;i<(arguments.length<=2?0:arguments.length-2);i++)walker=insert(this,walker,i+2<2||arguments.length<=i+2?void 0:arguments[i+2]);return ret},Yallist.prototype.reverse=function(){for(var head=this.head,tail=this.tail,walker=head;null!==walker;walker=walker.prev){var p=walker.prev;walker.prev=walker.next,walker.next=p}return this.head=tail,this.tail=head,this};try{iterator$2(Yallist)}catch(er){}var MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=function naiveLength(){return 1},LRUCache=function(){function LRUCache(options){if(_classCallCheck(this,LRUCache),"number"==typeof options&&(options={max:options}),options||(options={}),options.max&&("number"!=typeof options.max||options.max<0))throw new TypeError("max must be a non-negative number");var max=this[MAX]=options.max||1/0,lc=options.length||naiveLength;if(this[LENGTH_CALCULATOR]="function"!=typeof lc?naiveLength:lc,this[ALLOW_STALE]=options.stale||!1,options.maxAge&&"number"!=typeof options.maxAge)throw new TypeError("maxAge must be a number");this[MAX_AGE]=options.maxAge||0,this[DISPOSE]=options.dispose,this[NO_DISPOSE_ON_SET]=options.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=options.updateAgeOnGet||!1,this.reset()}return _createClass(LRUCache,[{key:"max",get:function get(){return this[MAX]},set:function set(mL){if("number"!=typeof mL||mL<0)throw new TypeError("max must be a non-negative number");this[MAX]=mL||1/0,trim$1(this)}},{key:"allowStale",get:function get(){return this[ALLOW_STALE]},set:function set(allowStale){this[ALLOW_STALE]=!!allowStale}},{key:"maxAge",get:function get(){return this[MAX_AGE]},set:function set(mA){if("number"!=typeof mA)throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=mA,trim$1(this)}},{key:"lengthCalculator",get:function get(){return this[LENGTH_CALCULATOR]},set:function set(lC){var _this=this;"function"!=typeof lC&&(lC=naiveLength),lC!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=lC,this[LENGTH]=0,this[LRU_LIST].forEach((function(hit){hit.length=_this[LENGTH_CALCULATOR](hit.value,hit.key),_this[LENGTH]+=hit.length}))),trim$1(this)}},{key:"length",get:function get(){return this[LENGTH]}},{key:"itemCount",get:function get(){return this[LRU_LIST].length}},{key:"rforEach",value:function rforEach(fn,thisp){thisp=thisp||this;for(var walker=this[LRU_LIST].tail;null!==walker;){var prev=walker.prev;forEachStep(this,fn,walker,thisp),walker=prev}}},{key:"forEach",value:function forEach(fn,thisp){thisp=thisp||this;for(var walker=this[LRU_LIST].head;null!==walker;){var next=walker.next;forEachStep(this,fn,walker,thisp),walker=next}}},{key:"keys",value:function keys(){return this[LRU_LIST].toArray().map((function(k){return k.key}))}},{key:"values",value:function values(){return this[LRU_LIST].toArray().map((function(k){return k.value}))}},{key:"reset",value:function reset(){var _this2=this;this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach((function(hit){return _this2[DISPOSE](hit.key,hit.value)})),this[CACHE]=new Map,this[LRU_LIST]=new yallist,this[LENGTH]=0}},{key:"dump",value:function dump(){var _this3=this;return this[LRU_LIST].map((function(hit){return!isStale(_this3,hit)&&{k:hit.key,v:hit.value,e:hit.now+(hit.maxAge||0)}})).toArray().filter((function(h){return h}))}},{key:"dumpLru",value:function dumpLru(){return this[LRU_LIST]}},{key:"set",value:function set(key,value,maxAge){if((maxAge=maxAge||this[MAX_AGE])&&"number"!=typeof maxAge)throw new TypeError("maxAge must be a number");var now=maxAge?Date.now():0,len=this[LENGTH_CALCULATOR](value,key);if(this[CACHE].has(key)){if(len>this[MAX])return _del(this,this[CACHE].get(key)),!1;var node,item=this[CACHE].get(key).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](key,item.value)),item.now=now,item.maxAge=maxAge,item.value=value,this[LENGTH]+=len-item.length,item.length=len,this.get(key),trim$1(this),!0}var hit=new Entry(key,value,len,now,maxAge);return hit.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](key,value),!1):(this[LENGTH]+=hit.length,this[LRU_LIST].unshift(hit),this[CACHE].set(key,this[LRU_LIST].head),trim$1(this),!0)}},{key:"has",value:function has(key){if(!this[CACHE].has(key))return!1;var hit=this[CACHE].get(key).value;return!isStale(this,hit)}},{key:"get",value:function get(key){return _get(this,key,!0)}},{key:"peek",value:function peek(key){return _get(this,key,!1)}},{key:"pop",value:function pop(){var node=this[LRU_LIST].tail;return node?(_del(this,node),node.value):null}},{key:"del",value:function del(key){_del(this,this[CACHE].get(key))}},{key:"load",value:function load(arr){this.reset();for(var now=Date.now(),l=arr.length-1;l>=0;l--){var hit=arr[l],expiresAt=hit.e||0;if(0===expiresAt)this.set(hit.k,hit.v);else{var maxAge=expiresAt-now;maxAge>0&&this.set(hit.k,hit.v,maxAge)}}}},{key:"prune",value:function prune(){var _this4=this;this[CACHE].forEach((function(value,key){return _get(_this4,key,!1)}))}}]),LRUCache}(),_get=function _get(self,key,doUse){var node=self[CACHE].get(key);if(node){var hit=node.value;if(isStale(self,hit)){if(_del(self,node),!self[ALLOW_STALE])return}else doUse&&(self[UPDATE_AGE_ON_GET]&&(node.value.now=Date.now()),self[LRU_LIST].unshiftNode(node));return hit.value}},isStale=function isStale(self,hit){if(!hit||!hit.maxAge&&!self[MAX_AGE])return!1;var diff=Date.now()-hit.now;return hit.maxAge?diff>hit.maxAge:self[MAX_AGE]&&diff>self[MAX_AGE]},trim$1=function trim$1(self){if(self[LENGTH]>self[MAX])for(var walker=self[LRU_LIST].tail;self[LENGTH]>self[MAX]&&null!==walker;){var prev=walker.prev;_del(self,walker),walker=prev}},_del=function _del(self,node){if(node){var hit=node.value;self[DISPOSE]&&self[DISPOSE](hit.key,hit.value),self[LENGTH]-=hit.length,self[CACHE].delete(hit.key),self[LRU_LIST].removeNode(node)}},Entry=function Entry(key,value,length,now,maxAge){_classCallCheck(this,Entry),this.key=key,this.value=value,this.length=length,this.now=now,this.maxAge=maxAge||0},forEachStep=function forEachStep(self,fn,node,thisp){var hit=node.value;isStale(self,hit)&&(_del(self,node),self[ALLOW_STALE]||(hit=void 0)),hit&&fn.call(thisp,hit.value,hit.key,self)},lruCache=LRUCache,Range,range=function(){function Range(range,options){var _this5=this;if(_classCallCheck(this,Range),options=parseOptions_1(options),range instanceof Range)return range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease?range:new Range(range.raw,options);if(range instanceof comparator)return this.raw=range.value,this.set=[[range]],this.format(),this;if(this.options=options,this.loose=!!options.loose,this.includePrerelease=!!options.includePrerelease,this.raw=range,this.set=range.split(/\s*\|\|\s*/).map((function(range){return _this5.parseRange(range.trim())})).filter((function(c){return c.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(range));if(this.set.length>1){var first=this.set[0];if(this.set=this.set.filter((function(c){return!isNullSet(c[0])})),0===this.set.length)this.set=[first];else if(this.set.length>1){var _iterator=_createForOfIteratorHelper(this.set),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;if(1===c.length&&isAny(c[0])){this.set=[c];break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}}}this.format()}return _createClass(Range,[{key:"format",value:function format(){return this.range=this.set.map((function(comps){return comps.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function toString(){return this.range}},{key:"parseRange",value:function parseRange(range){var _this6=this;range=range.trim();var memoOpts=Object.keys(this.options).join(","),memoKey="parseRange:".concat(memoOpts,":").concat(range),cached=cache.get(memoKey);if(cached)return cached;var loose=this.options.loose,hr=loose?re$3[t$3.HYPHENRANGELOOSE]:re$3[t$3.HYPHENRANGE];range=range.replace(hr,hyphenReplace(this.options.includePrerelease)),debug_1("hyphen replace",range),range=range.replace(re$3[t$3.COMPARATORTRIM],comparatorTrimReplace),debug_1("comparator trim",range,re$3[t$3.COMPARATORTRIM]),range=(range=(range=range.replace(re$3[t$3.TILDETRIM],tildeTrimReplace)).replace(re$3[t$3.CARETTRIM],caretTrimReplace)).split(/\s+/).join(" ");var compRe=loose?re$3[t$3.COMPARATORLOOSE]:re$3[t$3.COMPARATOR],rangeList=range.split(" ").map((function(comp){return parseComparator(comp,_this6.options)})).join(" ").split(/\s+/).map((function(comp){return replaceGTE0(comp,_this6.options)})).filter(this.options.loose?function(comp){return!!comp.match(compRe)}:function(){return!0}).map((function(comp){return new comparator(comp,_this6.options)})),l=rangeList.length,rangeMap=new Map,_iterator2=_createForOfIteratorHelper(rangeList),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var comp=_step2.value;if(isNullSet(comp))return[comp];rangeMap.set(comp.value,comp)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}rangeMap.size>1&&rangeMap.has("")&&rangeMap.delete("");var result=_toConsumableArray(rangeMap.values());return cache.set(memoKey,result),result}},{key:"intersects",value:function intersects(range,options){if(!(range instanceof Range))throw new TypeError("a Range is required");return this.set.some((function(thisComparators){return isSatisfiable(thisComparators,options)&&range.set.some((function(rangeComparators){return isSatisfiable(rangeComparators,options)&&thisComparators.every((function(thisComparator){return rangeComparators.every((function(rangeComparator){return thisComparator.intersects(rangeComparator,options)}))}))}))}))}},{key:"test",value:function test(version){if(!version)return!1;if("string"==typeof version)try{version=new semver(version,this.options)}catch(er){return!1}for(var _i3=0;_i3<this.set.length;_i3++)if(testSet(this.set[_i3],version,this.options))return!0;return!1}}]),Range}(),cache=new lruCache({max:1e3}),re$3=re_1.re,t$3=re_1.t,comparatorTrimReplace=re_1.comparatorTrimReplace,tildeTrimReplace=re_1.tildeTrimReplace,caretTrimReplace=re_1.caretTrimReplace,isNullSet=function isNullSet(c){return"<0.0.0-0"===c.value},isAny=function isAny(c){return""===c.value},isSatisfiable=function isSatisfiable(comparators,options){for(var result=!0,remainingComparators=comparators.slice(),testComparator=remainingComparators.pop();result&&remainingComparators.length;)result=remainingComparators.every((function(otherComparator){return testComparator.intersects(otherComparator,options)})),testComparator=remainingComparators.pop();return result},parseComparator=function parseComparator(comp,options){return debug_1("comp",comp,options),comp=replaceCarets(comp,options),debug_1("caret",comp),comp=replaceTildes(comp,options),debug_1("tildes",comp),comp=replaceXRanges(comp,options),debug_1("xrange",comp),comp=replaceStars(comp,options),debug_1("stars",comp),comp},isX=function isX(id){return!id||"x"===id.toLowerCase()||"*"===id},replaceTildes=function replaceTildes(comp,options){return comp.trim().split(/\s+/).map((function(comp){return replaceTilde(comp,options)})).join(" ")},replaceTilde=function replaceTilde(comp,options){var r=options.loose?re$3[t$3.TILDELOOSE]:re$3[t$3.TILDE];return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug_1("tilde",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">=".concat(M,".0.0 <").concat(+M+1,".0.0-0"):isX(p)?ret=">=".concat(M,".").concat(m,".0 <").concat(M,".").concat(+m+1,".0-0"):pr?(debug_1("replaceTilde pr",pr),ret=">=".concat(M,".").concat(m,".").concat(p,"-").concat(pr," <").concat(M,".").concat(+m+1,".0-0")):ret=">=".concat(M,".").concat(m,".").concat(p," <").concat(M,".").concat(+m+1,".0-0"),debug_1("tilde return",ret),ret}))},replaceCarets=function replaceCarets(comp,options){return comp.trim().split(/\s+/).map((function(comp){return replaceCaret(comp,options)})).join(" ")},replaceCaret=function replaceCaret(comp,options){debug_1("caret",comp,options);var r=options.loose?re$3[t$3.CARETLOOSE]:re$3[t$3.CARET],z=options.includePrerelease?"-0":"";return comp.replace(r,(function(_,M,m,p,pr){var ret;return debug_1("caret",comp,_,M,m,p,pr),isX(M)?ret="":isX(m)?ret=">=".concat(M,".0.0").concat(z," <").concat(+M+1,".0.0-0"):isX(p)?ret="0"===M?">=".concat(M,".").concat(m,".0").concat(z," <").concat(M,".").concat(+m+1,".0-0"):">=".concat(M,".").concat(m,".0").concat(z," <").concat(+M+1,".0.0-0"):pr?(debug_1("replaceCaret pr",pr),ret="0"===M?"0"===m?">=".concat(M,".").concat(m,".").concat(p,"-").concat(pr," <").concat(M,".").concat(m,".").concat(+p+1,"-0"):">=".concat(M,".").concat(m,".").concat(p,"-").concat(pr," <").concat(M,".").concat(+m+1,".0-0"):">=".concat(M,".").concat(m,".").concat(p,"-").concat(pr," <").concat(+M+1,".0.0-0")):(debug_1("no pr"),ret="0"===M?"0"===m?">=".concat(M,".").concat(m,".").concat(p).concat(z," <").concat(M,".").concat(m,".").concat(+p+1,"-0"):">=".concat(M,".").concat(m,".").concat(p).concat(z," <").concat(M,".").concat(+m+1,".0-0"):">=".concat(M,".").concat(m,".").concat(p," <").concat(+M+1,".0.0-0")),debug_1("caret return",ret),ret}))},replaceXRanges=function replaceXRanges(comp,options){return debug_1("replaceXRanges",comp,options),comp.split(/\s+/).map((function(comp){return replaceXRange(comp,options)})).join(" ")},replaceXRange=function replaceXRange(comp,options){comp=comp.trim();var r=options.loose?re$3[t$3.XRANGELOOSE]:re$3[t$3.XRANGE];return comp.replace(r,(function(ret,gtlt,M,m,p,pr){debug_1("xRange",comp,ret,gtlt,M,m,p,pr);var xM=isX(M),xm=xM||isX(m),xp=xm||isX(p),anyX=xp;return"="===gtlt&&anyX&&(gtlt=""),pr=options.includePrerelease?"-0":"",xM?ret=">"===gtlt||"<"===gtlt?"<0.0.0-0":"*":gtlt&&anyX?(xm&&(m=0),p=0,">"===gtlt?(gtlt=">=",xm?(M=+M+1,m=0,p=0):(m=+m+1,p=0)):"<="===gtlt&&(gtlt="<",xm?M=+M+1:m=+m+1),"<"===gtlt&&(pr="-0"),ret="".concat(gtlt+M,".").concat(m,".").concat(p).concat(pr)):xm?ret=">=".concat(M,".0.0").concat(pr," <").concat(+M+1,".0.0-0"):xp&&(ret=">=".concat(M,".").concat(m,".0").concat(pr," <").concat(M,".").concat(+m+1,".0-0")),debug_1("xRange return",ret),ret}))},replaceStars=function replaceStars(comp,options){return debug_1("replaceStars",comp,options),comp.trim().replace(re$3[t$3.STAR],"")},replaceGTE0=function replaceGTE0(comp,options){return debug_1("replaceGTE0",comp,options),comp.trim().replace(re$3[options.includePrerelease?t$3.GTE0PRE:t$3.GTE0],"")},hyphenReplace=function hyphenReplace(incPr){return function($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){return from=isX(fM)?"":isX(fm)?">=".concat(fM,".0.0").concat(incPr?"-0":""):isX(fp)?">=".concat(fM,".").concat(fm,".0").concat(incPr?"-0":""):fpr?">=".concat(from):">=".concat(from).concat(incPr?"-0":""),to=isX(tM)?"":isX(tm)?"<".concat(+tM+1,".0.0-0"):isX(tp)?"<".concat(tM,".").concat(+tm+1,".0-0"):tpr?"<=".concat(tM,".").concat(tm,".").concat(tp,"-").concat(tpr):incPr?"<".concat(tM,".").concat(tm,".").concat(+tp+1,"-0"):"<=".concat(to),"".concat(from," ").concat(to).trim()}},testSet=function testSet(set,version,options){for(var _i4=0;_i4<set.length;_i4++)if(!set[_i4].test(version))return!1;if(version.prerelease.length&&!options.includePrerelease){for(var _i5=0;_i5<set.length;_i5++)if(debug_1(set[_i5].semver),set[_i5].semver!==comparator.ANY&&set[_i5].semver.prerelease.length>0){var allowed=set[_i5].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return!0}return!1}return!0},ANY=Symbol("SemVer ANY"),Comparator,comparator=function(){function Comparator(comp,options){if(_classCallCheck(this,Comparator),options=parseOptions_1(options),comp instanceof Comparator){if(comp.loose===!!options.loose)return comp;comp=comp.value}debug_1("comparator",comp,options),this.options=options,this.loose=!!options.loose,this.parse(comp),this.semver===ANY?this.value="":this.value=this.operator+this.semver.version,debug_1("comp",this)}return _createClass(Comparator,[{key:"parse",value:function parse(comp){var r=this.options.loose?re$4[t$4.COMPARATORLOOSE]:re$4[t$4.COMPARATOR],m=comp.match(r);if(!m)throw new TypeError("Invalid comparator: ".concat(comp));this.operator=void 0!==m[1]?m[1]:"","="===this.operator&&(this.operator=""),m[2]?this.semver=new semver(m[2],this.options.loose):this.semver=ANY}},{key:"toString",value:function toString(){return this.value}},{key:"test",value:function test(version){if(debug_1("Comparator.test",version,this.options.loose),this.semver===ANY||version===ANY)return!0;if("string"==typeof version)try{version=new semver(version,this.options)}catch(er){return!1}return cmp_1(version,this.operator,this.semver,this.options)}},{key:"intersects",value:function intersects(comp,options){if(!(comp instanceof Comparator))throw new TypeError("a Comparator is required");if(options&&"object"===_typeof2(options)||(options={loose:!!options,includePrerelease:!1}),""===this.operator)return""===this.value||new range(comp.value,options).test(this.value);if(""===comp.operator)return""===comp.value||new range(this.value,options).test(comp.semver);var sameDirectionIncreasing=!(">="!==this.operator&&">"!==this.operator||">="!==comp.operator&&">"!==comp.operator),sameDirectionDecreasing=!("<="!==this.operator&&"<"!==this.operator||"<="!==comp.operator&&"<"!==comp.operator),sameSemVer=this.semver.version===comp.semver.version,differentDirectionsInclusive=!(">="!==this.operator&&"<="!==this.operator||">="!==comp.operator&&"<="!==comp.operator),oppositeDirectionsLessThan=cmp_1(this.semver,"<",comp.semver,options)&&(">="===this.operator||">"===this.operator)&&("<="===comp.operator||"<"===comp.operator),oppositeDirectionsGreaterThan=cmp_1(this.semver,">",comp.semver,options)&&("<="===this.operator||"<"===this.operator)&&(">="===comp.operator||">"===comp.operator);return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan}}],[{key:"ANY",get:function get(){return ANY}}]),Comparator}(),re$4=re_1.re,t$4=re_1.t,satisfies,satisfies_1=function satisfies(version,range$1,options){try{range$1=new range(range$1,options)}catch(er){return!1}return range$1.test(version)},toComparators,toComparators_1=function toComparators(range$1,options){return new range(range$1,options).set.map((function(comp){return comp.map((function(c){return c.value})).join(" ").trim().split(" ")}))},maxSatisfying,maxSatisfying_1=function maxSatisfying(versions,range$1,options){var max=null,maxSV=null,rangeObj=null;try{rangeObj=new range(range$1,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(max&&-1!==maxSV.compare(v)||(maxSV=new semver(max=v,options)))})),max},minSatisfying,minSatisfying_1=function minSatisfying(versions,range$1,options){var min=null,minSV=null,rangeObj=null;try{rangeObj=new range(range$1,options)}catch(er){return null}return versions.forEach((function(v){rangeObj.test(v)&&(min&&1!==minSV.compare(v)||(minSV=new semver(min=v,options)))})),min},minVersion,minVersion_1=function minVersion(range$1,loose){range$1=new range(range$1,loose);var minver=new semver("0.0.0");if(range$1.test(minver))return minver;if(minver=new semver("0.0.0-0"),range$1.test(minver))return minver;minver=null;for(var _loop=function _loop(_i6){var comparators=range$1.set[_i6],setMin=null;comparators.forEach((function(comparator){var compver=new semver(comparator.semver.version);switch(comparator.operator){case">":0===compver.prerelease.length?compver.patch++:compver.prerelease.push(0),compver.raw=compver.format();case"":case">=":setMin&&!gt_1(compver,setMin)||(setMin=compver);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(comparator.operator))}})),!setMin||minver&&!gt_1(minver,setMin)||(minver=setMin)},_i6=0;_i6<range$1.set.length;++_i6)_loop(_i6);return minver&&range$1.test(minver)?minver:null},validRange,valid$1=function validRange(range$1,options){try{return new range(range$1,options).range||"*"}catch(er){return null}},ANY$1=comparator.ANY,outside,outside_1=function outside(version,range$1,hilo,options){var gtfn,ltefn,ltfn,comp,ecomp;switch(version=new semver(version,options),range$1=new range(range$1,options),hilo){case">":gtfn=gt_1,ltefn=lte_1,ltfn=lt_1,comp=">",ecomp=">=";break;case"<":gtfn=lt_1,ltefn=gte_1,ltfn=gt_1,comp="<",ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies_1(version,range$1,options))return!1;for(var _loop2=function _loop2(_i7){var comparators=range$1.set[_i7],high=null,low=null;return comparators.forEach((function(comparator$1){comparator$1.semver===ANY$1&&(comparator$1=new comparator(">=0.0.0")),high=high||comparator$1,low=low||comparator$1,gtfn(comparator$1.semver,high.semver,options)?high=comparator$1:ltfn(comparator$1.semver,low.semver,options)&&(low=comparator$1)})),high.operator===comp||high.operator===ecomp?{v:!1}:low.operator&&low.operator!==comp||!ltefn(version,low.semver)?low.operator===ecomp&&ltfn(version,low.semver)?{v:!1}:void 0:{v:!1}},_i7=0;_i7<range$1.set.length;++_i7){var _ret=_loop2(_i7);if("object"===_typeof2(_ret))return _ret.v}return!0},gtr,gtr_1=function gtr(version,range,options){return outside_1(version,range,">",options)},ltr,ltr_1=function ltr(version,range,options){return outside_1(version,range,"<",options)},intersects,intersects_1=function intersects(r1,r2,options){return r1=new range(r1,options),r2=new range(r2,options),r1.intersects(r2)},simplify=function simplify(versions,range,options){var set=[],min=null,prev=null,v=versions.sort((function(a,b){return compare_1(a,b,options)})),_iterator3=_createForOfIteratorHelper(v),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var version=_step3.value,included;satisfies_1(version,range,options)?(prev=version,min||(min=version)):(prev&&set.push([min,prev]),prev=null,min=null)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}min&&set.push([min,null]);for(var ranges=[],_i8=0,_set=set;_i8<_set.length;_i8++){var _set$_i=_slicedToArray(_set[_i8],2),_min=_set$_i[0],_max=_set$_i[1];_min===_max?ranges.push(_min):_max||_min!==v[0]?_max?_min===v[0]?ranges.push("<=".concat(_max)):ranges.push("".concat(_min," - ").concat(_max)):ranges.push(">=".concat(_min)):ranges.push("*")}var simplified=ranges.join(" || "),original="string"==typeof range.raw?range.raw:String(range);return simplified.length<original.length?simplified:range},ANY$2=comparator.ANY,subset=function subset(sub,dom){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(sub===dom)return!0;sub=new range(sub,options),dom=new range(dom,options);var sawNonNull=!1,_iterator4=_createForOfIteratorHelper(sub.set),_step4;try{OUTER:for(_iterator4.s();!(_step4=_iterator4.n()).done;){var simpleSub=_step4.value,_iterator5=_createForOfIteratorHelper(dom.set),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var simpleDom=_step5.value,isSub=simpleSubset(simpleSub,simpleDom,options);if(sawNonNull=sawNonNull||null!==isSub,isSub)continue OUTER}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}if(sawNonNull)return!1}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}return!0},simpleSubset=function simpleSubset(sub,dom,options){if(sub===dom)return!0;if(1===sub.length&&sub[0].semver===ANY$2){if(1===dom.length&&dom[0].semver===ANY$2)return!0;sub=options.includePrerelease?[new comparator(">=0.0.0-0")]:[new comparator(">=0.0.0")]}if(1===dom.length&&dom[0].semver===ANY$2){if(options.includePrerelease)return!0;dom=[new comparator(">=0.0.0")]}var eqSet=new Set,gt,lt,_iterator6=_createForOfIteratorHelper(sub),_step6,gtltComp;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var c=_step6.value;">"===c.operator||">="===c.operator?gt=higherGT(gt,c,options):"<"===c.operator||"<="===c.operator?lt=lowerLT(lt,c,options):eqSet.add(c.semver)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}if(eqSet.size>1)return null;if(gt&&lt){if((gtltComp=compare_1(gt.semver,lt.semver,options))>0)return null;if(0===gtltComp&&(">="!==gt.operator||"<="!==lt.operator))return null}var _iterator7=_createForOfIteratorHelper(eqSet),_step7,higher,lower,hasDomLT,hasDomGT;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _eq=_step7.value;if(gt&&!satisfies_1(_eq,String(gt),options))return null;if(lt&&!satisfies_1(_eq,String(lt),options))return null;var _iterator9=_createForOfIteratorHelper(dom),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _c=_step9.value;if(!satisfies_1(_eq,String(_c),options))return!1}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}return!0}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}var needDomLTPre=!(!lt||options.includePrerelease||!lt.semver.prerelease.length)&&lt.semver,needDomGTPre=!(!gt||options.includePrerelease||!gt.semver.prerelease.length)&&gt.semver;needDomLTPre&&1===needDomLTPre.prerelease.length&&"<"===lt.operator&&0===needDomLTPre.prerelease[0]&&(needDomLTPre=!1);var _iterator8=_createForOfIteratorHelper(dom),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _c2=_step8.value;if(hasDomGT=hasDomGT||">"===_c2.operator||">="===_c2.operator,hasDomLT=hasDomLT||"<"===_c2.operator||"<="===_c2.operator,gt)if(needDomGTPre&&_c2.semver.prerelease&&_c2.semver.prerelease.length&&_c2.semver.major===needDomGTPre.major&&_c2.semver.minor===needDomGTPre.minor&&_c2.semver.patch===needDomGTPre.patch&&(needDomGTPre=!1),">"===_c2.operator||">="===_c2.operator){if((higher=higherGT(gt,_c2,options))===_c2&&higher!==gt)return!1}else if(">="===gt.operator&&!satisfies_1(gt.semver,String(_c2),options))return!1;if(lt)if(needDomLTPre&&_c2.semver.prerelease&&_c2.semver.prerelease.length&&_c2.semver.major===needDomLTPre.major&&_c2.semver.minor===needDomLTPre.minor&&_c2.semver.patch===needDomLTPre.patch&&(needDomLTPre=!1),"<"===_c2.operator||"<="===_c2.operator){if((lower=lowerLT(lt,_c2,options))===_c2&&lower!==lt)return!1}else if("<="===lt.operator&&!satisfies_1(lt.semver,String(_c2),options))return!1;if(!_c2.operator&&(lt||gt)&&0!==gtltComp)return!1}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}return!(gt&&hasDomLT&&!lt&&0!==gtltComp)&&(!(lt&&hasDomGT&&!gt&&0!==gtltComp)&&(!needDomGTPre&&!needDomLTPre))},higherGT=function higherGT(a,b,options){if(!a)return b;var comp=compare_1(a.semver,b.semver,options);return comp>0?a:comp<0?b:">"===b.operator&&">="===a.operator?b:a},lowerLT=function lowerLT(a,b,options){if(!a)return b;var comp=compare_1(a.semver,b.semver,options);return comp<0?a:comp>0?b:"<"===b.operator&&"<="===a.operator?b:a},subset_1=subset,semver$1={re:re_1.re,src:re_1.src,tokens:re_1.t,SEMVER_SPEC_VERSION:constants.SEMVER_SPEC_VERSION,SemVer:semver,compareIdentifiers:identifiers.compareIdentifiers,rcompareIdentifiers:identifiers.rcompareIdentifiers,parse:parse_1,valid:valid_1,clean:clean_1,inc:inc_1,diff:diff_1,major:major_1,minor:minor_1,patch:patch_1,prerelease:prerelease_1,compare:compare_1,rcompare:rcompare_1,compareLoose:compareLoose_1,compareBuild:compareBuild_1,sort:sort_1,rsort:rsort_1,gt:gt_1,lt:lt_1,eq:eq_1,neq:neq_1,gte:gte_1,lte:lte_1,cmp:cmp_1,coerce:coerce_1,Comparator:comparator,Range:range,satisfies:satisfies_1,toComparators:toComparators_1,maxSatisfying:maxSatisfying_1,minSatisfying:minSatisfying_1,minVersion:minVersion_1,validRange:valid$1,outside:outside_1,gtr:gtr_1,ltr:ltr_1,intersects:intersects_1,simplifyRange:simplify,subset:subset_1};function ownKeys(object,enumerableOnly){var keys=keys$1(object);if(getOwnPropertySymbols$1){var symbols=getOwnPropertySymbols$1(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return getOwnPropertyDescriptor$1(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):getOwnPropertyDescriptors$1?defineProperties$1(target,getOwnPropertyDescriptors$1(source)):ownKeys(Object(source)).forEach((function(key){defineProperty$1(target,key,getOwnPropertyDescriptor$1(source,key))}))}return target}var MODULE_NAME="Ad Utilities",MODULE_VERSION="v4.0.12",MODULE_LOG_TAG="utils",objectProto,toString$2=Object.prototype.toString,noop=function noop(){},sessionStorageAvail=function sessionStorageAvail(){var x="__test__";if("boolean"!=typeof window._sessionStoreAvail)try{window.sessionStorage.setItem(x,x),window.sessionStorage.removeItem(x),window._sessionStoreAvail=!0}catch(e){window._sessionStoreAvail=!1}return window._sessionStoreAvail},cdnRoot=function cdnRoot(){return"undefined"!=typeof document&&"undefined"!==document.location&&"undefined"!==document.location.hostname&&""!==document.location.hostname&&document.location.hostname.indexOf("cnn.com")>=0?"cdn.cnn.com":"i.cdn.turner.com"},isFunction=function isFunction(object){return"[object Function]"===toString$2.call(object)},IsMobile=isMobile,isObject=function isObject(object){var type=_typeof(object);return("function"===type||"object"===type)&&!!object},getURLParam=function getURLParam(name){if("undefined"==typeof document)return"";var nameParam=name.replace(/[[]/,"\\[").replace(/[\]]/,"\\]"),regexS,regex=new RegExp("[\\?&]"+nameParam+"=([^&#]*)");if(document&&document.location&&document.location.search){var results=regex.exec(document.location.search);return results?results[1]:""}return""},hasCookie=function hasCookie(name){return"undefined"!=typeof window&&(!(!document||!document.cookie)&&(document.cookie.indexOf("; "+name+"=")>=0||0===document.cookie.indexOf(name+"=")))},getViewport=function getViewport(){var viewportWidth,viewportHeight;return"undefined"!=typeof window&&window&&void 0!==window.innerWidth?(viewportWidth=window.innerWidth,viewportHeight=window.innerHeight):"undefined"!=typeof document&&document&&void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(viewportWidth=document.documentElement.clientWidth,viewportHeight=document.documentElement.clientHeight):(viewportWidth=document.getElementsByTagName("body")[0].clientWidth,viewportHeight=document.getElementsByTagName("body")[0].clientHeight),[viewportWidth,viewportHeight]},getBrowser=function getBrowser(){logger.time("Getting Browser Information");var ua=navigator.userAgent,tem,M=ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(M[1])?"IE "+((tem=/\brv[ :]+(\d+)/g.exec(ua)||[])[1]||""):"Chrome"===M[1]&&null!==(tem=ua.match(/\b(OPR|Edge)\/(\d+)/))?tem.slice(1).join(" ").replace("OPR","Opera"):(M=M[2]?[M[1],M[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(tem=ua.match(/version\/(\d+)/i))&&M.splice(1,1,tem[1]),logger.timeEnd("Getting Browser Information"),M.join(" "))},setCookie=function setCookie(cname,cvalue,expdays){var d=new Date;d.setTime(d.getTime()+24*expdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"},readCookie=function readCookie(name){var readTheCookie=function readTheCookie(key){return"undefined"!=typeof document&&document.cookie&&document.cookie.match(RegExp(key+"=.*?;"))?document.cookie.match(RegExp(key+"=.*?;"))[0].replace(RegExp(key+"=|;","g"),""):null},lsSupport=!1,data=null;return"undefined"!=typeof localStorage&&(lsSupport=!0),"undefined"==typeof value&&(lsSupport&&(data=localStorage.getItem(name)),lsSupport&&null!==data||(data=readTheCookie(name))),data};window.AdFuelUtils=window.AdFuelUtils||{},window.AdFuelUtils.consentStatus=window.AdFuelUtils.consentStatus||!1,window.AdFuelUtils.consentChecked=window.AdFuelUtils.consentChecked||!1,window.AdFuelUtils.logTrackers=window.AdFuelUtils.logTrackers||[],window.AdFuelUtils.sendLogs=window.AdFuelUtils.sendLogs||{},sessionStorageAvail()&&window.sessionStorage.getItem("AdFuel-Logging")&&"undefined"!==window.sessionStorage.getItem("AdFuel-Logging")&&0===keys$1(window.AdFuelUtils.sendLogs).length&&(window.AdFuelUtils.sendLogs=JSON.parse(window.sessionStorage.getItem("AdFuel-Logging"))),keys$1(window.AdFuelUtils.sendLogs).length>0&&keys$1(window.AdFuelUtils.sendLogs).forEach((function(key){window.AdFuelUtils.logTrackers.indexOf(key)<0&&window.AdFuelUtils.logTrackers.push(key)}));var emptyTarget=function emptyTarget(value){return isArray$1(value)?[]:{}},deepmerge=function deepmerge(target,source,optionsArgument){var array=isArray$1(source),options,arrayMerge=(optionsArgument||{arrayMerge:combineMerge}).arrayMerge||combineMerge;return array?isArray$1(target)?arrayMerge(target,source,optionsArgument):cloneIfNecessary(source,optionsArgument):mergeObject(target,source,optionsArgument)},combineMerge=function combineMerge(target,source,options){var destination=target.slice();return source.forEach((function(e,i){if(void 0===destination[i]){var cloneRequested,shouldClone=!1!==clone&&isMergeableObject(e);destination[i]=shouldClone?deepmerge(emptyTarget(e),e,options):e}else isMergeableObject(e)?destination[i]=merge(target[i],e):-1===target.indexOf(e)&&destination.push(e)})),destination},isMergeableObject=function isMergeableObject(val){var nonNullObject;return val&&"object"===_typeof(val)&&"[object RegExp]"!==Object.prototype.toString.call(val)&&"[object Date]"!==Object.prototype.toString.call(val)},cloneIfNecessary=function cloneIfNecessary(value,optionsArgument){var clone;return optionsArgument&&!0===optionsArgument.clone&&isMergeableObject(value)?deepmerge(emptyTarget(value),value,optionsArgument):value},mergeObject=function mergeObject(target,source,optionsArgument){var destination={};return isMergeableObject(target)&&keys$1(target).forEach((function(key){destination[key]=cloneIfNecessary(target[key],optionsArgument)})),keys$1(source).forEach((function(key){isMergeableObject(source[key])&&target[key]?destination[key]=deepmerge(target[key],source[key],optionsArgument):destination[key]=cloneIfNecessary(source[key],optionsArgument)})),destination};deepmerge.all=function(array,optionsArgument){if(!isArray$1(array)||array.length<2)throw new Error("first argument should be an array with at least two elements");return array.reduce((function(prev,next){return deepmerge(prev,next,optionsArgument)}))};var mergeDeep=function mergeDeep(target,source){return deepmerge(target,source)},countryCode=readCookie("countryCode")||(readCookie("CG")?readCookie("CG").substr(0,2):""),appId,locationServiceURL="https://geo.ngtv.io/locate?appId="+"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwbGF0Zm9ybSI6IndlYiIsInByb2R1Y3QiOiJhZGZ1ZWwiLCJuZXR3b3JrIjoiY25uIiwiYXBwSWQiOiJjbm4tYWRmdWVsLXdlYi14bWQ2dTkifQ.N-lYZh_mvCV2gChDusNhd85B2BD7AiCIcNY2Gr5Rc6c",getLocation=function getLocation(){return new promise$1((function(resolve,reject){fetch(locationServiceURL).then((function(resp){resolve(resp.json())})).catch((function(err){reject(new Error("Could not get user location: ".concat(err)))}))}))},selectedEdition=readCookie("SelectedEdition")?readCookie("SelectedEdition"):"www",monetizedSizes=["160x600","300x250","300x600","320x50","728x90","970x90","970x250"],invalidMappings=["_ns_","_nfs_"],invalidAdUnitSegments=[],invalidAdUnits=["CNN/health","CNN/health/healthgrades","CNN/health/leaf","CNN/health/list","CNN/health/photos","CNN/health/specials","CNN/health/video","CNN/student-news"],addLogTracker=function addLogTracker(name){window.AdFuelUtils.logTrackers&&window.AdFuelUtils.logTrackers.indexOf(name)<0&&window.AdFuelUtils.logTrackers.push(name),window.AdFuelUtils.sendLogs&&void 0===window.AdFuelUtils.sendLogs[name]&&(window.AdFuelUtils.sendLogs[name]=!1),sessionStorageAvail()&&window.sessionStorage.setItem("AdFuel-Logging",stringify$1(window.AdFuelUtils.sendLogs))},enableLogging=function enableLogging(names){if(names&&!isArray$1(names)&&(names=[names]),names)names.forEach((function(name){console.log("%c[LOGGING] Enabling Logging for "+name,"background: #333333; color: #FF0000; padding: 5px;"),window.AdFuelUtils.sendLogs[name.toLowerCase()]=!0}));else{var keys=window.AdFuelUtils.logTrackers;keys.length>0&&keys.forEach((function(key){console.log("%c[LOGGING] Enabling Logging for "+key,"background: #333333; color: #FF0000; padding: 5px;"),window.AdFuelUtils.sendLogs[key]=!0}))}sessionStorageAvail()&&window.sessionStorage.setItem("AdFuel-Logging",stringify$1(window.AdFuelUtils.sendLogs))},disableLogging=function disableLogging(names){if(names&&!isArray$1(names)&&(names=[names]),names)names.forEach((function(name){console.log("%c[LOGGING] Disabling Logging for "+name,"background: #333333; color: #FF0000; padding: 5px;"),window.AdFuelUtils.sendLogs[name.toLowerCase()]=!1}));else{var keys=window.AdFuelUtils.logTrackers;keys.length>0&&keys.forEach((function(key){console.log("%c[LOGGING] Disabling Logging for "+key,"background: #333333; color: #FF0000; padding: 5px;"),window.AdFuelUtils.sendLogs[key]=!1}))}sessionStorageAvail()&&window.sessionStorage.setItem("AdFuel-Logging",stringify$1(window.AdFuelUtils.sendLogs))},isLoggingOn=function isLoggingOn(name){var debug=getURLParam("debug").split(",").filter((function(item){return""!==item&&null!==item}));if(debug&&debug.length>0)if("true"===debug[0]){if(void 0===window.AdFuelUtils.logTrackers)return!0;window.AdFuelUtils.logTrackers.forEach((function(key){window.AdFuelUtils.sendLogs[key]=!0}))}else debug.forEach((function(qsname){if(void 0===window.AdFuelUtils.sendLogs||name!==qsname)return!0;window.AdFuelUtils.sendLogs[name]=!0}));return!!window.AdFuelUtils.sendLogs&&window.AdFuelUtils.sendLogs[name]},getLogger=function getLogger(moduleName,moduleVersion,logKey,style,override){var log=noop,info=noop,warn=noop,time=noop,timeEnd=noop,group=noop,groupEnd=noop,error=noop,inGroup=!1,tag,styleFinal=style||"",logKeyFinal=logKey||moduleName.toLowerCase(),logger;return addLogTracker(logKeyFinal),{log:log=function log(){var debugTest=isLoggingOn(logKeyFinal);if(debugTest){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(tag=["%c["+moduleName+" "+moduleVersion+"] ",styleFinal]).push.apply(tag,args),console.log.apply(console,tag)}},info:info=function info(){var debugTest=isLoggingOn(logKeyFinal);if(debugTest){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];(tag=["%c["+moduleName+" "+moduleVersion+"] ",styleFinal]).push.apply(tag,args),console.info.apply(console,tag)}},warn:warn=function warn(){var debugTest=isLoggingOn(logKeyFinal);if(debugTest){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];(tag=["%c["+moduleName+" "+moduleVersion+"] ",styleFinal]).push.apply(tag,args),console.warn.apply(console,tag)}},error:error=function error(){var debugTest=isLoggingOn(logKeyFinal);if(debugTest){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];(tag=["%c["+moduleName+" "+moduleVersion+"] ",styleFinal]).push.apply(tag,args),console.error.apply(console,tag)}},time:time=function time(timeTag){var debugTest;if(isLoggingOn(logKeyFinal)){var timeKey="["+moduleName+" "+moduleVersion+"] - "+timeTag;group(timeTag),addMark(timeKey+"-Start"),console.time(timeKey)}},timeEnd:timeEnd=function timeEnd(timeTag){var debugTest;if(isLoggingOn(logKeyFinal)){var timeKey="["+moduleName+" "+moduleVersion+"] - "+timeTag;addMark(timeKey+"-End"),addMeasure(timeKey,timeKey+"-Start",timeKey+"-End"),groupEnd(timeTag),console.timeEnd(timeKey)}},group:group=function group(groupName){var debugTest;isLoggingOn(logKeyFinal)&&(inGroup||(tag=["%c["+moduleName+" "+moduleVersion+"] - START",styleFinal,groupName],inGroup=!0,console.log.apply(console,tag)))},groupEnd:groupEnd=function groupEnd(groupName){var debugTest;if(isLoggingOn(logKeyFinal)){tag=["%c["+moduleName+" "+moduleVersion+"] - END",styleFinal,groupName],inGroup=!1;try{console.log.apply(console,tag)}catch(err){}}}}},hostname="",setHostAndPathNames=function setHostAndPathNames(){var parser="undefined"!=typeof document?document.createElement("a"):{href:"",hostname:"",pathname:""};parser.href="undefined"!=typeof document?document.location.href:"",hostname=parser.hostname};addLogTracker("utils");var logger=getLogger(MODULE_NAME,"v4.0.12","utils","color: coral; padding: 2px"),addEvent=function addEvent(element,event,fn){element.addEventListener?element.addEventListener(event,fn,!0):element.attachEvent&&element.attachEvent("on"+event,fn)},bind=function bind(fn,context){for(var _len5=arguments.length,args=new Array(_len5>2?_len5-2:0),_key5=2;_key5<_len5;_key5++)args[_key5-2]=arguments[_key5];if(!isFunction(fn))throw new TypeError("Bind must be called on a function");return function bound(){return fn.apply(context,args.concat(Array.prototype.slice.call(arguments)))}},re$5=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()\[\]\.,;:\s@\"]+\.)+[^<>()\[\]\.,;:\s@\"]{2,})/i,piiIsPresentInQueryString=function piiIsPresentInQueryString(){if(document.location.search){var dirtyResults=document.location.search.search(re$5)+1,cleanResults;try{cleanResults=decodeURIComponent(document.location.search).search(re$5)+1}catch(err){cleanResults=dirtyResults}return 1===dirtyResults||1===cleanResults}return!1},piiIsPresentInHash=function piiIsPresentInHash(){if(document.location.hash){var dirtyResults=document.location.hash.search(re$5)+1,cleanResults;try{cleanResults=decodeURIComponent(document.location.hash).search(re$5)+1}catch(err){cleanResults=dirtyResults}return dirtyResults||cleanResults}return!1},piiIsPresentInReferrer=function piiIsPresentInReferrer(){if(document.referrer){var dirtyResults=document.referrer.search(re$5)+1,cleanResults;try{cleanResults=decodeURIComponent(document.location.referrer).search(re$5)+1}catch(err){cleanResults=dirtyResults}return dirtyResults||cleanResults}return!1},piiIsPresent=function piiIsPresent(){return piiIsPresentInQueryString()||piiIsPresentInHash()||piiIsPresentInReferrer()},filterDFPRequest=function filterDFPRequest(){if(piiIsPresentInQueryString()||piiIsPresentInHash()||piiIsPresentInReferrer()){if("undefined"!=typeof window&&window.AdFuel){logger.log("Filtering DFP Request due to PII in query string.");for(var AdFuelMethods=getOwnPropertyNames$1(window.AdFuel),x=0;x<AdFuelMethods.length;x++)window.AdFuel[AdFuelMethods[x]]=function filteredAdFuelMethod(){};window.googletag=null}return!0}return!1},piiFilter={qs:piiIsPresentInQueryString,hash:piiIsPresentInHash,ref:piiIsPresentInReferrer,isPIIPresent:piiIsPresent,filter:filterDFPRequest},gdprApplies=!1,getFullConsentState=function getFullConsentState(){return window.WM.UserConsent.getConsentState()},getConsentVersion=function getConsentVersion(){return window.WM.UserConsent.getConsentVersion()},getConsentString=function getConsentString(){var consentString="";return hasCookie("eupubconsent")?(logger.log("Getting Consent Object from cookie..."),consentString=readCookie("eupubconsent")):"undefined"!=typeof window&&window.__tcfapi&&"function"==typeof window.__tcfapi?(logger.log("Getting Consent Object from __tcfapi..."),window.__tcfapi("getTCData",2,(function(tcData,success){return success?(consentString=tcData.tcString,tcData.tcString):(consentString="","")}))):"undefined"!=typeof window&&window.__cmp&&"function"==typeof window.__cmp&&(logger.log("Getting Consent Object from __cmp..."),window.__cmp("getVendorConsents",null,(function(result){consentString=result.metadata}))),logger.log("Returning consent string...",consentString),consentString},getConsent=function getConsent(){var consentStates=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["data-store","ads-contextual","ads-person-prof","ads-person","vendor"],consentVersion="1.3.6";try{consentVersion=window.WM.UserConsent.getVersion()}catch(err){logger.warn("Running Older UserConsent - Please Update!")}var region=getUserConsentRegion(),cmpExists=void 0!==window.__cmp,tcfExists=void 0!==window.__tcfapi;return cmpExists&&tcfExists&&logger.warn("****************************\n** Running multiple GDPR UserConsent frameworks.\n** You may experience erratic ad behavior.\n** Please examine your UserConsent configuration.\n****************************"),"ccpa"===region&&(cmpExists||tcfExists)&&logger.warn("****************************\n** Running GDPR UserConsent framework.\n** You may experience erratic ad behavior.\n** Please examine your UserConsent configuration.\n****************************"),"gdpr"!==region||cmpExists||tcfExists||logger.warn("****************************\n** Could not find GDPR UserConsent framework.\n** You may experience erratic ad behavior.\n** Please examine your UserConsent configuration.\n****************************"),logger.log("UserConsent Version: ",consentVersion),logger.log("Consent States: ",consentStates),window.AdFuelUtils.consentStatus=!window.WM||(!window.WM.UserConsent.isReady()||(semver$1.satisfies(consentVersion,">=2.0.0")?window.WM.UserConsent.inUserConsentState(consentStates):window.WM.UserConsent.inUserConsentState(["ads-general","ads-vendor"]))),logger.log("Consent Granted: ",window.AdFuelUtils.consentStatus),"ccpa"===region&&""!==getURLParam("renderStatic")&&(logger.log("Render Static: ",getURLParam("renderStatic")),logger.log("Using override for Static Ad Rendering..."),window.AdFuelUtils.consentStatus=!1),window.AdFuelUtils.consentChecked=!0,window.AdFuelUtils.consentStatus},getGDPRApplies=function getGDPRApplies(){return window.WM.UserConsent.isInGdprRegion()},getCCPAApplies=function getCCPAApplies(){return window.WM.UserConsent.isInCcpaRegion()},getUserConsentRegion=function getUserConsentRegion(){return window.WM?window.WM.UserConsent.getRegion():""},monetizedSlots={},isMonetized=function isMonetized(slot){var rktrSlotId=slot.rktr_slot_id,posTarget=slot.targeting.map((function(target){return"pos"===target[0]?target:null})).filter((function(item){return null!==item}))[0],posValue=posTarget&&posTarget.length>0?posTarget[1][0]:rktrSlotId.replace("ad_","");logger.group("Checking Monetization for: "+rktrSlotId);var rktrAdId=slot.rktr_ad_id,responsive=slot.responsive,sizes=slot.sizes;if(void 0!==monetizedSlots[rktrSlotId])return logger.log("Slot already monetized.",monetizedSlots[rktrSlotId]),logger.groupEnd("Checking Monetization for: "+rktrSlotId),monetizedSlots[rktrSlotId];var slotId=rktrSlotId;if("page"===slotId)return logger.log("Skipping Page-Level Object."),logger.groupEnd("Checking Monetization for: "+rktrSlotId),monetizedSlots[slotId]={isMonetized:!1,filteredSizes:[]},{isMonetized:!1,filteredSizes:[]};var monetized=!0,viewportChecked=!1,browser=getViewport(),responsiveSizes=[],filteredSizes=[];return invalidMappings.forEach((function forEachMap(invalidMapping){(slotId.indexOf(invalidMapping)>0||posValue.indexOf(invalidMapping.substring(1))>=0)&&(logger.log("Slot includes invalid mapping: ",invalidMapping),monetizedSlots[slotId]=!1,monetized=!1)})),invalidAdUnitSegments.forEach((function forEachSegment(invalidAdUnitSegment){rktrAdId&&rktrAdId.indexOf(invalidAdUnitSegment)>=0&&(logger.log("Slot contains an invalid Ad Unit segment: ",invalidAdUnitSegment),monetized=!1)})),invalidAdUnits.forEach((function forEachAdUnit(invalidAdUnit){rktrAdId===invalidAdUnit&&(logger.log("Slot uses an invalid Ad Unit: ",invalidAdUnit),monetized=!1)})),responsive&&responsive.length>0&&responsive.map((function(viewport){return!viewportChecked&&_parseInt$2(viewport[0][0],10)<browser[0]&&_parseInt$2(viewport[0][1],10)<browser[1]&&(viewportChecked=!0,logger.log("Checking Responsive Sizes: ",viewport,browser),responsiveSizes=viewport[1],"suppress"!==viewport[1][0]&&"suppress"!==responsiveSizes||(logger.log("Slot is suppressed: ",viewport[1][0],responsiveSizes),monetized=!1)),viewport})),filteredSizes=monetized&&responsiveSizes.length>0?responsiveSizes:sizes,monetized&&(filteredSizes=filteredSizes.filter((function sizeFilter(size){var retSize=size;return"suppress"!==retSize&&(retSize=retSize.join("x")),-1!==monetizedSizes.indexOf(retSize)}))),0===filteredSizes.length&&rktrSlotId.indexOf("_out_vid_")<0?(logger.log("Slot contains no monetized sizes.",filteredSizes),monetizedSlots[slotId]=!1,monetized=!1):rktrSlotId.indexOf("_out_vid_")>=0&&logger.log("Slot is an outstream video slot.",rktrSlotId),logger.log("Slot is Monetized: ",monetized),logger.groupEnd("Checking Monetization for: "+rktrSlotId),monetizedSlots[slotId]={isMonetized:monetized,filteredSizes:filteredSizes},{isMonetized:monetized,filteredSizes:filteredSizes}},hasOwn=function hasOwn(object,key){return null!==object&&Object.prototype.hasOwnProperty.call(object,key)},once=function once(fn){return function(){fn&&(fn.apply(this,arguments),fn=null)}},keyMap=(map={},addKey=function addKey(id,key){has(id)||(map[id]=[]),map[id].push(key)},getKeys=function getKeys(id){return has(id)?Array.prototype.slice.call(map[id]):[]},clearKeys=function clearKeys(id){return!!has(id)&&(map[id].length=0,!0)},{has:has=function has(id){return id in map},clearKeys:clearKeys,getKeys:getKeys,addKey:addKey}),map,has,addKey,getKeys,clearKeys,roundFloat=function roundFloat(value,toNearest,fixed){return(Math.ceil(value/toNearest)*toNearest).toFixed(fixed)},generateCacheBuster=function generateCacheBuster(){for(var cb="",i=0;i<10;i++)cb+=Math.floor(9*Math.random()).toString();return cb},debounce=function debounce(func,wait,immediate){var timeout;return function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];var context=this,later=function later(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}},clone=function clone(obj){if(null===obj||"object"!==_typeof(obj))return obj;if(obj instanceof Date){var copyDate=new Date;return copyDate.setTime(obj.getTime()),copyDate}if(obj instanceof Array){for(var copyArray=[],i=0,len=obj.length;i<len;i++)copyArray[i]=clone(obj[i]);return copyArray}if(obj instanceof Object){var copyObject={};return keys$1(obj).forEach((function(attr){copyObject[attr]=clone(obj[attr])})),copyObject}throw new Error("Unable to copy obj! Its type isn't supported.")},logsSent=!1,onUSCNN=!1,isIntl=function isIntl(){var isIntl=!1;return setHostAndPathNames(),"true"===getURLParam("isIntl")?(logsSent||(logsSent=!0,logger.log("Faking international site. Using International PubIds.")),isIntl=!0):hostname.search(/^.*(edition|edition-m|arabic|cnnespanol|cnne-test)\./)>=0?(logsSent||(logsSent=!0,logger.log("Full international site. Using International PubIds.")),isIntl=!0):""===countryCode||null===countryCode?(logsSent||(logsSent=!0,logger.log("No country code.")),isIntl=!1):"US"!==countryCode&&"CA"!==countryCode?hostname.search(/^.*(money|\.cnn)\./)>=0?(hostname.search(/^.*us\.cnn\.com/)>=0&&(logsSent||logger.log("International user but domestic page.  Using alternate international PubIds if available."),onUSCNN=!0),logsSent||(logsSent=!0,logger.log("International country code.")),isIntl=!0):hostname.search(/^.*us\.cnn\.com/)>=0?(logsSent||(logsSent=!0,logger.log("International user but domestic page. Using alternate international PubIds if available.")),isIntl=!0,onUSCNN=!0):(logsSent||(logsSent=!0,logger.log("International country code but domestic site.")),isIntl=!0):logsSent||(logsSent=!0,logger.log("Domestic site or country code."),isIntl=!1),isIntl},isUSCNN=function isUSCNN(){return isIntl(),logger.log("Is User on US.CNN.COM? ",onUSCNN),onUSCNN},setIsIntl=isIntl,setIsUSCNN=isUSCNN,merge=function merge(source,mods){var dest={};return keys$1(source).forEach((function(attrname){dest[attrname]=source[attrname]})),keys$1(mods).forEach((function(attrname){dest[attrname]=mods[attrname]})),dest},getTrackPerformance=function getTrackPerformance(){return new promise$1((function(resolve,reject){"undefined"!=typeof window&&!window.CNN||!window.jQuery?reject(new Error("trackPerformance not needed")):"undefined"!=typeof window&&window.CNN.Analytics&&window.CNN.Analytics.segment&&"function"==typeof window.CNN.Analytics.segment.trackPerformance?resolve():"undefined"!=typeof window&&"function"==typeof window.jQuery.fn.onSegmentReady?window.jQuery(document).onSegmentReady((function _handleSegmentReady(){resolve()})):reject(new Error("trackPerformance not available"))}))},adfuelEntries=[],queueEntry=function queueEntry(eventName){for(var entries="undefined"!=typeof window?window.performance.getEntriesByName("[ADFUEL] "+eventName):[],i=0;i<entries.length;i++)adfuelEntries.push(entries[i])},addMark=function addMark(name){"undefined"!=typeof window&&window.performance.mark("[ADFUEL] "+name)},addMeasure=function addMeasure(name,start,end){"undefined"!=typeof window&&window.performance.measure("[ADFUEL] "+name,"[ADFUEL] "+start,"[ADFUEL] "+end)},getMarks=function getMarks(){return"undefined"!=typeof window?window.performance.getEntriesByType("mark").filter((function(mark){return mark.name.indexOf("[ADFUEL]")})):[]},getMeasures=function getMeasures(){return"undefined"!=typeof window?window.performance.getEntriesByType("measure").filter((function(mark){return mark.name.indexOf("[ADFUEL]")})):[]};"undefined"!=typeof document&&addEvent(document,"AdFuelCreated",filterDFPRequest);var hasUserConsent="undefined"!=typeof window&&window.WM&&window.WM.UserConsent||!1,performance={adfuelEntries:adfuelEntries,getTrackPerformance:getTrackPerformance,mark:addMark,measure:addMeasure,marks:getMarks,measures:getMeasures,queueEntry:queueEntry,slotDetails:{}},loadError=function loadError(oError){throw new URIError("The script ".concat(oError.target.src," didn't load correctly."))},affixScriptToHead=function affixScriptToHead(url){var async=arguments.length>1&&void 0!==arguments[1]&&arguments[1],onloadFunction=arguments.length>2?arguments[2]:void 0,onerrorFunction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:loadError,newScript=document.createElement("script");newScript.async=async,newScript.onerror=onerrorFunction,onloadFunction&&(newScript.onload=onloadFunction);var targetNode=document.getElementsByTagName("head")[0];targetNode.insertBefore(newScript,targetNode.firstChild),newScript.src=url},waitForVideo=function waitForVideo(callback){var executedCallback=!1,observer=new MutationObserver((function(mutations){var videoElement=document.getElementsByTagName("video"),faveWrapper=document.getElementsByClassName("fave-wrapper"),topWrapper=document.getElementsByClassName("top-container");(videoElement.length||faveWrapper.length||topWrapper.length)&&(executedCallback||callback(),executedCallback=!0,observer.disconnect())}));observer.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0});var vElement=document.getElementsByTagName("video"),fWrapper=document.getElementsByClassName("fave-wrapper"),tWrapper=document.getElementsByClassName("top-container");(vElement.length||fWrapper.length||tWrapper.length)&&(callback(),executedCallback=!0,observer.disconnect())},hasVideo=function hasVideo(){var videoElement=document.getElementsByTagName("video"),faveWrapper=document.getElementsByClassName("fave-wrapper"),topWrapper=document.getElementsByClassName("top-container");return!!(videoElement.length||faveWrapper.length||topWrapper.length)},AdFuelUtils={addEvent:addEvent,addLogTracker:addLogTracker,affixScriptToHead:affixScriptToHead,bind:bind,cdnRoot:cdnRoot,clone:clone,consentStatus:void 0!==window.AdFuelUtils.consentStatus&&window.AdFuelUtils.consentChecked,consentChecked:void 0!==window.AdFuelUtils.consentChecked&&window.AdFuelUtils.consentChecked,countryCode:countryCode,debounce:debounce,disableLogging:disableLogging,enableLogging:enableLogging,gdprApplies:!1,getFullConsentState:getFullConsentState,getConsentVersion:getConsentVersion,getConsentString:getConsentString,getConsent:getConsent,getGDPRApplies:getGDPRApplies,getCCPAApplies:getCCPAApplies,getUserConsentRegion:getUserConsentRegion,getLocation:getLocation,generateCacheBuster:generateCacheBuster,getBrowser:getBrowser,getLogger:getLogger,getURLParam:getURLParam,getViewport:getViewport,hasCookie:hasCookie,hasOwn:hasOwn,hasUserConsent:hasUserConsent,hasVideo:hasVideo,isUSCNN:isUSCNN,isFunction:isFunction,isIntl:isIntl,isLoggingOn:isLoggingOn,isMobile:isMobile,isMonetized:isMonetized,isObject:isObject,keyMap:keyMap,logTrackers:window.AdFuelUtils.logTrackers||[],merge:merge,mergeDeep:mergeDeep,noop:noop,once:once,performance:performance,piiFilter:piiFilter,readCookie:readCookie,roundFloat:roundFloat,selectedEdition:selectedEdition,sendLogs:readCookie("AdFuel-Logging")?JSON.parse(readCookie("AdFuel-Logging")):{},setHostAndPathNames:setHostAndPathNames,setIsIntl:isIntl,waitForVideo:waitForVideo,__VERSION__:"v4.0.12"};window.AdFuelUtils=_objectSpread(_objectSpread({},window.AdFuelUtils),AdFuelUtils),exports.AdFuelUtils=AdFuelUtils,exports.IsMobile=IsMobile,exports.addEvent=addEvent,exports.addLogTracker=addLogTracker,exports.affixScriptToHead=affixScriptToHead,exports.cdnRoot=cdnRoot,exports.countryCode=countryCode,exports.disableLogging=disableLogging,exports.enableLogging=enableLogging,exports.generateCacheBuster=generateCacheBuster,exports.getBrowser=getBrowser,exports.getConsent=getConsent,exports.getConsentString=getConsentString,exports.getLogger=getLogger,exports.getURLParam=getURLParam,exports.getUserConsentRegion=getUserConsentRegion,exports.getViewport=getViewport,exports.hasCookie=hasCookie,exports.hasVideo=hasVideo,exports.isIntl=isIntl,exports.isLoggingOn=isLoggingOn,exports.isMonetized=isMonetized,exports.isUSCNN=isUSCNN,exports.mergeDeep=mergeDeep,exports.performance=performance,exports.piiFilter=piiFilter,exports.readCookie=readCookie,exports.sessionStorageAvail=sessionStorageAvail,exports.setCookie=setCookie,exports.setHostAndPathNames=setHostAndPathNames,exports.setIsIntl=setIsIntl,exports.setIsUSCNN=setIsUSCNN,exports.waitForVideo=waitForVideo,Object.defineProperty(exports,"__esModule",{value:!0})})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof3(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).AdFuelOptions=factory()}(void 0,(function(){return{ADFUEL:{AUTO_DISPATCH:!0,DEFAULT_TIMEOUT:800,DEFAULT_DESKTOP_TIMEOUT:800,DEFAULT_MOBILE_TIMEOUT:800,IFRAME_TITLE:"advertisement",NETWORK_ID:"8663477",REFRESH_ON_FOCUS_ONLY:!1,LAZY_LOAD_FETCH_PERCENT:500,LAZY_LOAD_RENDER_PERCENT:200,LAZY_LOAD_MOBILE_SCALING:2,COLLAPSE_EMPTY_DIVS:!0,DEBUG:!1,SITE_OBJECT:"NBA"},A9:{ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},DEBUG:!1,TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}},BEEMRAY:{API_KEY:"",CUSTOMER_ID:"",DEBUG:!1},BLOCKTHROUGH:{DEBUG:!1},CEP:{DEBUG:!1},CONSOLE_TOOL:{DEBUG:!1,HOTKEY:["Control","Shift","Z"]},CREATIVE_REVIEW:{DEBUG:!1,HOTKEY:"! d o h $",CONTACTS:["joseph.lazarski@warnermedia.com","jason.babbie@warnermedia.com"]},CRITEO:{DEBUG:!1,DESKTOP_TIMEOUT:750,DESKTOP_ZONES:{"320x50":1083217,"728x90":1083216,"970x90":1083218,"300x250":1083215},MOBILE_TIMEOUT:750,MOBILE_ZONES:{"300x250":1090830,"320x50":1090884},MULTISIZE_FIRST:"F",MULTISIZE_LARGEST:"L",MULTISIZE_ALL:"A",MULTISIZE_METHOD:"L",TIMEOUT:750},FASTLANE:{DEBUG:!1,DESKTOP_TIMEOUT:750,DOM_ACCOUNT_ID:11078,INTL_ACCOUNT_ID:11016,MOBILE_TIMEOUT:750,TIMEOUT:750},GUID:{DEBUG:!1},IAS:{ACCOUNT_IDS:{DOM:925660,INTL:925660},DEBUG:!1},IX:{DEBUG:!1,SCRIPT_KEY:{DOM:"186948-120271757110262",INTL:"186948-120271757110262"},IDENTITY:"186948-78534564703284"},IVR:{DEBUG:!1,DEFAULT_DISPLAY_MILLISECONDS:35e3,DEFAULT_DISPLAY_PERCENT:50},KRUX:{DEBUG:!1,DOM_CONTROLTAG:"ITcATbN4",INTL_CONTROLTAG:"ITcATbN4",SEND_VALUES_TO_ZION:!1},MALVERTISING:{DEBUG:!1,SITE_VENDOR:"CleanIO",SCRIPT_SRC:"//d2wt7w75gg2vz.cloudfront.net/script.js"},PREBID:{BIDDERS:{CLIENT:{DOM:["appnexus","rubicon","criteo","ix","trustx"],INTL:[]},NATIVE:{DOM:[],INTL:[]},S2S:{DOM:[],INTL:[]}},APPROVED_BIDDERS:{CLIENT:{DOM:["appnexus","rubicon","criteo","ix","trustx","triplelift"],INTL:["appnexus","pangaea","ix","rubicon","sharethrough","criteo"]},NATIVE:{DOM:["appnexus"],INTL:["appnexus","pangaea"]},S2S:{DOM:["ix"],INTL:["pangaea","sharethrough","ix"]}},DEBUG:!1,TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:500,MIDROLL:750,REFRESH:1e3}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:"7745",INTL:"8353"}},CRITEO:{ACCOUNT_ID:{DOM:4157,INTL:9264}},PANGAEA:{ACCOUNT_ID:{DOM:0,INTL:"8613"}},RUBICON:{ACCOUNT_ID:{DOM:"11078",INTL:"11016"},SITE_ID:{DOM:{DESKTOP:27048,MOBILE:67294},INTL:{DESKTOP:27048,MOBILE:67294}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{atf:107850,btf:189024},ROS:{atf:107852,btf:107854}},MOBILE:{HP:{atf:317488,btf:317488},ROS:{atf:317488,btf:317488}}},INTL:{DESKTOP:{HP:{atf:107850,btf:189024},ROS:{atf:107852,btf:107854}},MOBILE:{HP:{atf:317488,btf:317488},ROS:{atf:317488,btf:317488}}}}},IX:{IDENTITY:"",SITE_ID:{DOM:{DESKTOP:{atf:{"728x90":"346983","320x50":"346983","970x90":"346983","300x250":"346987"},btf:{"300x250":"346988","728x90":"346983","320x50":"346983","970x90":"346983"}},MOBILE:{atf:{"320x50":"346989","300x250":"346991"},btf:{"300x250":"346992","320x50":"346990"}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{"300x600":"540601644","728x90":"540601583","970x90":"540601583"},MOBILE:{"320x50":"540601588","300x250":"540601590"}},INTL:{DESKTOP:{},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},TRUSTX:{UID:{DOM:{DESKTOP:{atf:{"300x250":14829,"970x250":14832,"970x90":14833,"728x90":14834,"320x50":14835},btf:{"300x250":14829,"970x250":14832,"970x90":14833,"728x90":14834,"320x50":14835}},MOBILE:{atf:{"320x50":14830,"300x250":14831},btf:{"320x50":14830,"300x250":14831}}},INTL:{DESKTOP:{atf:{},btf:{}},MOBILE:{atf:{},btf:{}}}}},DISTRICTM:{PID:{DOM:0,INTL:0}},TRIPLELIFT:{MAPPINGS:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},KARGO:{MAPPINGS:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}}},SEND_ALL_BIDS:{DOM:!0,INTL:!0}},PROXIMIC:{DEBUG:!1},SOURCEPOINT:{DEBUG:!1},SSAI:{DEBUG:!1,SITE_VENDORS:[],VENDORS:{AppNexus:{URL:"https://ib.adnxs.com/getuid?https://umto.{{domain}}/user-sync?zwmc=$UID&domain={{domain}}",COOKIE_NAME:"zwmc"},Freewheel:{URL:"https://bea4.v.fwmrm.net/ad/u?mode=echo&cr=https://umto.{{domain}}/user-sync?bea4=#{user.id}&domain={{domain}}",COOKIE_NAME:"bea4"},Rubicon:{URL:"https://pixel-us-east.rubiconproject.com/exchange/sync.php?p={{brand}}",COOKIE_NAME:"ifyr"},SpotX:{URL:"https://sync.search.spotxchange.com/audience_id",COOKIE_NAME:"hkgc"},Telaria:{URL:"https://eq97f.publishers.tremorhub.com/pubsync?redir=https://umto.{{domain}}/user-sync?goiz=%5Btvid%5D&domain={{domain}}",COOKIE_NAME:"goiz"}}},TRANSACTION_ID:{DEBUG:!1},USER_CONSENT:{ENABLED:!0,DEBUG:!1,COOKIE_DOMAIN:".nba.com",ONETRUST_GUID:"7992f959-c30b-4bc2-a2b7-50dbd02eb075-test",ONETRUST_SRC:"//otcc-demo.otprivacy.com/scripttemplates/otSDKStub.js"},VERSION:1.2,NAME:"nba",Krux:{DEBUG:!1,DOM_CONTROLTAG:"ITcATbN4",INTL_CONTROLTAG:"ITcATbN4",SEND_VALUES_TO_ZION:!1}}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).IndexExchangeIdentity=factory()}(void 0,(function(){var MODULE_NAME="Index Exchange Identity",MODULE_VERSION="1.1.1",MODULE_LOG_TAG="ix",getConsent=window.AdFuelUtils.getConsent,getUserConsentRegion=window.AdFuelUtils.getUserConsentRegion,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,logger,initEventSet,scriptAdded=!1,includeIndexIdentityWrapper=function includeIndexIdentityWrapper(key){var consentRegion=getUserConsentRegion();if("ccpa"===consentRegion){logger.log("Checking User Consent...");var consentStatus=getConsent();logger.log("User Consent Granted: ",consentStatus),consentStatus&&!scriptAdded&&(!function(){function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,(function(e){return i(t[s][1][e]||e)}),f,f.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}return e}()({1:[function(e,t,r){function n(e){function t(e,t){return m[e]=E.IN_PROGRESS,new u((function(r){t.instance.retrieve().then((function(){m[e]=E.COMPLETE,r()})).catch((function(t){m[e]=E.COMPLETE,r()}))}))}function r(){for(var e=[],r=u.defer(),n=Object.keys(g);n.length;){var o=f.randomSplice(n),s=g[o];if(s.enabled)try{e.push(t(o,s))}catch(e){}}return u.all(e).then((function(){i.emit("rti_partner_request_complete",{requestsCompleted:e.length}),r.resolve()})),r}function n(){for(var e in m)m.hasOwnProperty(e)&&m[e]!==E.COMPLETE&&i.emit("hs_identity_timeout",{statsId:g[e].instance.getStatsId()})}function p(){var e={};for(var t in b||(b=!0,n()),g)if(g.hasOwnProperty(t)){var r=g[t];if(r.enabled){var i=r.instance.getResults();m[t]===E.COMPLETE?(e[t]=i?{data:i}:{data:{}},e[t].responsePending=!1):e[t]={data:{},responsePending:!0}}}return e}function v(){y===E.NOT_STARTED&&(_=r(),y=E.IN_PROGRESS)}var h,g,y,m,_,E={NOT_STARTED:0,IN_PROGRESS:1,COMPLETE:2},b=!1;return function(){i=c.services.EventsService,o=c.services.TimerService,h=a(),y=E.NOT_STARTED,m={},g=e.partners;for(var t=Object.keys(g),n=t.length-1;n>=0;n--){var s=f.randomSplice(t),u=g[s];if(u.enabled)try{var _=d[s];if(f.isObject(_)?u.instance=l(_,u.configs):u.instance=_(u.configs),!u.instance){u.enabled=!1;continue}m[s]=E.NOT_STARTED}catch(e){u.enabled=!1}}h._setDirectInterface("IdentityLayer",{retrieve:v,getAllPartnerResults:p,invokeAllPartners:r})}(),s.derive(h,{retrieve:v})}var i,o,s=e(5),a=e(2),u=e(10),c=e(29),f=e(14),l=e(19),d={AdserverOrgIp:e(18),LiveRampIp:e(20),MerkleIp:e(21)};t.exports=n},{}],2:[function(e,t,r){function n(){function e(e,t){return i.resolve(t)}function t(e,t){(u={})[e]=t}function r(e){c=e}function n(){return u}function o(e){f=e}function s(e,t){return f(e,t)}function a(e,t){return i.resolve().then((function(){return c(e,t)}))}var u,c,f;return u=null,c=e,f=e,{_setDirectInterface:t,_setExecutor:r,_executeNext:s,setNext:o,getDirectInterface:n,execute:a}}var i=e(10);e(15),t.exports=n},{}],3:[function(e,t,r){e(15),t.exports=function(){function e(e,t){return e=e||"http:",t=t||"https:","https:"===document.location.protocol?t:e}function t(){return("CSS1Compat"===m.document.compatMode?m.document.documentElement:m.document.body).clientWidth}function r(){return("CSS1Compat"===m.document.compatMode?m.document.documentElement:m.document.body).clientHeight}function n(){return m.screen.width}function i(){return m.screen.height}function o(){return document.referrer}function s(){return m.location.hostname}function a(){return navigator.userAgent}function u(){return navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage}function c(){return m.location.pathname}function f(){try{return window.top===window.self}catch(e){return!1}}function l(){return f()?location.href:document.referrer||location.href}function d(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}function p(e,t,r,n){try{for(var i,o=window,s=0;;)if(!(r&&s<r)){if(n&&s>n)break;if(e&&(i=e(o)))return i;var a;try{a=o.frameElement}catch(e){a=null}if(null===a){if(t&&(i=t(o)))return i;break}o=o.parent,s++}}catch(e){}return null}function v(e){return p((function(t){return t.hasOwnProperty(e)?t[e]:null}))}function h(e,t){var r=t||m,n=r.document.createElement("iframe");return e&&(n.src=e),n.width=0,n.height=0,n.scrolling="no",n.marginWidth=0,n.marginHeight=0,n.frameBorder=0,n.setAttribute("style","border: 0px; vertical-align: bottom; visibility: hidden; display: none;"),r.document.body.appendChild(n),n}function g(e){var t=e+"=",r=m.document.cookie.split(";");for(var n in r)if(r.hasOwnProperty(n)){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}function y(){var e=!1;try{new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=!0)}return e}var m;return{topWindow:m=p(null,(function(e){return e})),getProtocol:e,isLocalStorageSupported:d,getViewportWidth:t,getViewportHeight:r,isTopFrame:f,getScreenWidth:n,getScreenHeight:i,getReferrer:o,getPageUrl:l,getHostname:s,getUserAgent:a,getLanguage:u,getPathname:c,getNearestEntity:v,traverseContextTree:p,createHiddenIFrame:h,readCookie:g,isFlashSupported:y}}()},{}],4:[function(e,t,r){var n=e(3),i=e(14),o=e(13);t.exports=function(){function e(e){if(!a)return!1;try{localStorage.removeItem(u+e)}catch(e){return!1}return!0}function t(t){if(!a)return null;var r;try{r=JSON.parse(localStorage.getItem(u+t))}catch(e){return null}return null===r?null:!r.e||r.e<o.now()?(e(t),null):i.isObject(r.d)?{data:r.d,created:r.t,expires:r.e}:null}function r(e){var r=t(e);return r&&r.data}function s(e,t,r){if(!a)return!1;r>c&&(r=c);var n=o.now(),i={t:n,d:t,e:n+r};try{localStorage.setItem(u+e,JSON.stringify(i))}catch(e){return!1}return!0}var a,u="IXWRAPPER",c=6048e5;return a=n.isLocalStorageSupported(),{deleteData:e,getEntry:t,getData:r,setData:s}}()},{}],5:[function(e,t,r){e(15),t.exports=function(){function e(e){for(var t in e)e.hasOwnProperty(t)&&"_"===t[0]&&"__"!==t.slice(0,2)&&delete e[t];return e}function t(t,r){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return e(i)}return{derive:t}}()},{}],6:[function(e,t,r){function n(e){function t(e){if(i.isFunction(e))try{e()}catch(e){}}return function(){if(i.isArray(e))for(var t=0;t<e.length;t++)try{e[t]()}catch(e){}}(),{push:t}}var i=e(14);t.exports=n},{}],7:[function(e,t,r){var n={DEFAULT_UID_LENGTH:8,MIN_BANNER_DIMENSION:1,MIN_BID_FLOOR:0,MIN_SITE_ID:0,DEFAULT_UID_CHARSET:"ALPHANUM",SESSION_ID_LENGTH:8,PUBKIT_AD_ID_LENGTH:16,RENDER_SERVICE_EXPIRY_SWEEP_TIMER:3e4,DEFAULT_PARTNER_PRIORITY:1,LineItemTypes:{ID_AND_SIZE:1,ID_AND_PRICE:2,CUSTOM:3},DeviceTypeMethods:{USER_AGENT:1,REFERENCE:2,SIZE_MAPPING:3},RequestArchitectures:{MRA:1,SRA:2},InitialLoadStates:{DISABLED:1,ENABLED:2},MediationLevels:{NONE:1,HT_SLOT:2,PARTNER:3}};t.exports=n},{}],8:[function(e,t,r){function n(e){function t(){return a.mobile()?n.DeviceTypes.MOBILE:(a.tablet(),n.DeviceTypes.DESKTOP)}function r(){var t;try{t=eval(e.configs.reference)}catch(e){throw s("INTERNAL_ERROR","DeviceTypeChecker: could not eval() `reference`.")}if(!o.isFunction(t)){if(o.isString(t))return t;throw s("INVALID_TYPE","DeviceTypeChecker: `reference` must refer to a function or a string")}try{return t()}catch(e){throw s("INTERNAL_ERROR","DeviceTypeChecker: could not execute `reference` function.")}}function u(){switch(c){case i.DeviceTypeMethods.USER_AGENT:return t();case i.DeviceTypeMethods.REFERENCE:return r();default:return t()}}var c;return c=i.DeviceTypeMethods[e.method]||i.DeviceTypeMethods.USER_AGENT,{getDeviceType:u}}var i=e(7),o=e(14),s=e(15),a=e(9);n.isValidDeviceType=function(e){for(var t in n.DeviceTypes)if(n.DeviceTypes.hasOwnProperty(t)&&"TABLET"!==t&&e===n.DeviceTypes[t])return!0;return!1},n.DeviceTypes={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"},t.exports=n},{}],9:[function(e,t,r){var n,i,o;n={},o=window.navigator.userAgent.toLowerCase(),n.ios=function(){return n.iphone()||n.ipod()||n.ipad()},n.iphone=function(){return!n.windows()&&i("iphone")},n.ipod=function(){return i("ipod")},n.ipad=function(){return i("ipad")},n.android=function(){return!n.windows()&&i("android")},n.androidPhone=function(){return n.android()&&i("mobile")},n.androidTablet=function(){return n.android()&&!i("mobile")},n.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},n.blackberryPhone=function(){return n.blackberry()&&!i("tablet")},n.blackberryTablet=function(){return n.blackberry()&&i("tablet")},n.windows=function(){return i("windows")},n.windowsPhone=function(){return n.windows()&&i("phone")},n.windowsTablet=function(){return n.windows()&&i("touch")&&!n.windowsPhone()},n.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},n.fxosPhone=function(){return n.fxos()&&i("mobile")},n.fxosTablet=function(){return n.fxos()&&i("tablet")},n.meego=function(){return i("meego")},n.mobile=function(){return n.androidPhone()||n.iphone()||n.ipod()||n.windowsPhone()||n.blackberryPhone()||n.fxosPhone()||n.meego()},n.tablet=function(){return n.ipad()||n.androidTablet()||n.blackberryTablet()||n.windowsTablet()||n.fxosTablet()},n.desktop=function(){return!n.tablet()&&!n.mobile()},i=function i(e){return-1!==o.indexOf(e)},t.exports=n},{}],10:[function(e,t,r){function n(){}function i(e){if("object"!=_typeof2(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function o(e,t){for(;3===e._state;)e=e._value;if(0!==e._state){e._handled=!0;var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void a(t.promise,e)}s(t.promise,n)}else(1===e._state?s:a)(t.promise,e._value)}else e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==_typeof2(t)||"function"==typeof t)){var r=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof r)return void f(bind(r,t),e)}e._state=1,e._value=t,u(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){for(var t=0,r=e._deferreds.length;t<r;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function f(e,t){var r=!1;try{e((function(e){r||(r=!0,s(t,e))}),(function(e){r||(r=!0,a(t,e))}))}catch(e){if(r)return;r=!0,a(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var r=new this.constructor(n);return o(this,new c(e,t,r)),r},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,r){function n(o,s){try{if(s&&("object"==_typeof2(s)||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){n(o,e)}),r)}t[o]=s,0==--i&&e(t)}catch(e){r(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)n(o,t[o])}))},i.resolve=function(e){return e&&"object"==_typeof2(e)&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,r){r(e)}))},i.defer=function(){var e={};return e.promise=new i((function(t,r){e.resolve=t,e.reject=r})),e},t.exports=i},{}],11:[function(e,t,r){t.exports=function(e){e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r={},n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0"};return n.browser&&(r[n.browser]=!0,r.version=n.version,r.versionNumber=parseInt(n.versionNumber,10)),(r.rv||r.iemobile)&&(n.browser="msie",r.msie=!0),r.edge&&(delete r.edge,n.browser="msedge",r.msedge=!0),r.opr&&(n.browser="opera",r.opera=!0),r.safari&&r.android&&(n.browser="android",r.android=!0),r.safari&&r.kindle&&(n.browser="kindle",r.kindle=!0),r.safari&&r.silk&&(n.browser="silk",r.silk=!0),r.name=n.browser,r}(window.navigator.userAgent)},{}],12:[function(e,t,r){var n=e(29),i=e(13),o=e(14),s=e(15),a=e(11);t.exports=function(){function e(){return l}function t(e){var t="";for(var r in e)if(e.hasOwnProperty(r))if(o.isObject(e[r]))for(var n in e[r])e[r].hasOwnProperty(n)&&(t+=r+"%5B"+n+"%5D="+encodeURIComponent(e[r][n])+"&");else if(o.isArray(e[r]))for(var i=0;i<e[r].length;i++)t+=r+"%5B%5D="+encodeURIComponent(e[r][i])+"&";else t+=r+"="+encodeURIComponent(e[r])+"&";return t.slice(0,-1)}function r(e,r,n){return"/"!==e[e.length-1]&&r&&(e+="/"),r=r||[],o.isObject(n)&&(n=t(n)),n=n?"?"+n:"",e+r.join("/")+n}function u(e){var s,u=null,c=e.scope||window;if(e.useImgTag)s=c.document.createElement("img");else{(s=c.document.createElement("script")).type="text/javascript";var f=!0;e.hasOwnProperty("async")&&(f=e.async),s.async=f}var l=e.url,d;e.data&&(d=o.isString(e.data)?e.data:t(e.data),l=r(e.url,null,d));var p,v=!1,h=function h(){try{if(v)return;v=!0,e.onTimeout&&e.onTimeout(),e.useImgTag||e.continueAfterTimeout||s.parentNode.removeChild(s)}catch(e){}};e.globalTimeout&&n.services.TimerService.addTimerCallback(e.sessionId,h),e.timeout&&(p=setTimeout(h,e.timeout));var g=function g(){try{if(v){if(!e.continueAfterTimeout)return}else clearTimeout(p);e.onSuccess&&e.onSuccess(null,i.now(),v),v=!0,e.useImgTag||s.parentNode.removeChild(s)}catch(e){}};null===s.onload?s.onload=g:s.onreadystatechange=function(){"loaded"!==s.readyState&&"complete"!==s.readyState||(s.onreadystatechange=null,g())};var y=function y(){try{if(v){if(!e.continueAfterTimeout)return}else clearTimeout(p),v=!0;e.onFailure&&e.onFailure(),e.useImgTag||s.parentNode.removeChild(s)}catch(e){}};if(s.onerror=y,u=i.now(),s.src=l,!e.useImgTag){var m=c.document.getElementsByTagName("script")[0];m?m.parentNode.insertBefore(s,m):a.msie||a.msedge||a.mozilla?c.onload=function(){c.document.body.appendChild(s)}:c.document.body.appendChild(s)}return u}function c(a){if(!e()){if(a.jsonp&&"GET"===a.method)return u(a);throw s("INTERNAL_ERROR","XHR is not supported in this browser.")}var c=null,f,l=new(a.scope||window).XMLHttpRequest,d=a.url,p=null;if(a.data)if("GET"===a.method){var v;v=o.isString(a.data)?a.data:t(a.data),d=r(a.url,null,v)}else"POST"===a.method&&(p=o.isString(a.data)?a.data:JSON.stringify(a.data));var h=!0;a.hasOwnProperty("async")&&(h=a.async),l.open(a.method,d,h);var g="application/x-www-form-urlencoded; charset=UTF-8";if(void 0!==a.contentType&&(g=a.contentType),g&&l.setRequestHeader("Content-Type",g),a.headers)for(var y in a.headers.hasOwnProperty("X-Request-With")||l.setRequestHeader("X-Request-With","XMLHttpRequest"),a.headers)a.headers.hasOwnProperty(y)&&l.setRequestHeader(y,a.headers[y]);a.withCredentials&&(l.withCredentials=!0);var m,_=!1,E=function E(){try{if(_)return;_=!0,a.onTimeout&&a.onTimeout()}catch(e){}};return a.globalTimeout&&n.services.TimerService.addTimerCallback(a.sessionId,E),a.timeout&&(a.continueAfterTimeout?m=setTimeout(E,a.timeout):(l.timeout=a.timeout,l.ontimeout=E)),(a.onSuccess||a.onFailure)&&(l.onreadystatechange=function(){if(4===l.readyState){if(_){if(!a.continueAfterTimeout)return}else clearTimeout(m),l.ontimeout=null;if(200===l.status){if(a.onSuccess)try{a.onSuccess(l.responseText,i.now(),_)}catch(e){}}else if(a.onFailure)try{a.onFailure(l.status)}catch(e){}_=!0}}),c=i.now(),l.send(p),c}function f(e){return e.useImgTag=!0,u(e)}var l;return l=window.XMLHttpRequest&&"string"==typeof(new XMLHttpRequest).responseType,{ajax:c,jsonp:u,img:f,buildUrl:r,objToQueryString:t,isXhrSupported:e}}()},{}],13:[function(e,t,r){var n=e(7);e(15),t.exports=function(){function e(e,t){e.open("text/html","replace"),e.write(t),e.close()}function t(e,t){e=e||n.DEFAULT_UID_LENGTH,t=t||n.DEFAULT_UID_CHARSET;for(var r="",i=0;i<e;i++)r+=u[t].charAt(Math.floor(Math.random()*u[t].length));return r}function r(){return t(8,"HEX")+"-"+t(4,"HEX")+"-4"+t(3,"HEX")+"-"+"89ab".charAt(Math.floor(4*Math.random()))+t(3,"HEX")+"-"+t(8,"HEX")}function i(){return(new Date).getTime()}function o(){return a.getTimezoneOffset()}function s(){}var a,u={ALPHANUM:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ALPHA_UPPER:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",ALPHA_LOWER:"abcdefghijklmnopqrstuvwxyz",HEX:"0123456789abcdef",NUM:"0123456789"};return a=new Date,{UidCharacterSets:u,generateUniqueId:t,generateUuid:r,now:i,getTimezoneOffset:o,documentWrite:e,noOp:s}}()},{}],14:[function(e,t,r){var n=e(15);t.exports=function(){function e(e){return void 0===e?"undefined":{}.toString.call(e).match(A)[1].toLowerCase()}function t(t){return"string"===e(t)}function r(t){return"number"===e(t)&&!isNaN(t)}function i(t){return"number"===e(t)||"string"===e(t)&&!isNaN(Number(t))}function o(e){return r(e)&&e%1==0}function s(t){return"function"===e(t)}function a(t){return"boolean"===e(t)}function u(t){return"object"===e(t)}function c(t){return"regexp"===e(t)}function f(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}function l(r,i,o){if("array"!==e(r))return!1;if(void 0!==i){if(!t(i))throw n("INVALID_TYPE","`type` must be a string");if("class"===i){if(!t(o))throw n("INVALID_TYPE","`className` must be a string");for(var s=0;s<r.length;s++)if("object"!=_typeof2(r[s])||r[s].__type__!==o)return!1}else for(var a=0;a<r.length;a++)if(e(r[a])!==i)return!1}return!0}function d(e){return e.length?e.splice(Math.floor(Math.random()*e.length),1)[0]:null}function p(e){var t,r,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e}function v(e){return JSON.parse(JSON.stringify(e))}function h(){for(var e=Array.prototype.slice.call(arguments),t={},r=0;r<e.length;r++)for(var n in e[r])e[r].hasOwnProperty(n)&&(t[n]=e[r][n]);return t}function g(){for(var e=Array.prototype.slice.call(arguments),t=[],r=0;r<e.length;r++)for(var n=0;n<e[r].length;n++)t.push(e[r][n]);return t}function y(e){if(t(e)){if(""!==e)return!1}else if(u(e)){for(var r in e)if(e.hasOwnProperty(r))return!1}else{if(!l(e))throw n("INVALID_TYPE","`entity` must be either a string, object, or an array");if(e.length)return!1}return!0}function m(e,t,r){void 0===r&&(r=O);for(var n=0;n<e.length;n++){for(var i=!1,o=0;o<t.length&&!(i=r(e[n],t[o]));o++);if(!i)return!1}return!0}function _(e,t,r,n){return t=t||[],n=n||null,function(){try{e.apply(n,t)}catch(e){}}}function E(e,t){var r=""+e;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0==r.length||0==t)return"";if(r.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var n="",i=0;i<t;i++)n+=r;return n}function b(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):((t-=e.length)>r.length&&(r+=E(r,t/r.length)),r.slice(0,t)+String(e))}function w(e,t,r){return t>>=0,r=String(r||" "),e.length>t?String(e):((t-=e.length)>r.length&&(r+=E(r,t/r.length)),String(e)+r.slice(0,t))}function T(e,t){t=t||null;try{return eval.call(t,e)}catch(e){}return null}function S(e,t,r){r=r||null;try{return eval.call(r,e+"("+t.join()+")")}catch(e){}return null}function I(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=1;r<e.length;r++)Array.prototype.push.apply(t,e[r]);return t}function P(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=1;r<e.length;r++){var n=e[r];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}var A=/\s([a-zA-Z]+)/,O=function O(e,t){return e===t};return{randomSplice:d,shuffle:p,deepCopy:v,mergeObjects:h,mergeArrays:g,isArray:l,isEmpty:y,isInteger:o,isString:t,isNumeric:i,isRegex:c,isNumber:r,isBoolean:a,isFunction:s,isObject:u,isArraySubset:m,getType:e,tryCatchWrapper:_,arrayDelete:f,repeatString:E,padStart:b,padEnd:w,evalVariable:T,evalFunction:S,appendToArray:I,appendToObject:P}}()},{}],15:[function(e,t,r){function n(e,t){return new Error(e+": "+t)}n.ErrorTokens={MISSING_ARGUMENT:1,INVALID_TYPE:2,INVALID_VALUE:3,MISSING_PROPERTY:4,NUMBER_OUT_OF_RANGE:5,EMPTY_ENTITY:6,INTERNAL_ERROR:7,DUPLICATE_ENTITY:8,INVALID_ARGUMENT:9,INVALID_CONFIG:10},t.exports=n},{}],16:[function(e,t,r){function n(e){function t(){return r}var r;return function(){o.DeviceTypeChecker=i(e.DeviceTypeChecker),r={Services:{},Layers:{}};for(var t=0;t<a.length;t++){var n=a[t].name,c=a[t].constructor(e.Services[n]);c&&(o.services[n]=c,c.getDirectInterface&&c.getDirectInterface()&&(r.Services=s.mergeObjects(r.Services,c.getDirectInterface())))}for(var f,l=e.Layers.length-1;l>=0;l--){var d=e.Layers[l].layerId,p=u[d](e.Layers[l].configs);p.getDirectInterface()&&(r.Layers=s.mergeObjects(r.Layers,p.getDirectInterface())),f&&p.setNext(f.execute),f=p}}(),{getDirectInterface:t}}var i=e(8),o=e(29),s=e(14),a=(e(15),[{name:"EventsService",constructor:e(22)},{name:"GptService",constructor:e(25)},{name:"PublisherSonarService",constructor:e(26)},{name:"HeaderStatsService",constructor:e(23)},{name:"TimerService",constructor:e(27)},{name:"ComplianceService",constructor:e(24)}]),u={IdentityLayer:e(1)};t.exports=n},{}],17:[function(e,t,r){function n(){function e(e){for(var t="",r=0;r<e.length-3;r++)t+=String.fromCharCode(e.charCodeAt(r)-4);return t}function t(t,r){var o=e(r.partner),u=r.sessionId,p=r.status;if(u&&"success"===p){var v=s.now();if(l[u]===g.DONE){var h=i.getData(n.STORAGE_KEY_NAME);if(null===h||!h.hasOwnProperty("prt")||!a.isArray(h.prt))return;h=h.prt;for(var y=0;y<h.length;y++)if(h[y].sId===u&&h[y].sst){h[y].rt.hasOwnProperty(o)||(h[y].rt[o]=[]),h[y].rt[o].unshift(v-h[y].sst),i.setData(n.STORAGE_KEY_NAME,{prt:h},d);break}}else{if(!c[u])return;f.hasOwnProperty(u)||(f[u]={}),f[u].hasOwnProperty(o)||(f[u][o]=[]),f[u][o].push(v-c[u])}}}function r(e){var t=e.length;if(0===t)return 0;for(var r=0,n=0;n<t;n++)r+=e[n];return r/t}function u(e){var t=i.getData(n.STORAGE_KEY_NAME);if(null===t||!t.hasOwnProperty("prt")||!a.isArray(t.prt)||0===t.prt.length)return e;t=t.prt;for(var o=[],s=0;s<t.length;s++)if(t[s].hasOwnProperty("rt"))for(var u in t[s].rt)if(t[s].rt.hasOwnProperty(u)){var c=r(t[s].rt[u]);0!==c&&o.push(c)}var f=r(o);if(0===f)return e;for(var l=o.length,d=0,g=0;g<l;g++)d+=Math.pow(o[g]-f,2);d=Math.sqrt(d/l);var y=Math.floor(f+2*d+p),m=Math.floor(e*v),_=Math.floor(e*h);return y<m?y=m:y>_&&(y=_),y}var c,f,l,d=6048e5,p=100,v=.8,h=3,g={IPR:0,DONE:1},y={hs_session_start:function hs_session_start(e){var t=e.sessionId;c.hasOwnProperty(t)&&l[t]===g.IPR||(c[t]=s.now(),l[t]=g.IPR)},hs_session_end:function hs_session_end(e){var t=e.sessionId;if(c[t]&&l[t]===g.IPR){l[t]=g.DONE;var r=i.getData(n.STORAGE_KEY_NAME);null!==r&&r.hasOwnProperty("prt")&&a.isArray(r.prt)?(r=r.prt).length>=5&&r.pop():r=[],r.unshift({sId:t,sst:c[t],rt:f[t]||{}}),i.setData(n.STORAGE_KEY_NAME,{prt:r},d),delete f[t],delete c[t]}},partner_request_complete:function partner_request_complete(e){t("partner_request_complete",e)}};return function(){for(var e in y)y.hasOwnProperty(e)&&o.services.EventsService.on(e,y[e]);l={},f={},c={}}(),{getTimeout:u}}var i=e(4),o=e(29),s=e(13),a=e(14);n.STORAGE_KEY_NAME="lib_mem",t.exports=n},{}],18:[function(e,t,r){function n(){var e={ttd_pid:a,fmt:u,p:o.configs.publisherId};o.Utilities.ajax({url:o.Utilities.getProtocol()+s,method:"GET",data:e,onSuccess:function onSuccess(e){try{var t=JSON.parse(e);if(!t.TDID)return void o.registerError("response does not contain TDID");var r=[];for(var n in t)t.hasOwnProperty(n)&&r.push({id:t[n],ext:{rtiPartner:n}});o.registerMatch({source:c.source,uids:r})}catch(e){o.registerError("response is not valid JSON")}},onFailure:function onFailure(e){o.registerError("API returned error response "+e)}})}function i(e){(o=e).onRetrieve(n)}var o,s="//match.adsrvr.org/track/rid",a="casale",u="json",c={partnerId:"AdserverOrgIp",statsId:"ADSORG",version:"1.3.0",source:"adserver.org",cacheExpiry:{match:6048e5,pass:864e5,error:864e5},targetingKeys:{exchangeBidding:"ixpid_1"}};t.exports={type:"identity",api:"1",main:i,profile:c}},{}],19:[function(e,t,r){function n(e,t){function r(e){return!!(e&&e.uids&&p.isString(e.source)&&p.isArray(e.uids))&&e.uids.every((function(e){return Boolean(!p.isEmpty(e)&&e.id)}))}function n(e,t){var r={match:"hs_identity_response",pass:"hs_identity_pass",error:"hs_identity_error"}[e];o.emit(r,{statsId:L}),o.emit("ip_module_result_"+x,e,t),"match"===e&&(C=t)}function v(e,t){if(!q){q=!0;var r={response:e,version:D.version};"pass"!==e&&(r.data=t),Object.keys(U).length&&(r.consent=U);var i=D.cacheExpiry[e];u.setData(F,r,i),n(e,t),j&&j()}}function h(e){if(!i.isPrivacyEnabled())return null;if("gdpr"===e){var t=i.gdpr.getConsent();return t&&t.consentString&&(U.gdpr=!0),t}return null}function g(e){var t=u.getData(e);return t&&"match"===t.response&&t.data?t.data:null}function y(e){var t={url:e.url,method:e.method,async:!0,withCredentials:!0,jsonp:!1,continueAfterTimeout:!1,timeout:e.timeout||0};return e.onSuccess&&(t.onSuccess=e.onSuccess),e.onTimeout&&(t.onTimeout=e.onTimeout),e.onFailure&&(t.onFailure=e.onFailure),void 0!==e.data&&(t.data=e.data),void 0!==e.contentType&&(t.contentType=e.contentType),c.ajax(t)}function m(){return D.sonar&&D.sonar.enabled?s.getSonarPayload(D.sonar.entrypoints):{}}function _(e){k=e}function E(e){return Boolean(D.sonar&&D.sonar.enabled&&s.getLastUpdated(m())>e.created)}function b(e){return!(!D.consent||!i.isPrivacyEnabled())&&(!e.data.consent||!p.isArraySubset(Object.keys(D.consent),Object.keys(e.data.consent)))&&i.wait().then((function(){return Object.keys(D.consent).some((function(t){if(e.data.consent&&e.data.consent[t])return!1;var r=i[t].getConsent();return r&&r.consentString}))}))}function w(e){return e.data.version!==D.version}function T(e){return!r(e.data.data)}function S(){return D.consent&&i.isPrivacyEnabled()?i.wait():null}function I(){var e=u.getEntry(F);return f.resolve().then((function(){if(!e)return null;var t=H[e.data.response];return t?f.all(t.map((function(t){return t.call(null,e)}))):null})).then((function(t){return!t||t.indexOf(!0)>-1?null:(o.emit("hs_identity_cached",{statsId:L}),n(e.data.response,e.data.data),e.data)}))}function P(){return f.resolve().then((function(){return f.all(G.map((function(e){return e.call()})))})).then((function(){return new f((function(e){o.emit("hs_identity_request",{statsId:L}),q=!1,j=e,o.emit("ip_module_retrieve_"+x)}))}))}function A(){return L}function O(){return C}function N(){if(k)return k;if(C&&p.isArray(C.uids)&&C.uids.length&&C.uids[0].id){var e={};return e[D.targetingKeys.exchangeBidding]=C.uids[0].id,e}return null}function R(){return I().then((function(e){return e?null:P()}))}var D,x,L,M,C,k,U,j,F,q,H={match:[E,T],pass:[E,b,w],error:[w]},G=[S];return i=l.services.ComplianceService,o=l.services.EventsService,s=l.services.PublisherSonarService,D=e.profile,x=D.partnerId,L=D.statsId,C=null,k=null,j=null,F=x,U={},M={Utilities:{buildUrl:c.buildUrl,getPageUrl:a.getPageUrl,getProtocol:a.getProtocol,getReferrer:a.getReferrer,getTime:d.now,getType:p.getType,isArray:p.isArray,isEmpty:p.isEmpty,isFunction:p.isFunction,isInteger:p.isInteger,isNumeric:p.isNumeric,isString:p.isString,isObject:p.isObject,isTopFrame:a.isTopFrame,isXhrSupported:c.isXhrSupported,ajax:y,getConsent:h,getIdentityResultFrom:g,getPublisherSonarData:m},onRetrieve:o.on.bind(null,"ip_module_retrieve_"+x),onResult:o.on.bind(null,"ip_module_result_"+x),registerMatch:v.bind(null,"match"),registerPass:v.bind(null,"pass"),registerError:v.bind(null,"error"),registerEbTargeting:_,configs:t},e.main(M),{getStatsId:A,getResults:O,getTargets:N,retrieve:R}}var i,o,s,a=e(3),u=e(4),c=e(12),f=e(10),l=e(29),d=e(13),p=e(14);t.exports=n},{}],20:[function(e,t,r){function n(){var e={pid:a,rt:"envelope"},t=o.Utilities.getConsent("gdpr");t&&t.consentString&&(e[d.consent.gdpr]=t.consentString,e[f]=l);var r=[],n=d.sonar.entrypoints[0].key,i=o.Utilities.getPublisherSonarData();i&&i.hasOwnProperty(n)&&(e[n]=i[n].data,e[u]=c,r.push(i[n].meta)),o.Utilities.ajax({url:o.Utilities.getProtocol()+s,method:"GET",data:e,onSuccess:function onSuccess(e){try{var t,n=JSON.parse(e);if(!o.Utilities.isObject(n))return void o.registerError("invalid response");if(o.Utilities.isEmpty(n))return void o.registerPass();if(!n.hasOwnProperty("envelope"))return void o.registerError("invalid envelope object");if(o.Utilities.isEmpty(n.envelope))return void o.registerPass();t={source:d.source,uids:[{id:n.envelope,ext:{rtiPartner:"idl"}}]},r.length&&(t.ext={sonar:r}),o.registerMatch(t)}catch(e){o.registerError("response is not valid JSON")}},onFailure:function onFailure(e){204===e?o.registerPass():o.registerError("API returned error response "+e)}})}function i(e){(o=e).onRetrieve(n)}var o,s="//api.rlcdn.com/api/identity",a=2,u="it",c=4,f="ct",l=1,d={partnerId:"LiveRampIp",statsId:"LVRAMP",version:"1.3.0",source:"liveramp.com",cacheExpiry:{match:864e5,pass:864e5,error:864e5},consent:{gdpr:"cv"},targetingKeys:{exchangeBidding:"ixpid_3"},sonar:{enabled:!0,entrypoints:[{key:"iv",filter:{attr:1,algo:1}}]}};t.exports={type:"identity",api:"1",main:i,profile:d}},{}],21:[function(e,t,r){function n(){var e={},t=[],r=o.Utilities.getPublisherSonarData();for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n].data,t.push(r[n].meta));e.ptk=u,e.pubid=o.configs.pubid,o.Utilities.ajax({url:o.Utilities.getProtocol()+a,method:"GET",data:e,onSuccess:function onSuccess(e){try{var r,n=JSON.parse(e);if(!o.Utilities.isObject(n))return void o.registerError("invalid response");var i=[];if(n.ppid){if(!n.ppid.id)return void o.registerError("invalid ppid object");i.push({id:n.ppid.id,ext:{enc:0}})}if(n.pam_id&&!s.msie){if(!n.pam_id.id||!n.pam_id.keyID)return void o.registerError("invalid pam_id object");i.push({id:n.pam_id.id,ext:{keyID:n.pam_id.keyID,enc:1}})}i.length?(r={source:c.source,uids:i},t.length>0&&(r.ext={sonar:t}),o.registerMatch(r)):o.registerPass()}catch(e){o.registerError("response is not valid JSON")}},onFailure:function onFailure(e){o.registerError("API returned error response "+e)}})}function i(e){(o=e).onRetrieve(n)}var o,s=e(11),a="//mid.rkdms.com/idsv2",u="17c1789b-e660-493b-aa74-3c8fb990dc5f",c={partnerId:"MerkleIp",statsId:"MRKL",version:"1.4.2",source:"merkleinc.com",cacheExpiry:{match:6048e5,pass:864e5,error:864e5},targetingKeys:{exchangeBidding:"ixpid_4"},sonar:{enabled:!0,entrypoints:[{key:"qs1",filter:{attr:1,algo:2}}]}};t.exports={type:"identity",api:"1",main:i,profile:c}},{}],22:[function(e,t,r){function n(){function e(e,t,r){s.hasOwnProperty(e)||(s[e]=[]);var n=i.generateUniqueId();return s[e].push({id:n,fn:r,once:t}),n}function t(t,r){return e(t,!1,r)}function r(t,r){return e(t,!0,r)}function n(e){for(var t in s)if(s.hasOwnProperty(t))for(var r=s[t].length-1;r>=0;r--)if(s[t][r].id===e)return void s[t].splice(r,1)}function o(){var e=Array.prototype.slice.call(arguments),t=e.shift();if(t&&s.hasOwnProperty(t))for(var r=s[t].length-1;r>=0;r--){try{s[t][r].fn.apply(null,e)}catch(e){}s[t][r].once&&s[t].splice(r,1)}}var s;return s={},{on:t,once:r,off:n,emit:o}}var i=e(13);e(15),t.exports=n},{}],23:[function(e,t,r){function n(e){function t(e){var t={auction_cycle:"ac",global_timeout:"gt",bid_requests:"brq",bid_responses:"brs",bid_errors:"be",bid_passes:"bp",bid_timeouts:"bt",dfp_kv_pushed:"kv",top_bid:"tb",prefetch:"p",res_latency:"rl",partner_timeout:"pt"};return t.hasOwnProperty(e)?t[e]:e}function r(){if(c.isEmpty(P))return[];var e={s:"identity",t:O,xslots:{}};for(var r in P)if(P.hasOwnProperty(r)){e.xslots.hasOwnProperty(r)||(e.xslots[r]={});for(var n=0;n<P[r].length;n++){var i=P[r][n];"bid_requests"!==i.n&&"res_latency"!==i.n||(i.v=String(i.v)),e.xslots[r].hasOwnProperty(i.x)||(e.xslots[r][i.x]={});var o=t(i.n);e.xslots[r][i.x][o]=i.v}}return P={},[e]}function f(e,t){c.isEmpty(P)&&(O=u.now());var r=t.statsId;P[r]=P[r]||[];var n={b:r,x:N?"after":"before"};"hs_identity_request"===e?(n.n="bid_requests",n.v=1,A[r]=u.now()):"hs_identity_cached"===e?(n.n="bid_requests",n.v=0):"hs_identity_response"===e?(n.n="bid_responses",n.v=1):"hs_identity_error"===e?(n.n="bid_errors",n.v=1):"hs_identity_pass"===e?(n.n="bid_passes",n.v=1):"hs_identity_timeout"===e?(n.n="bid_timeouts",n.v=1):"hs_identity_bid_latency"===e&&(n.n="res_latency",n.v=u.now()-A[r]),P[r].push(n)}function l(e){if(S.hasOwnProperty(e)&&S[e]!==R.IPR&&S[e]!==R.SENT){var t={p:I[e],d:a.DeviceTypeChecker.getDeviceType(),c:v,s:e,w:g,t:u.now(),pg:{t:y,e:b[e]}};h.auctionCycle&&(t.ac=E[e]),t.sl=r(),t.akamaiDebugInfo=T[e],delete T[e],delete b[e],delete w[e];var n=s.buildUrl(d,null,{s:p,u:o.getPageUrl(),v:3});s.ajax({method:"POST",url:n,data:t}),S[e]=R.SENT}}if(!s.isXhrSupported())return null;var d,p,v,h,g,y,_,E,b,w,T,S,I,P,A,O,N,R={IPR:0,DONE:1,SENT:2},D={hs_session_start:function hs_session_start(e){var t=e.sessionId;S.hasOwnProperty(t)||(S[t]=R.IPR,_[t]=u.now(),b[t]=[],w[t]={},I[t]=n.SessionTypes.DISPLAY)},hs_session_end:function hs_session_end(e){var t=e.sessionId;S.hasOwnProperty(t)&&S[t]!==R.DONE&&(E[t]=String(u.now()-_[t]),delete _[t],setTimeout((function(){S[t]=R.DONE,l(t)}),0))},hs_akamai_debug:function hs_akamai_debug(e){var t=e.sessionId;T[t]={},T[t].hostname=e.hostname,e.hasOwnProperty("requestHost")&&(T[t].requestHost=e.requestHost),e.hasOwnProperty("akamaiPresent")&&(T[t].akamaiPresent=e.akamaiPresent)},hs_identity_request:function hs_identity_request(e){f("hs_identity_request",e)},hs_identity_cached:function hs_identity_cached(e){f("hs_identity_cached",e)},hs_identity_response:function hs_identity_response(e){f("hs_identity_response",e),i.emit("hs_identity_bid_latency",e)},hs_identity_error:function hs_identity_error(e){f("hs_identity_error",e),i.emit("hs_identity_bid_latency",e)},hs_identity_pass:function hs_identity_pass(e){f("hs_identity_pass",e),i.emit("hs_identity_bid_latency",e)},hs_identity_bid_latency:function hs_identity_bid_latency(e){c.isNumber(A[e.statsId])&&f("hs_identity_bid_latency",e)},hs_identity_timeout:function hs_identity_timeout(e){f("hs_identity_timeout",e),N=!0},hs_define_identity_timeout:function hs_define_identity_timeout(e){}};return function(){for(var t in i=a.services.EventsService,y=u.now(),d="https://as-sec.casalemedia.com/headerstats",p=e.siteId,v=e.configId,h=e.options,g=p+u.now(),g+=u.generateUniqueId(32-g.length),a.instanceId=g,S={},b={},w={},T={},_={},E={},I={},P={},A={},N=!1,D)D.hasOwnProperty(t)&&a.services.EventsService.on(t,D[t])}(),{}}var i,o=e(3),s=(e(4),e(17),e(12)),a=e(29),u=e(13),c=e(14);e(15),n.SessionTypes={DISPLAY:"display",VIDEO:"video"},t.exports=n},{}],24:[function(e,t,r){function n(){function e(){return{applies:!0,consentString:""}}function t(){return{version:1,uspString:""}}function r(){return!1}function n(e){return e}function o(){return i.resolve()}return{gdpr:{getConsent:e,setApplies:function setApplies(){}},usp:{getConsent:t},isPrivacyEnabled:r,delay:n,wait:o}}var i=e(10);t.exports=n},{}],25:[function(e,t,r){e(13),t.exports=function(){return{}}},{}],26:[function(e,t,r){t.exports=function(){return{getSonarPayload:function getSonarPayload(){return{}},getLastUpdated:function getLastUpdated(){return 0},setSonarEmail:function setSonarEmail(){return{}}}}},{}],27:[function(e,t,r){function n(){function e(e){return function(){u[e].state=c.TERMINATED;for(var t=0;t<u[e].cbs.length;t++)try{u[e].cbs[t]()}catch(e){}delete u[e].cbs,delete u[e].timer}}function t(t,r,n){var s=o.generateUniqueId(i.SESSION_ID_LENGTH);return r=!!r,n=n?[n]:[],u[s]={state:c.NEW,cbs:n,timeout:t},r&&(u[s].state=c.RUNNABLE,u[s].timer=setTimeout(e(s),t)),s}function r(t){u.hasOwnProperty(t)&&u[t].state===c.NEW&&(u[t].state=c.RUNNABLE,u[t].timer=setTimeout(e(t),u[t].timeout))}function n(e,t){u.hasOwnProperty(e)&&u[e].state!==c.TERMINATED&&u[e].cbs.unshift(t)}function s(e){return u.hasOwnProperty(e)?u[e].state:null}function a(e){u.hasOwnProperty(e)&&u[e].state!==c.TERMINATED&&(u[e].state=c.TERMINATED,clearTimeout(u[e].timer),delete u[e].cbs,delete u[e].timer)}var u,c={NEW:0,RUNNABLE:1,TERMINATED:2};return u={},{TimerStates:c,createTimer:t,startTimer:r,addTimerCallback:n,getTimerState:s,clearTimer:a}}var i=e(7),o=e(13);e(15),t.exports=n},{}],28:[function(e,t,r){var n,i,o=(e(3),e(6)),s=e(16),a=e(29),u=e(14);window[a.NAMESPACE]=window[a.NAMESPACE]||{},window[a.NAMESPACE].cmd=window[a.NAMESPACE].cmd||[];var c=window[a.NAMESPACE].cmd;window[a.NAMESPACE]=function(){function e(e,t,r){var n="";try{if(!u.isBoolean(t))return i.emit("error","`once` must be a boolean"),n;if(!u.isFunction(r))return i.emit("error","`callback` must be a function"),n;if(!u.isString(e))return i.emit("error","`eventName` must be a string"),n;if(!p.hasOwnProperty(e))return i.emit("error","Unrecognized event "+e),n;if("rti_partner_request_complete"===e&&!0===d.emitted)return r(e,d.args),n;var o=function o(){var t=Array.prototype.slice.call(arguments);r(e,JSON.stringify(t))};n=t?i.once(e,o):i.on(e,o)}catch(e){i.emit("error",e)}return n}function t(e){try{if(!u.isString(e))return void i.emit("error","`subscriptionId` must be a string");i.off(e)}catch(e){i.emit("error",e)}}function r(){return f.Layers.IdentityLayer.getAllPartnerResults()}function o(e){var t={status:!1,message:"Identity feature not enabled"};return(t=a.services.PublisherSonarService.setSonarEmail(e)).status&&f.Layers.IdentityLayer.invokeAllPartners(),t}var c,f,l,d={emitted:!1,args:{}},p={error:1,warning:2,rti_partner_request_complete:3};if(function(){try{f=s(c={DeviceTypeChecker:{method:"USER_AGENT",configs:{}},Services:{EventsService:{},TimerService:{},HeaderStatsService:{siteId:"263047",configId:"78534564703284",options:{auctionCycle:!1}}},Layers:[{layerId:"IdentityLayer",configs:{partners:{AdserverOrgIp:{enabled:!0,configs:{publisherId:186948}},LiveRampIp:{enabled:!0,configs:{}},MerkleIp:{enabled:!0,configs:{pubid:"TURNER"}}}}}]}).getDirectInterface(),n=a.services.ComplianceService,i=a.services.EventsService;var t=Math.random().toString(36).slice(-5);i.emit("hs_session_start",{sessionId:t}),e("rti_partner_request_complete",!0,(function(e,r){d={emitted:!0,args:r},i.emit("hs_session_end",{sessionId:t})})),n.wait().then((function(){f.Layers.IdentityLayer.retrieve()})).catch((function(e){}))}catch(e){l={subscribeEvent:function subscribeEvent(){return""},unsubscribeEvent:function unsubscribeEvent(){}}}}(),l)return l;var v={};if(window[a.NAMESPACE])for(var h in window[a.NAMESPACE])window[a.NAMESPACE].hasOwnProperty(h)&&(v[h]=window[a.NAMESPACE][h]);return v.subscribeEvent=e,v.unsubscribeEvent=t,v.getIdentityInfo=r,v.setSonarEmail=o,v}(),window[a.NAMESPACE].cmd=o(c)},{}],29:[function(e,t,r){var n={NAMESPACE:"headertag",PRODUCT:"IdentityLibrary",services:{},DeviceTypeChecker:{},initQueue:[],globalTimeout:null,instanceId:null,version:"2.33.0"};t.exports=n},{}]},{},[28]),scriptAdded=!0)}},registerModuleWithAdFuel=function registerModuleWithAdFuel(config){window.AdFuelUtils.isIntl()||(logger.log("Registering module with AdFuel"),window.AdFuel.registerModule(MODULE_NAME,{},MODULE_VERSION,config),includeIndexIdentityWrapper(config.IDENTITY||""))},init=function init(opts){var initPromise=new Promise((function(resolve){var moduleConfig=opts.IX;addLogTracker(MODULE_LOG_TAG),(logger=window.AdFuelUtils.getLogger(MODULE_NAME,MODULE_VERSION,MODULE_LOG_TAG,"color: #d2b000; padding: 2px",moduleConfig.DEBUG)).log("Initializing Module..."),window.AdFuel?registerModuleWithAdFuel(moduleConfig):window.AdFuelUtils.addEvent(document,"AdFuelCreated",(function(){registerModuleWithAdFuel(moduleConfig)})),resolve()}));return initPromise.id="".concat(MODULE_NAME," ").concat(MODULE_VERSION),initPromise};if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(window.AdFuelUtils.addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():window.AdFuelUtils.addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);var index={registerModuleWithAdFuel:registerModuleWithAdFuel,init:init,__NAME__:MODULE_NAME,__VERSION__:MODULE_VERSION};return index})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Prebid=factory()}(void 0,(function(){!function(e){var t=window.pbjsChunk;window.pbjsChunk=function(n,o,a){for(var c,u,s,d=0,f=[];d<n.length;d++)u=n[d],r[u]&&f.push(r[u][0]),r[u]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);for(t&&t(n,o,a);f.length;)f.shift()();if(a)for(d=0;d<a.length;d++)s=i(i.s=a[d]);return s};var n={},r={392:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e},i(i.s=974)}({0:function _(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"internal",(function(){return C})),t.getPrebidInternal=function(){return R},n.d(t,"bind",(function(){return B})),t.getUniqueIdentifierStr=D,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")},t.transformAdServerTargetingObj=function(e){return e&&Object.getOwnPropertyNames(e).length>0?se(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(de(e,t)))})).join("&"):""},t.getAdUnitSizes=function(e){if(e){var t=[];if(e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)){var n=e.mediaTypes.banner.sizes;Array.isArray(n[0])?t=n:t.push(n)}else Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?t=e.sizes:t.push(e.sizes));return t}},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)ee(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===m(e)){var o=e.length;if(o>0)if(2===o&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(k(e));else for(var a=0;a<o;a++)t.push(k(e[a]))}return t},t.parseGPTSingleSizeArray=k,t.parseGPTSingleSizeArrayToRtbSize=function(e){if(N(e))return{w:e[0],h:e[1]}},t.getWindowTop=P,t.getWindowSelf=q,t.getWindowLocation=M,t.logMessage=G,t.logInfo=L,t.logWarn=W,t.logError=F,t.hasConsoleLogger=function(){return E},t.debugTurnedOn=V,t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=function(e){return je(M().search)[e]||""},t.isA=H,t.isFn=K,t.isStr=J,t.isArray=Y,t.isNumber=Q,t.isPlainObject=$,t.isBoolean=function(e){return H(e,"Boolean")},t.isEmpty=X,t.isEmptyStr=function(e){return J(e)&&(!e||0===e.length)},t._each=Z,t.contains=function(e,t){if(X(e))return!1;if(K(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},t._map=function(e,t){if(X(e))return[];if(K(e.map))return e.map(t);var n=[];return Z(e,(function(r,i){n.push(t(r,i,e))})),n},t.hasOwn=ee,t.insertElement=te,t.waitForElementToLoad=ne,t.triggerPixel=re,t.callBurl=function(e){var t=e.source,n=e.burl;t===O.S2S.SRC&&n&&C.triggerPixel(n)},t.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=D(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",C.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},t.insertUserSyncIframe=ie,t.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':"";var t,n},t.createTrackPixelIframeHtml=oe,t.getValueString=ae,t.uniques=ce,t.flatten=ue,t.getBidRequest=function(e,t){var n;if(e)return t.some((function(t){var r=u()(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}));return r&&(n=r),r})),n},t.getKeys=se,t.getValue=de,t.getKeyByValue=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n},t.getBidderCodes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(ue,[])})).reduce(ue).filter(ce)},t.isGptPubadsDefined=fe,t.isApnGetTagDefined=function(){if(window.apntag&&K(window.apntag.getTag))return!0},n.d(t,"getHighestCpm",(function(){return le})),n.d(t,"getOldestHighestCpmBid",(function(){return pe})),n.d(t,"getLatestHighestCpmBid",(function(){return ge})),t.shuffle=function(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e},t.adUnitsFilter=function(e,t){return d()(e,t&&t.adUnitCode)},t.deepClone=ve,t.inIframe=function(){try{return C.getWindowSelf()!==C.getWindowTop()}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.replaceClickThrough=function(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.getPerformanceNow=function(){return window.performance&&window.performance.now&&window.performance.now()||0},t.hasDeviceAccess=function(){return!1!==r.b.getConfig("deviceAccess")},t.checkCookieSupport=ye,t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}},t.groupBy=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},t.getDefinedParams=function(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return h(t,y({},n,e[n]))}),{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return d()(t,e)}))&&(!e.video||!e.video.context||d()(["instream","outstream","adpod"],e.video.context))},t.getBidderRequest=function(e,t,n){return u()(e,(function(e){return e.bids.filter((function(e){return e.bidder===t&&e.adUnitCode===n})).length>0}))||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(ue,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))},t.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(e){return function(t){return he(e,t)}},t.isSlotMatchingAdUnitCode=me,t.getGptSlotInfoForAdUnitCode=function(e){var t;return fe()&&(t=u()(window.googletag.pubads().getSlots(),me(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}},t.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.isInteger=Oe,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")},t.cleanObj=function(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})},t.pick=function(e,t){return"object"!==m(e)?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var c=e[r];return"function"==typeof t[i+1]&&(c=t[i+1](c,n)),void 0!==c&&(n[o]=c),n}),{})},t.transformBidderParamKeywords=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return Z(e,(function(e,r){if(Y(e)){var i=[];Z(e,(function(e){((e=ae(t+"."+r,e))||""===e)&&i.push(e)})),e=i}else{if(!J(e=ae(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})})),n},t.convertTypes=function(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(K(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t},t.isArrayOfNums=function(e,t){return Y(e)&&(!t||e.length===t)&&e.every((function(e){return Oe(e)}))},t.fill=function(e,t){for(var n=[],r=0;r<t;r++){var i=$(e)?ve(e):e;n.push(i)}return n},t.chunk=function(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,o=i+t;n.push(e.slice(i,o))}return n},t.getMinValueFromArray=function(e){return Math.min.apply(Math,g(e))},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,g(e))},t.compareOn=function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}},t.parseQS=je,t.formatQS=Se,t.parseUrl=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:C.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(C.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.deepEqual=Ee,t.mergeDeep=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!r.length)return t;var o=r.shift();if($(t)&&$(o)){var a=function a(n){$(o[n])?(t[n]||h(t,y({},n,{})),e(t[n],o[n])):Y(o[n])&&t[n]?Y(t[n])&&o[n].forEach((function(e){for(var r=1,i=0;i<t[n].length;i++)if(Ee(t[n][i],e)){r=0;break}r&&t[n].push(e)})):h(t,y({},n,o[n]))};for(var c in o)a(c)}return e.apply(void 0,[t].concat(r))},t.cyrb53Hash=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function r(e,t){if(K(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)i=r(i^(t=e.charCodeAt(a)),2654435761),o=r(o^t,1597334677);return i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909),(4294967296*(2097151&(o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()},t.isAllowZeroCpmBidsEnabled=function(e){var t=Object(i.a)().bidderSettings;return t[e]&&!0===t[e].allowZeroCpmBids||t.standard&&!0===t.standard.allowZeroCpmBids};var r=n(3),i=n(14),o=n(167),a=n.n(o),c=n(11),u=n.n(c),s=n(12),d=n.n(s),f=n(168);n.d(t,"deepAccess",(function(){return f.a}));var l=n(169);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return(m="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}n.d(t,"deepSetValue",(function(){return l.a}));var O=n(5),j=Object.prototype.toString,S=Boolean(window.console),E=Boolean(S&&window.console.log),A=Boolean(S&&window.console.info),T=Boolean(S&&window.console.warn),I=Boolean(S&&window.console.error),w=n(10),C={checkCookieSupport:ye,createTrackPixelIframeHtml:oe,getWindowSelf:q,getWindowTop:P,getWindowLocation:M,insertUserSyncIframe:ie,insertElement:te,isFn:K,triggerPixel:re,logError:F,logWarn:W,logMessage:G,logInfo:L,parseQS:je,formatQS:Se,deepEqual:Ee},R={},_,U={},B=function(e,t){return t}.bind(null,1,U)()===U?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},x=(_=0,function(){return++_});function D(){return x()+Math.random().toString(16).substr(2)}function k(e){if(N(e))return e[0]+"x"+e[1]}function N(e){return Y(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function P(){return window.top}function q(){return window.self}function M(){return window.location}function G(){V()&&E&&console.log.apply(console,z(arguments,"MESSAGE:"))}function L(){V()&&A&&console.info.apply(console,z(arguments,"INFO:"))}function W(){V()&&T&&console.warn.apply(console,z(arguments,"WARNING:")),w.emit(O.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function F(){V()&&I&&console.error.apply(console,z(arguments,"ERROR:")),w.emit(O.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function z(e,t){e=[].slice.call(e);var n=r.b.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function i(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function V(){return!!r.b.getConfig("debug")}function H(e,t){return j.call(e)==="[object "+t+"]"}function K(e){return H(e,"Function")}function J(e){return H(e,"String")}function Y(e){return H(e,"Array")}function Q(e){return H(e,"Number")}function $(e){return H(e,"Object")}function X(e){if(!e)return!0;if(Y(e)||J(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t){if(!X(e)){if(K(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function ee(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function te(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function ne(e,t){var n=null;return new Promise((function(r){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function re(e,t,n){var r=new Image;t&&C.isFn(t)&&ne(r,n).then(t),r.src=e}function ie(e,t,n){var r=C.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;t&&C.isFn(t)&&ne(o,n).then(t),C.insertElement(o,document,"html",!0)}function oe(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),n&&(n='sandbox="'.concat(n,'"')),"<iframe ".concat(n,' id="').concat(D(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function ae(e,t,n){return null==t?n:J(t)?t:Q(t)?t.toString():void C.logWarn("Unsuported type for param: "+e+" required type: String")}function ce(e,t,n){return n.indexOf(e)===t}function ue(e,t){return e.concat(t)}function se(e){return Object.keys(e)}function de(e,t){return e[t]}function fe(){if(window.googletag&&K(window.googletag.pubads)&&K(window.googletag.pubads().getSlots))return!0}var le=be("timeToRespond",(function(e,t){return e>t})),pe=be("responseTimestamp",(function(e,t){return e>t})),ge=be("responseTimestamp",(function(e,t){return e<t}));function be(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function ve(e){return a()(e)}function ye(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}var he=function he(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function me(e){return function(t){return he(t,e)}}function Oe(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function je(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=p(t.split("="),2),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function Se(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function Ee(e,t){if(e===t)return!0;if("object"===m(e)&&null!==e&&"object"===m(t)&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!Ee(e[n],t[n]))return!1}return!0}return!1}},1:function _(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return T})),t.registerBidder=function(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=w(e);i.default.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,o,a=t;Object(y.isPlainObject)(t)&&(a=t.code,r=t.gvlid,o=t.skipPbsAliasing),i.default.aliasRegistry[a]=e.code,n(A({},e,{code:a,gvlid:r,skipPbsAliasing:o}))}))},t.newBidder=w,n.d(t,"registerSyncInner",(function(){return C})),t.preloadBidderMappingFile=R,t.getIabSubCategory=function(e,t){var n=i.default.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),o=r.localStorageKey?r.localStorageKey:n.getBidderCode(),a=T.getDataFromLocalStorage(o);if(a){try{a=JSON.parse(a)}catch(t){Object(y.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return a.mapping[t]?a.mapping[t]:null}}},t.isValid=_;var r=n(82),i=n(8),o=n(3),a=n(43),c=n(60),u=n(39),s=n(20),d=n(5),f=n.n(d),l=n(10),p=n.n(l),g=n(12),b=n.n(g),v=n(4),y=n(0),h=n(2),m=n(9),O=n(7);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return(E="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=Object(O.a)("bidderFactory"),I=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function w(e){return A(new r.a(e.code),{getSpec:function getSpec(){return Object.freeze(e)},registerSyncs:t,callBids:function callBids(r,c,u,s,d,l){if(Array.isArray(r.bids)){var g={},b=[],v=r.bids.filter(n);if(0!==v.length){var h={};v.forEach((function(e){h[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)}));var m=e.buildRequests(v,r);if(m&&0!==m.length){Array.isArray(m)||(m=[m]);var O=Object(y.delayExecution)(l(j),m.length);m.forEach((function(e){return p.a.emit(f.a.EVENTS.BEFORE_BIDDER_HTTP,r)})),m.forEach((function(t){switch(t.method){case"GET":s("".concat(t.url).concat(function(e){return e?"?".concat("object"===E(e)?Object(y.parseQueryStringParameters)(e):e):""}(t.data)),{success:l(n),error:o},void 0,A({method:"GET",withCredentials:!0},t.options));break;case"POST":s(t.url,{success:l(n),error:o},"string"==typeof t.data?t.data:JSON.stringify(t.data),A({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Object(y.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),O()}function n(n,i){d(e.code);try{n=JSON.parse(n)}catch(e){}var o;n={body:n,headers:{get:i.getResponseHeader.bind(i)}},b.push(n);try{o=e.interpretResponse(n,t)}catch(t){return Object(y.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void O()}function u(t){var n=h[t.requestId];if(n){t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||A({},t[n.bidder]);var i=A(Object(a.a)(f.a.STATUS.GOOD,n),t);!function(e,t){g[e]=!0,_(e,t,[r])&&c(e,t)}(n.adUnitCode,i)}else Object(y.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))}o&&(Object(y.isArray)(o)?o.forEach(u):u(o)),O(o)}function o(t,n){d(e.code),i.default.callBidderError(e.code,n,r),p.a.emit(f.a.EVENTS.BIDDER_ERROR,{error:n,bidderRequest:r}),Object(y.logError)("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids.")),O()}}))}else j()}else j()}function j(){u(),o.b.runWithBidder(e.code,(function(){p.a.emit(f.a.EVENTS.BIDDER_DONE,r),t(b,r.gdprConsent,r.uspConsent)}))}}});function t(t,n,r){C(e,t,n,r)}function n(t){return!!e.isBidRequestValid(t)||(Object(y.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var C=Object(m.b)("async",(function(e,t,n,r){var a=o.b.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(a||!i.default.aliasRegistry[e.code])){var u=o.b.getConfig("userSync.filterSettings"),s=e.getUserSyncs({iframeEnabled:!(!u||!u.iframe&&!u.all),pixelEnabled:!(!u||!u.image&&!u.all)},t,n,r);s&&(Array.isArray(s)||(s=[s]),s.forEach((function(t){c.a.registerSync(t.type,e.code,t.url)})))}}),"registerSyncs");function R(e,t){if(!o.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return Object(y.deepAccess)(e,"mediaTypes.video.context")===h.a})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(y.flatten,[]).filter(y.uniques).forEach((function(e){var t=i.default.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,o=n.localStorageKey?n.localStorageKey:t.getSpec().code,a=T.getDataFromLocalStorage(o);try{(!(a=a?JSON.parse(a):void 0)||Object(y.timestamp)()>a.lastUpdated+24*r*60*60*1e3)&&Object(v.a)(n.url,{success:function success(t){try{t=JSON.parse(t);var n={lastUpdated:Object(y.timestamp)(),mapping:t.mapping};T.setDataInLocalStorage(o,JSON.stringify(n))}catch(t){Object(y.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function error(){Object(y.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){Object(y.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}function _(e,t,n){function r(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(i=Object.keys(t),I.every((function(e){return b()(i,e)&&!b()([void 0,null],t[e])}))?"native"!==t.mediaType||Object(u.g)(t,n)?"video"!==t.mediaType||Object(s.d)(t,n)?!("banner"===t.mediaType&&!function(e,t,n){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var r=Object(y.getBidderRequest)(n,t.bidderCode,e),i=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,o=Object(y.parseSizesInput)(i);if(1===o.length){var a=j(o[0].split("x"),2),c=a[0],u=a[1];return t.width=parseInt(c,10),t.height=parseInt(u,10),!0}return!1}(e,t,n)&&(Object(y.logError)(r("Banner bids require a width and height")),1)):(Object(y.logError)(r("Video bid does not have required vastUrl or renderer property")),!1):(Object(y.logError)(r("Native bid missing some required properties.")),!1):(Object(y.logError)(r("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):(Object(y.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Object(y.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i}Object(m.a)("checkAdUnitSetup").before(R)},10:function _(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=n(0),o=n(5),a=Array.prototype.slice,c=Array.prototype.push,u=i._map(o.EVENTS,(function(e){return e})),s=o.EVENT_ID_PATHS,d=[];e.exports=function(){var e={},t={};function n(t,n){i.logMessage("Emitting event for: "+t);var r=n[0]||{},o=r[s[t]],a=e[t]||{que:[]},u=i._map(a,(function(e,t){return t})),f=[];d.push({eventType:t,args:r,id:o,elapsedTime:i.getPerformanceNow()}),o&&i.contains(u,o)&&c.apply(f,a[o].que),c.apply(f,a.que),i._each(f,(function(e){if(e)try{e.apply(null,n)}catch(e){i.logError("Error executing handler:","events.js",e)}}))}return t.on=function(t,n,r){if(function(e){return i.contains(u,e)}(t)){var o=e[t]||{que:[]};r?(o[r]=o[r]||{que:[]},o[r].que.push(n)):o.que.push(n),e[t]=o}else i.logError("Wrong event name : "+t+" Valid event names :"+u)},t.emit=function(e){var t=a.call(arguments,1);n(e,t)},t.off=function(t,n,r){var o=e[t];i.isEmpty(o)||i.isEmpty(o.que)&&i.isEmpty(o[r])||r&&(i.isEmpty(o[r])||i.isEmpty(o[r].que))||(r?i._each(o[r].que,(function(e){var t=o[r].que;e===n&&t.splice(t.indexOf(e),1)})):i._each(o.que,(function(e){var t=o.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=o)},t.get=function(){return e},t.getEvents=function(){var e=[];return i._each(d,(function(t){var n=r({},t);e.push(n)})),e},t}()},100:function _(e,t,n){t.a=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=s(t);return!n.shouldFilter||!!n.sizesSupported[e]},t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,o=void 0!==r&&r,c=e.activeLabels,d=void 0===c?[]:c,f=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u,g=s(p);f=Object(i.isPlainObject)(f)?Object(i.deepClone)(f):l?{banner:{sizes:l}}:{};var b=Object(i.deepAccess)(f,"banner.sizes");g.shouldFilter&&b&&(f.banner.sizes=b.filter((function(e){return g.sizesSupported[e]})));var v=Object.keys(f),y={active:v.every((function(e){return"banner"!==e}))||v.some((function(e){return"banner"===e}))&&Object(i.deepAccess)(f,"banner.sizes.length")>0&&(0===n.length||!o&&(n.some((function(e){return g.labels[e]}))||n.some((function(e){return a()(d,e)})))||o&&n.reduce((function(e,t){return e?g.labels[t]||a()(d,t):e}),!0)),mediaTypes:f};return b&&b.length!==f.banner.sizes.length&&(y.filterResults={before:b,after:f.banner.sizes}),y};var r=n(3),i=n(0),o=n(12),a=n.n(o);function c(e){return(c="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var u=[];function s(e){return e.reduce((function(e,t){if("object"===c(t)&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var n=!1;try{n=Object(i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){Object(i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(n){return(t[n]||[]).forEach((function(t){return e[n][t]=!0}))})))}else Object(i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}r.b.getConfig("sizeConfig",(function(e){return function(e){u=e}(e.sizeConfig)}))},101:function _(e,t,n){t.b=function(e,t,n){var o={puts:e.map(a,n)};Object(r.a)(i.b.getConfig("cache.url"),function(e){return{success:function success(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function error(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}(t),JSON.stringify(o),{contentType:"text/plain",withCredentials:!0})},t.a=function(e){return"".concat(i.b.getConfig("cache.url"),"?uuid=").concat(e)};var r=n(4),i=n(3),o=n(0);function a(e){var t,n,r,a={type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,n=e.vastImpUrl,r=n?"<![CDATA[".concat(n,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return i.b.getConfig("cache.vasttrack")&&(a.bidder=e.bidder,a.bidid=e.requestId,a.aid=e.auctionId,Object(o.isPlainObject)(this)&&this.hasOwnProperty("auctionStart")&&(a.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(a.key=e.customCacheKey),a}},105:function _(e,t,n){n(106);var r=n(55);e.exports=r("Array","find")},106:function _(e,t,n){var r=n(16),i=n(63).find,o=n(54),a="find",c=!0;a in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{find:function find(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},107:function _(e,t,n){var r=n(33),i=n(108),o=n(44),a=n(49),c=n(62),u=n(31),s=n(84),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=c(t,!0),s)try{return d(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},108:function _(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},109:function _(e,t,n){var r=n(29),i=/#|\.prototype\./,o=function o(e,t){var n=c[a(e)];return n==s||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=o.data={},u=o.NATIVE="N",s=o.POLYFILL="P";e.exports=o},11:function _(e,t,n){var r=n(105);e.exports=r},110:function _(e,t,n){var r=n(30),i=n(111),o=n(23)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},111:function _(e,t,n){var r=n(50);e.exports=Array.isArray||function(e){return"Array"==r(e)}},112:function _(e,t,n){var r=n(27),i=n(32);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},113:function _(e,t,n){var r,i,o=n(27),a=n(114),c=o.process,u=c&&c.versions,s=u&&u.v8;s?i=(r=s.split("."))[0]<4?1:r[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},114:function _(e,t,n){var r=n(26);e.exports=r("navigator","userAgent")||""},115:function _(e,t,n){var r=n(87);e.exports=r&&!Symbol.sham&&"symbol"==_typeof2(Symbol.iterator)},116:function _(e,t,n){n(117);var r=n(55);e.exports=r("Array","includes")},117:function _(e,t,n){var r=n(16),i=n(88).includes,o=n(54);r({target:"Array",proto:!0},{includes:function includes(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},118:function _(e,t,n){var r=n(64),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},119:function _(e,t,n){n(120),n(135),n(98),n(137);var r=n(45);e.exports=r.Set},12:function _(e,t,n){var r=n(116);e.exports=r},120:function _(e,t,n){var r=n(121),i=n(126);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},121:function _(e,t,n){var r=n(16),i=n(27),o=n(90),a=n(29),c=n(32),u=n(21),s=n(68),d=n(30),f=n(59),l=n(34).f,p=n(63).forEach,g=n(33),b=n(46),v=b.set,y=b.getterFor;e.exports=function(e,t,n){var b,h=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),O=h?"set":"add",j=i[e],S=j&&j.prototype,E={};if(g&&"function"==typeof j&&(m||S.forEach&&!a((function(){(new j).entries().next()})))){b=t((function(t,n){v(s(t,b,e),{type:e,collection:new j}),null!=n&&u(n,t[O],{that:t,AS_ENTRIES:h})}));var A=y(e);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;!(e in S)||m&&"clear"==e||c(b.prototype,e,(function(n,r){var i=A(this).collection;if(!t&&m&&!d(n))return"get"==e&&void 0;var o=i[e](0===n?0:n,r);return t?this:o}))})),m||l(b.prototype,"size",{configurable:!0,get:function get(){return A(this).collection.size}})}else b=n.getConstructor(t,e,h,O),o.REQUIRED=!0;return f(b,e,!1,!0),E[e]=b,r({global:!0,forced:!0},E),m||n.setStrong(b,e,h),b}},122:function _(e,t,n){var r=n(29);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},123:function _(e,t,n){var r=n(67),i=n(58);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},124:function _(e,t,n){var r=n(27),i=n(125),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},125:function _(e,t,n){var r=n(65),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},126:function _(e,t,n){var r=n(34).f,i=n(70),o=n(94),a=n(25),c=n(68),u=n(21),s=n(72),d=n(134),f=n(33),l=n(90).fastKey,p=n(46),g=p.set,b=p.getterFor;e.exports={getConstructor:function getConstructor(e,t,n,s){var d=e((function(e,r){c(e,d,t),g(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[s],{that:e,AS_ENTRIES:n})})),p=b(t),v=function v(e,t,n){var r,i,o=p(e),a=y(e,t);return a?a.value=n:(o.last=a={index:i=l(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function y(e,t){var n,r=p(e),i=l(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(d.prototype,{clear:function clear(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function _delete(e){var t=this,n=p(t),r=y(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:t.size--}return!!r},forEach:function forEach(e){for(var t,n=p(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function has(e){return!!y(this,e)}}),o(d.prototype,n?{get:function get(e){var t=y(this,e);return t&&t.value},set:function set(e,t){return v(this,0===e?0:e,t)}}:{add:function add(e){return v(this,e=0===e?0:e,e)}}),f&&r(d.prototype,"size",{get:function get(){return p(this).size}}),d},setStrong:function setStrong(e,t,n){var r=t+" Iterator",i=b(t),o=b(r);s(e,t,(function(e,t){g(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),d(t)}}},127:function _(e,t,n){var r=n(33),i=n(34),o=n(17),a=n(128);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),c=r.length,u=0;c>u;)i.f(e,n=r[u++],t[n]);return e}},128:function _(e,t,n){var r=n(129),i=n(93);e.exports=Object.keys||function(e){return r(e,i)}},129:function _(e,t,n){var r=n(31),i=n(49),o=n(88).indexOf,a=n(56);e.exports=function(e,t){var n,c=i(e),u=0,s=[];for(n in c)!r(a,n)&&r(c,n)&&s.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~o(s,n)||s.push(n));return s}},13:function _(e,t,n){t.a=u,t.c=function(e){return!(!e||!e.url)},t.b=function(e,t){e.render(t)};var r=n(35),i=n(0),o=n(11),a=n.n(o),c="outstream";function u(e){var t=this,n=e.url,o=e.config,a=e.id,u=e.callback,d=e.loaded,f=e.adUnitCode;this.url=n,this.config=o,this.handlers={},this.id=a,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):Object(i.logError)("Commands given to Renderer.push must be wrapped in a function")},this.callback=u||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,o=function o(){e._render?e._render.apply(e,t):Object(i.logWarn)("No render function was provided, please use .setRender on the renderer")};s(f)?(Object(i.logWarn)("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(f)),o()):(this.cmd.unshift(o),Object(r.a)(n,c,this.callback))}.bind(this)}function s(e){var t=pbjs.adUnits,n=a()(t,(function(t){return t.code===e}));if(!n)return!1;var r=Object(i.deepAccess)(n,"renderer"),o=!!(r&&r.url&&r.render),c=Object(i.deepAccess)(n,"mediaTypes.video.renderer"),u=!!(c&&c.url&&c.render);return!!(o&&!0!==r.backupOnly||u&&!0!==c.backupOnly)}u.install=function(e){return new u({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},u.prototype.getConfig=function(){return this.config},u.prototype.setRender=function(e){this._render=e},u.prototype.setEventHandlers=function(e){this.handlers=e},u.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),Object(i.logMessage)("Prebid Renderer event for id ".concat(t," type ").concat(n))},u.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){Object(i.logError)("Error processing Renderer command: ",e)}}},130:function _(e,t,n){var r=n(26);e.exports=r("document","documentElement")},131:function _(e,t,n){var r=n(29);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},132:function _(e,t,n){var r=n(17),i=n(133);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},133:function _(e,t,n){var r=n(30);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},134:function _(e,t,n){var r=n(26),i=n(34),o=n(23),a=n(33),c=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[c]&&n(t,c,{configurable:!0,get:function get(){return this}})}},135:function _(e,t){},136:function _(e,t,n){var r=n(64),i=n(51),o=function o(e){return function(t,n){var o,a,c=String(i(t)),u=r(n),s=c.length;return u<0||u>=s?e?"":void 0:(o=c.charCodeAt(u))<55296||o>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?e?c.charAt(u):o:e?c.slice(u,u+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},137:function _(e,t,n){n(99);var r=n(138),i=n(27),o=n(58),a=n(32),c=n(41),u=n(23)("toStringTag");for(var s in r){var d=i[s],f=d&&d.prototype;f&&o(f)!==u&&a(f,u,s),c[s]=c.Array}},138:function _(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},139:function _(e,t,n){n(16)({target:"Set",stat:!0},{from:n(140)})},14:function _(e,t,n){t.a=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},140:function _(e,t,n){var r=n(24),i=n(25),o=n(21);e.exports=function(e){var t,n,a,c,u=arguments.length,s=u>1?arguments[1]:void 0;return r(this),(t=void 0!==s)&&r(s),null==e?new this:(n=[],t?(a=0,c=i(s,u>2?arguments[2]:void 0,2),o(e,(function(e){n.push(c(e,a++))}))):o(e,n.push,{that:n}),new this(n))}},141:function _(e,t,n){n(16)({target:"Set",stat:!0},{of:n(142)})},142:function _(e,t,n){e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},143:function _(e,t,n){var r=n(16),i=n(18),o=n(144);r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function addAll(){return o.apply(this,arguments)}})},144:function _(e,t,n){var r=n(17),i=n(24);e.exports=function(){for(var e=r(this),t=i(e.add),n=0,o=arguments.length;n<o;n++)t.call(e,arguments[n]);return e}},145:function _(e,t,n){var r=n(16),i=n(18),o=n(146);r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function deleteAll(){return o.apply(this,arguments)}})},146:function _(e,t,n){var r=n(17),i=n(24);e.exports=function(){for(var e,t=r(this),n=i(t.delete),o=!0,a=0,c=arguments.length;a<c;a++)e=n.call(t,arguments[a]),o=o&&e;return!!o}},147:function _(e,t,n){var r=n(16),i=n(18),o=n(17),a=n(25),c=n(38),u=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{every:function every(e){var t=o(this),n=c(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},148:function _(e,t,n){var r=n(16),i=n(18),o=n(26),a=n(17),c=n(24),u=n(42),s=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{difference:function difference(e){var t=a(this),n=new(u(t,o("Set")))(t),r=c(n.delete);return s(e,(function(e){r.call(n,e)})),n}})},149:function _(e,t,n){var r=n(16),i=n(18),o=n(26),a=n(17),c=n(24),u=n(25),s=n(42),d=n(38),f=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{filter:function filter(e){var t=a(this),n=d(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(s(t,o("Set"))),l=c(i.add);return f(n,(function(e){r(e,e,t)&&l.call(i,e)}),{IS_ITERATOR:!0}),i}})},150:function _(e,t,n){var r=n(16),i=n(18),o=n(17),a=n(25),c=n(38),u=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{find:function find(e){var t=o(this),n=c(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},151:function _(e,t,n){var r=n(16),i=n(18),o=n(26),a=n(17),c=n(24),u=n(42),s=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function intersection(e){var t=a(this),n=new(u(t,o("Set"))),r=c(t.has),i=c(n.add);return s(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}})},152:function _(e,t,n){var r=n(16),i=n(18),o=n(17),a=n(24),c=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function isDisjointFrom(e){var t=o(this),n=a(t.has);return!c(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}})},153:function _(e,t,n){var r=n(16),i=n(18),o=n(26),a=n(17),c=n(24),u=n(73),s=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function isSubsetOf(e){var t=u(this),n=a(e),r=n.has;return"function"!=typeof r&&(n=new(o("Set"))(e),r=c(n.has)),!s(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},154:function _(e,t,n){var r=n(16),i=n(18),o=n(17),a=n(24),c=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function isSupersetOf(e){var t=o(this),n=a(t.has);return!c(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}})},155:function _(e,t,n){var r=n(16),i=n(18),o=n(17),a=n(38),c=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{join:function join(e){var t=o(this),n=a(t),r=void 0===e?",":String(e),i=[];return c(n,i.push,{that:i,IS_ITERATOR:!0}),i.join(r)}})},156:function _(e,t,n){var r=n(16),i=n(18),o=n(26),a=n(17),c=n(24),u=n(25),s=n(42),d=n(38),f=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{map:function map(e){var t=a(this),n=d(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(s(t,o("Set"))),l=c(i.add);return f(n,(function(e){l.call(i,r(e,e,t))}),{IS_ITERATOR:!0}),i}})},157:function _(e,t,n){var r=n(16),i=n(18),o=n(17),a=n(24),c=n(38),u=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function reduce(e){var t=o(this),n=c(t),r=arguments.length<2,i=r?void 0:arguments[1];if(a(e),u(n,(function(n){r?(r=!1,i=n):i=e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}})},158:function _(e,t,n){var r=n(16),i=n(18),o=n(17),a=n(25),c=n(38),u=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{some:function some(e){var t=o(this),n=c(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},159:function _(e,t,n){var r=n(16),i=n(18),o=n(26),a=n(17),c=n(24),u=n(42),s=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function symmetricDifference(e){var t=a(this),n=new(u(t,o("Set")))(t),r=c(n.delete),i=c(n.add);return s(e,(function(e){r.call(n,e)||i.call(n,e)})),n}})},16:function _(e,t,n){var r=n(27),i=n(107).f,o=n(109),a=n(45),c=n(25),u=n(32),s=n(31),d=function d(e){var t=function t(_t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(_t);case 2:return new e(_t,n)}return new e(_t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,f,l,p,g,b,v,y,h=e.target,m=e.global,O=e.stat,j=e.proto,S=m?r:O?r[h]:(r[h]||{}).prototype,E=m?a:a[h]||(a[h]={}),A=E.prototype;for(l in t)n=!o(m?l:h+(O?".":"#")+l,e.forced)&&S&&s(S,l),g=E[l],n&&(b=e.noTargetGet?(y=i(S,l))&&y.value:S[l]),p=n&&b?b:t[l],n&&_typeof2(g)==_typeof2(p)||(v=e.bind&&n?c(p,r):e.wrap&&n?d(p):j&&"function"==typeof p?c(Function.call,p):p,(e.sham||p&&p.sham||g&&g.sham)&&u(v,"sham",!0),E[l]=v,j&&(s(a,f=h+"Prototype")||u(a,f,{}),a[f][l]=p,e.real&&A&&!A[l]&&u(A,l,p)))}},160:function _(e,t,n){var r=n(16),i=n(18),o=n(26),a=n(17),c=n(24),u=n(42),s=n(21);r({target:"Set",proto:!0,real:!0,forced:i},{union:function union(e){var t=a(this),n=new(u(t,o("Set")))(t);return s(e,c(n.add),{that:n}),n}})},161:function _(e,t,n){n(98),n(162);var r=n(45);e.exports=r.Array.from},162:function _(e,t,n){var r=n(16),i=n(163);r({target:"Array",stat:!0,forced:!n(166)((function(e){}))},{from:i})},163:function _(e,t,n){var r=n(25),i=n(52),o=n(164),a=n(91),c=n(53),u=n(165),s=n(57);e.exports=function(e){var t,n,d,f,l,p,g=i(e),b="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,h=void 0!==y,m=s(g),O=0;if(h&&(y=r(y,v>2?arguments[2]:void 0,2)),null==m||b==Array&&a(m))for(n=new b(t=c(g.length));t>O;O++)p=h?y(g[O],O):g[O],u(n,O,p);else for(l=(f=m.call(g)).next,n=new b;!(d=l.call(f)).done;O++)p=h?o(f,y,[d.value,O],!0):d.value,u(n,O,p);return n.length=O,n}},164:function _(e,t,n){var r=n(17),i=n(92);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){throw i(e),t}}},165:function _(e,t,n){var r=n(62),i=n(34),o=n(44);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},166:function _(e,t,n){var r=n(23)("iterator"),i=!1;try{var o=0,a={next:function next(){return{done:!!o++}},return:function _return(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function next(){return{done:n=!0}}}},e(o)}catch(e){}return n}},167:function _(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==_typeof2(i)?e(i):i}return n}},168:function _(e,t,n){t.a=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},169:function _(e,t,n){t.a=function(e,t,n){t.split&&(t=t.split("."));for(var r,i=0,o=t.length,a=e;i<o;++i)r=a[t[i]],a=a[t[i]]=i===o-1?n:null!=r?r:!~t[i+1].indexOf(".")&&+t[i+1]>-1?[]:{}}},17:function _(e,t,n){var r=n(30);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},170:function _(e,t){
/*
      * @license MIT
      * Fun Hooks v0.9.10
      * (c) @snapwich
      */
c.SYNC=1,c.ASYNC=2,c.QUEUE=4;var n=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var a=Object.assign||function(e){return i.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function c(e){var t,u={},s=[];function d(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==_typeof2(e)?f.apply(null,arguments):void 0}function f(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var c=e[o];i[o]=e[o]=g(a,c,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function l(e){var n=Array.isArray(e)?e:e.split(".");return i.call(n,(function(r,i,o){var a=r[i],c=!1;return a||(o===n.length-1?(t||s.push((function(){c||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),r[i]=p((function(e){r[i]=e,c=!0}))):r[i]={})}),u)}function p(e){var t=[],n=[],i=function i(){},o={before:function before(e,n){return u.call(this,t,"before",e,n)},after:function after(e,t){return u.call(this,n,"after",e,t)},getHooks:function getHooks(e){var r=t.concat(n);"object"==_typeof2(e)&&(r=r.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{a(r,{remove:function remove(){return r.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function removeAll(){return this.getHooks().remove()}},c={install:function install(r,o,a){this.type=r,i=a,a(t,n),e&&e(o)}};return r.set(o.after,c),o;function u(e,r,o,a){var c={hook:o,type:r,priority:a||10,remove:function remove(){var r=e.indexOf(c);-1!==r&&(e.splice(r,1),i(t,n))}};return e.push(c),e.sort((function(e,t){return t.priority-e.priority})),i(t,n),this}}function g(n,i,u){var d=i.after&&r.get(i.after);if(d){if(d.type!==n)throw"fun-hooks: recreated hookable with different type";return i}var f,g,b=u?l(u):p(),v={get:function get(e,t){return b[t]||Reflect.get.apply(Reflect,arguments)}};return t||s.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(i,v):a(g=function g(){return v.apply?v.apply(i,this,o(arguments)):i.apply(this,arguments)},b),r.get(g.after).install(n,g,(function(e,t){var r,i=[];function a(e){i.push(e.hook)}e.length||t.length?(e.forEach(a),r=i.push(void 0)-1,t.forEach(a),f=function f(e,t,a){var c,u=0,s="async"===n&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===n?c=e:s&&s.apply(null,arguments)}function f(e){if(i[u]){var r=o(arguments);return f.bail=d,r.unshift(f),i[u++].apply(t,r)}"sync"===n?c=e:s&&s.apply(null,arguments)}return i[r]=function(){var r=o(arguments,1);"async"===n&&s&&(delete f.bail,r.push(f));var i=e.apply(t,r);"sync"===n&&f(i)},f.apply(null,a),c}):f=void 0,y()})),g;function y(){!t&&("sync"!==n||e.ready&c.SYNC)&&("async"!==n||e.ready&c.ASYNC)?"sync"!==n&&e.ready&c.QUEUE?v.apply=function(){var e=arguments;s.push((function(){g.apply(e[1],e[2])}))}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=f}}return(e=a({},n,e)).ready?d.ready=function(){t=!0,function(e){for(var t;t=e.shift();)t()}(s)}:t=!0,d.get=l,d}e.exports=c},18:function _(e,t){e.exports=!0},19:function _(e,t,n){n.d(t,"a",(function(){return o}));var r=n(3),i=n(0),o=function(e){function t(e){var t=r.b.getConfig("pageUrl");if(t)return t;try{var n=e.querySelector("link[rel='canonical']");if(null!==n)return n.href}catch(e){}return null}return function(){var n,o,a,c=[],u=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(e),s=r.b.getConfig("maxNestedIframes"),d=!1,f=0,l=!1,p=!1;do{var g=n,b=p,v=void 0,y=!1,h=null;p=!1,n=n?n.parent:e;try{v=n.location.href||null}catch(e){y=!0}if(y)if(b){var m=g.context;try{o=h=m.sourceUrl,l=!0,n===e.top&&(d=!0),m.canonicalUrl&&(a=m.canonicalUrl)}catch(e){}}else{Object(i.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var O=g.document.referrer;O&&(h=O,n===e.top&&(d=!0))}catch(e){}!h&&u&&u[f-1]&&(h=u[f-1]),h&&!l&&(o=h)}else{if(v&&(o=h=v,l=!1,n===e.top)){d=!0;var j=t(n.document);j&&(a=j)}n.context&&n.context.sourceUrl&&(p=!0)}c.push(h),f++}while(n!==e.top&&f<s);return c.reverse(),{referer:o||null,reachedTop:d,isAmp:l,numIframes:f-1,stack:c,canonicalUrl:a||null}}}(window)},2:function _(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r="native",i="video",o="banner",a="adpod"},20:function _(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),t.d=function(e,t){var n=Object(r.getBidRequest)(e.requestId,t),i=n&&Object(r.deepAccess)(n,"mediaTypes.video"),o=i&&Object(r.deepAccess)(i,"context");return s(e,n,i,o)},n.d(t,"c",(function(){return s})),n(8);var r=n(0),i=n(3),o=n(12),a=(n.n(o),n(9)),c="outstream",u="instream",s=Object(a.b)("sync",(function(e,t,n,o){return!t||n&&o!==c?i.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(r.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):o!==c||!!(e.renderer||t.renderer||n.renderer)}),"checkVideoBidSetup")},21:function _(e,t,n){var r=n(17),i=n(91),o=n(53),a=n(25),c=n(57),u=n(92),s=function s(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var d,f,l,p,g,b,v,y=n&&n.that,h=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),j=a(t,y,1+h+O),S=function S(e){return d&&u(d),new s(!0,e)},E=function E(e){return h?(r(e),O?j(e[0],e[1],S):j(e[0],e[1])):O?j(e,S):j(e)};if(m)d=e;else{if("function"!=typeof(f=c(e)))throw TypeError("Target is not iterable");if(i(f)){for(l=0,p=o(e.length);p>l;l++)if((g=E(e[l]))&&g instanceof s)return g;return new s(!1)}d=f.call(e)}for(b=d.next;!(v=b.call(d)).done;){try{g=E(v.value)}catch(e){throw u(d),e}if("object"==_typeof2(g)&&g&&g instanceof s)return g}return new s(!1)}},22:function _(e,t,n){n.d(t,"a",(function(){return u}));var r=n(0),i=n(28),o=n(11),a=n.n(o),c=n(5),u=function(){var e=[],t={addWinningBid:function(t){var n=a()(e,(function(e){return e.getAuctionId()===t.auctionId}));n?(t.status=c.BID_STATUS.RENDERED,n.addWinningBid(t)):Object(r.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return e.map((function(e){return e.getWinningBids()})).reduce(r.flatten,[])},getBidsRequested:function(){return e.map((function(e){return e.getBidRequests()})).reduce(r.flatten,[])},getNoBids:function(){return e.map((function(e){return e.getNoBids()})).reduce(r.flatten,[])},getBidsReceived:function(){return e.map((function(e){if(e.getAuctionStatus()===i.a)return e.getBidsReceived()})).reduce(r.flatten,[]).filter((function(e){return e}))},getAllBidsForAdUnitCode:function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(r.flatten,[]).filter((function(e){return e&&e.adUnitCode===t}))},getAdUnits:function(){return e.map((function(e){return e.getAdUnits()})).reduce(r.flatten,[])},getAdUnitCodes:function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(r.flatten,[]).filter(r.uniques)},createAuction:function(t){var n=t.adUnits,r=t.adUnitCodes,o=t.callback,a=t.cbTimeout,c=t.labels,u=t.auctionId,s=Object(i.k)({adUnits:n,adUnitCodes:r,callback:o,cbTimeout:a,labels:c,auctionId:u});return function(t){e.push(t)}(s),s},findBidByAdId:function(t){return a()(e.map((function(e){return e.getBidsReceived()})).reduce(r.flatten,[]),(function(e){return e.adId===t}))},getStandardBidderAdServerTargeting:function(){return Object(i.j)()[c.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(n,r){var i=t.findBidByAdId(n);if(i&&(i.status=r),i&&r===c.BID_STATUS.BID_TARGETING_SET){var o=a()(e,(function(e){return e.getAuctionId()===i.auctionId}));o&&o.setBidTargeting(i)}},getLastAuctionId:function(){return e.length&&e[e.length-1].getAuctionId()},clearAllAuctions:function(){e.length=0}};return t}()},220:function _(e,t,n){n(221);var r=n(55);e.exports=r("Array","findIndex")},221:function _(e,t,n){var r=n(16),i=n(63).findIndex,o=n(54),a="findIndex",c=!0;a in[]&&Array(1).findIndex((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{findIndex:function findIndex(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},23:function _(e,t,n){var r=n(27),i=n(86),o=n(31),a=n(66),c=n(87),u=n(115),s=i("wks"),d=r.Symbol,f=u?d:d&&d.withoutSetter||a;e.exports=function(e){return o(s,e)&&(c||"string"==typeof s[e])||(c&&o(d,e)?s[e]=d[e]:s[e]=f("Symbol."+e)),s[e]}},230:function _(e,t,n){t.a=function(){window.addEventListener("message",h,!1)};var r=n(10),i=n.n(r),o=n(39),a=n(5),c=n.n(a),u=n(0),s=n(22),d=n(11),f=n.n(d),l=n(13),p=n(12),g=n.n(p),b=n(3),v=c.a.EVENTS.BID_WON,y=c.a.EVENTS.STALE_RENDER;function h(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}if(n&&n.adId){var r=f()(s.a.getBidsReceived(),(function(e){return e.adId===n.adId}));if(r&&"Prebid Request"===n.message){if(r.status===c.a.BID_STATUS.RENDERED&&(Object(u.logWarn)("Ad id ".concat(r.adId," has been rendered before")),i.a.emit(y,r),Object(u.deepAccess)(b.b.getConfig("auctionOptions"),"suppressStaleRender")))return;!function(e,t){var n=e.adId,r=e.ad,i=e.adUrl,o=e.width,a=e.height,c=e.renderer,s=e.cpm;Object(l.c)(c)?Object(l.b)(c,e):n&&(m(e),t.source.postMessage(JSON.stringify({message:"Prebid Response",ad:Object(u.replaceAuctionPrice)(r,s),adUrl:Object(u.replaceAuctionPrice)(i,s),adId:n,width:o,height:a}),t.origin))}(r,e),s.a.addWinningBid(r),i.a.emit(v,r)}if(r&&"Prebid Native"===n.message)if("assetRequest"===n.action){var a=Object(o.d)(n,r);e.source.postMessage(JSON.stringify(a),e.origin)}else if("allAssetRequest"===n.action){var d=Object(o.c)(n,r);e.source.postMessage(JSON.stringify(d),e.origin)}else if("resizeNativeHeight"===n.action)r.height=n.height,r.width=n.width,m(r);else{if("click"===Object(o.b)(n,r))return;s.a.addWinningBid(r),i.a.emit(v,r)}}}function m(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;["div","iframe"].forEach((function(e){var o=function(e){var r=function(e,t){return Object(u.isGptPubadsDefined)()?function(e){return f()(window.googletag.pubads().getSlots(),(function(t){return f()(t.getTargetingKeys(),(function(n){return g()(t.getTargeting(n),e)}))})).getSlotElementId()}(e):Object(u.isApnGetTagDefined)()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),i=document.getElementById(r);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(o){var a=o.style;a.width=r+"px",a.height=i+"px"}else Object(u.logWarn)("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}},231:function _(e,t,n){t.a=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(u))}catch(e){}t&&p(t,!0)};var r,i,o=n(3),a=n(0),c=n(28),u="pbjs:debugging";function s(e){Object(a.logMessage)("DEBUG: "+e)}function d(e){Object(a.logWarn)("DEBUG: "+e)}function f(e){r=y.bind(e),c.c.before(r,5),i=h.bind(e),c.e.before(i,5)}function l(){c.c.getHooks({hook:r}).remove(),c.e.getHooks({hook:i}).remove()}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.b.setConfig({debug:!0}),l(),f(e),s("bidder overrides enabled".concat(t?" from session":""))}function g(e,t,n){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===n)}function b(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function v(e,t,n){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,r){return s("bidder overrides changed '".concat(t.adUnitCode,"/").concat(t.bidderCode,"' ").concat(n,".").concat(r," from '").concat(t[r],".js' to '").concat(e[r],"'")),t[r]=e[r],t}),t)}function y(e,t,n){var r=this;b(r.bidders,n.bidderCode)?d("bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(r.bids)&&r.bids.forEach((function(e){g(e,n.bidderCode,t)||v(e,n,"bidder")})),e(t,n))}function h(e,t){var n=this,r=t.filter((function(e){return!b(n.bidders,e.bidderCode)||(d("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(n.bidRequests)&&r.forEach((function(e){n.bidRequests.forEach((function(t){e.bids.forEach((function(n){g(t,e.bidderCode,n.adUnitCode)||v(t,n,"bidRequest")}))}))})),e(r)}function m(e){if(e.enabled){try{window.sessionStorage.setItem(u,JSON.stringify(e))}catch(e){}p(e)}else{l(),s("bidder overrides disabled");try{window.sessionStorage.removeItem(u)}catch(e){}}}o.b.getConfig("debugging",(function(e){return m(e.debugging)}))},24:function _(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},25:function _(e,t,n){var r=n(24);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},26:function _(e,t,n){var r=n(45),i=n(27),o=function o(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},27:function _(e,t,n){(function(t){var n=function n(e){return e&&e.Math==Math&&e};e.exports=n("object"==("undefined"==typeof globalThis?"undefined":_typeof2(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":_typeof2(window))&&window)||n("object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self)||n("object"==_typeof2(t)&&t)||function(){return this}()||Function("return this")()}).call(t,n(37))},28:function _(e,t,n){n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return A})),t.k=function(e){var t,n,o,a,s=e.adUnits,d=e.adUnitCodes,f=e.callback,p=e.cbTimeout,v=e.labels,U=e.auctionId,k=s,N=v,P=d,q=[],G=[],L=[],W=U||Object(r.generateUUID)(),F=f,z=p,V=[],H=new Set;function K(){return{auctionId:W,timestamp:t,auctionEnd:n,auctionStatus:o,adUnits:k,adUnitCodes:P,labels:N,bidderRequests:q,noBids:L,bidsReceived:G,winningBids:V,timeout:z}}function J(e,t){if(t&&clearTimeout(a),void 0===n){var i=[];e&&(Object(r.logMessage)("Auction ".concat(W," timedOut")),c=H,(i=q.map((function(e){return(e.bids||[]).filter((function(e){return!c.has(e.bidder)}))})).reduce(r.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&j.emit(S.EVENTS.BID_TIMEOUT,i)),o=A,n=Date.now(),j.emit(S.EVENTS.AUCTION_END,K()),_(k,(function(){try{if(null!=F){var t=P,n=G.filter(r.bind.call(r.adUnitsFilter,this,t)).reduce(M,{});F.apply(pbjs,[n,e,W]),F=null}}catch(e){Object(r.logError)("Error executing bidsBackHandler",null,e)}finally{i.length&&O.callTimedOutBidders(s,i,z);var o=u.b.getConfig("userSync")||{};o.enableOverride||m(o.syncDelay)}}))}var c}function Y(){u.b.resetBidder(),Object(r.logInfo)("Bids Received for Auction with id: ".concat(W),G),o=A,J(!1,!0)}function Q(e){H.add(e)}function $(e){var t=this;e.forEach((function(e){var t;t=e,q=q.concat(t)}));var n={},s={bidRequests:e,run:function run(){var s,p;s=J.bind(null,!0),p=setTimeout(s,z),a=p,o=E,j.emit(S.EVENTS.AUCTION_INIT,K());var v=function(e,t){var n=0,o=!1,a=new Set,s={};function d(){n--,o&&0===n&&e()}function f(e,o){var a=this;s[o.requestId]=!0,n++;var f=function(e){var t=e.adUnitCode,n=e.bid,o=e.bidderRequest,a=e.auctionId,s=o.start,d=h({},n,{auctionId:a,responseTimestamp:Object(r.timestamp)(),requestTimestamp:s,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});d.timeToRespond=d.responseTimestamp-d.requestTimestamp,j.emit(S.EVENTS.BID_ADJUSTMENT,d);var f=o.bids&&l()(o.bids,(function(e){return e.adUnitCode==t&&e.bidId==d.requestId})),p=f&&f.renderer,g=d.mediaType,b=f&&f.mediaTypes&&f.mediaTypes[g],v=b&&b.renderer,m=null;v&&v.url&&v.render&&(!0!==v.backupOnly||!n.renderer)?m=v:p&&p.url&&p.render&&(!0!==p.backupOnly||!n.renderer)&&(m=p),m&&(d.renderer=c.a.install({url:m.url}),d.renderer.setRender(m.render));var O=D(n.mediaType,f,u.b.getConfig("mediaTypePriceGranularity")),E=Object(i.a)(d.cpm,"object"===y(O)?O:u.b.getConfig("customPriceBucket"),u.b.getConfig("currency.granularityMultiplier"));return d.pbLg=E.low,d.pbMg=E.med,d.pbHg=E.high,d.pbAg=E.auto,d.pbDg=E.dense,d.pbCg=E.custom,d}({adUnitCode:e,bid:o,bidderRequest:a,auctionId:t.getAuctionId()});"video"===f.mediaType?function(e,t,n,i){var o=!0,a=Object(r.getBidRequest)(t.originalRequestId||t.requestId,[n]),c=a&&Object(r.deepAccess)(a,"mediaTypes.video"),s=c&&Object(r.deepAccess)(c,"context");u.b.getConfig("cache.url")&&s!==b.b&&(!t.videoCacheKey||u.b.getConfig("cache.ignoreBidderCacheKey")?(o=!1,x(e,t,i,a)):t.vastUrl||(Object(r.logError)("videoCacheKey specified but not required vastUrl for video bid"),o=!1)),o&&(B(e,t),i())}(t,f,a,d):(B(t,f),d())}function p(){var i=this,c=t.getBidRequests(),d=u.b.getConfig("auctionOptions");if(a.add(i),d&&!Object(r.isEmpty)(d)){var f=d.secondaryBidders;f&&!c.every((function(e){return g()(f,e.bidderCode)}))&&(c=c.filter((function(e){return!g()(f,e.bidderCode)})))}o=c.every((function(e){return a.has(e)})),i.bids.forEach((function(e){s[e.bidId]||(t.addNoBid(e),j.emit(S.EVENTS.NO_BID,e))})),o&&0===n&&e()}return{addBidResponse:f,adapterDone:p}}(Y,t);O.callBids(k,e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];C.apply({dispatch:v.addBidResponse,bidderRequest:this},t)}),v.adapterDone,{request:function request(e,t){f(T,t),f(n,e),I[e]||(I[e]={SRA:!0,origin:t}),n[e]>1&&(I[e].SRA=!1)},done:function done(e){T[e]--,w[0]&&d(w[0])&&w.shift()}},z,Q)}};function d(e){var t=!0,n=u.b.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===S.S2S.SRC?"s2s":e.bidderCode;return I[i]&&(!1===I[i].SRA&&(r=Math.min(e.bids.length,n)),T[I[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function f(e,t){void 0===e[t]?e[t]=1:e[t]++}d(s)||(Object(r.logWarn)("queueing auction due to limited endpoint capacity"),w.push(s))}return{addBidReceived:function addBidReceived(e){G=G.concat(e)},addNoBid:function addNoBid(e){L=L.concat(e)},executeCallback:J,callBids:function callBids(){o="started",t=Date.now();var e=O.makeBidRequests(k,t,W,z,N);Object(r.logInfo)("Bids Requested for Auction with id: ".concat(W),e),e.length<1?(Object(r.logWarn)("No valid bid requests returned for auction"),Y()):R.call({dispatch:$,context:this},e)},addWinningBid:function addWinningBid(e){V=V.concat(e),O.callBidWonBidder(e.bidder,e,s)},setBidTargeting:function setBidTargeting(e){O.callSetTargetingBidder(e.bidder,e)},getWinningBids:function getWinningBids(){return V},getTimeout:function getTimeout(){return z},getAuctionId:function getAuctionId(){return W},getAuctionStatus:function getAuctionStatus(){return o},getAdUnits:function getAdUnits(){return k},getAdUnitCodes:function getAdUnitCodes(){return P},getBidRequests:function getBidRequests(){return q},getBidsReceived:function getBidsReceived(){return G},getNoBids:function getNoBids(){return L}}},n.d(t,"c",(function(){return C})),n.d(t,"e",(function(){return R})),t.g=U,t.d=B,n.d(t,"f",(function(){return x})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return N})),t.j=P;var r=n(0),i=n(48),o=n(39),a=n(101),c=n(13),u=n(3),s=n(60),d=n(9),f=n(11),l=n.n(f),p=n(12),g=n.n(p),b=n(20),v=n(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=s.a.syncUsers,O=n(8).default,j=n(10),S=n(5),E="inProgress",A="completed";j.on(S.EVENTS.BID_ADJUSTMENT,(function(e){!function(e){var t,n=e.bidderCode,i=e.cpm;if(pbjs.bidderSettings&&(n&&pbjs.bidderSettings[n]&&"function"==typeof pbjs.bidderSettings[n].bidCpmAdjustment?t=pbjs.bidderSettings[n].bidCpmAdjustment:pbjs.bidderSettings[S.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[S.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[S.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{i=t(e.cpm,h({},e))}catch(e){Object(r.logError)("Error during bid adjustment","bidmanager.js",e)}i>=0&&(e.cpm=i)}(e)}));var T={},I={},w=[],C=Object(d.b)("async",(function(e,t){this.dispatch.call(this.bidderRequest,e,t)}),"addBidResponse"),R=Object(d.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),_=Object(d.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function U(e,t){t.timeToRespond>e.getTimeout()+u.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function B(e,t){var n=e.getBidRequests(),i=l()(n,(function(e){return e.bidderCode===t.bidderCode}));!function(e,t){var n,i=Object(r.isAllowZeroCpmBidsEnabled)(e.bidderCode)?e.cpm>=0:e.cpm>0;if(e.bidderCode&&(i||e.dealId)){var a=l()(t.bids,(function(t){return t.adUnitCode===e.adUnitCode&&t.bidId===e.requestId}));n=function(e,t,n){if(!t)return{};var r={},i=pbjs.bidderSettings;return i&&(q(r,P(t.mediaType,e),t,n),e&&i[e]&&i[e][S.JSON_MAPPING.ADSERVER_TARGETING]&&(q(r,i[e],t,n),t.sendStandardTargeting=i[e].sendStandardTargeting)),t.native&&(r=h({},r,Object(o.e)(t,n))),r}(e.bidderCode,e,a)}e.adserverTargeting=h(e.adserverTargeting||{},n)}(t,i),j.emit(S.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),U(e,t)}var x=Object(d.b)("async",(function(e,t,n,i){Object(a.b)([t],(function(i,o){i?(Object(r.logWarn)("Failed to save to the video cache: ".concat(i,". Video bid must be discarded.")),U(e,t)):""===o[0].uuid?(Object(r.logWarn)("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),U(e,t)):(t.videoCacheKey=o[0].uuid,t.vastUrl||(t.vastUrl=Object(a.a)(t.videoCacheKey)),B(e,t),n())}),i)}),"callPrebidCache");function D(e,t,n){if(e&&n){if(e===v.d){var i=Object(r.deepAccess)(t,"mediaTypes.".concat(v.d,".context"),"instream");if(n["".concat(v.d,"-").concat(i)])return n["".concat(v.d,"-").concat(i)]}return n[e]}}var k=function k(e,t){var n=D(e,t,u.b.getConfig("mediaTypePriceGranularity"));return"string"==typeof e&&n?"string"==typeof n?n:"custom":u.b.getConfig("priceGranularity")},N=function N(e){return function(t,n){return(e=e||k(t.mediaType,n))===S.GRANULARITY_OPTIONS.AUTO?t.pbAg:e===S.GRANULARITY_OPTIONS.DENSE?t.pbDg:e===S.GRANULARITY_OPTIONS.LOW?t.pbLg:e===S.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:e===S.GRANULARITY_OPTIONS.HIGH?t.pbHg:e===S.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function P(e,t){function n(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return Object(r.getValue)(e,t)}}}var i=S.TARGETING_KEYS,o=pbjs.bidderSettings;if(o[S.JSON_MAPPING.BD_SETTING_STANDARD]||(o[S.JSON_MAPPING.BD_SETTING_STANDARD]={}),o[S.JSON_MAPPING.BD_SETTING_STANDARD][S.JSON_MAPPING.ADSERVER_TARGETING]||(o[S.JSON_MAPPING.BD_SETTING_STANDARD][S.JSON_MAPPING.ADSERVER_TARGETING]=[n(i.BIDDER,"bidderCode"),n(i.AD_ID,"adId"),n(i.PRICE_BUCKET,N()),n(i.SIZE,"size"),n(i.DEAL,"dealId"),n(i.SOURCE,"source"),n(i.FORMAT,"mediaType"),n(i.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?e.meta.advertiserDomains[0]:""}))]),"video"===e){var a=o[S.JSON_MAPPING.BD_SETTING_STANDARD][S.JSON_MAPPING.ADSERVER_TARGETING];if([i.UUID,i.CACHE_ID].forEach((function(e){void 0===l()(a,(function(t){return t.key===e}))&&a.push(n(e,"videoCacheKey"))})),u.b.getConfig("cache.url")&&(!t||!1!==Object(r.deepAccess)(o,"".concat(t,".sendStandardTargeting")))){var c=Object(r.parseUrl)(u.b.getConfig("cache.url"));void 0===l()(a,(function(e){return e.key===i.CACHE_HOST}))&&a.push(n(i.CACHE_HOST,(function(e){return Object(r.deepAccess)(e,"adserverTargeting.".concat(i.CACHE_HOST))?e.adserverTargeting[i.CACHE_HOST]:c.hostname})))}}return o[S.JSON_MAPPING.BD_SETTING_STANDARD]}function q(e,t,n,i){var o=t[S.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),Object(r._each)(o,(function(o){var a=o.key,c=o.val;if(e[a]&&Object(r.logWarn)("The key: "+a+" is being overwritten"),Object(r.isFn)(c))try{c=c(n,i)}catch(e){Object(r.logError)("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&a!==S.TARGETING_KEYS.DEAL||!Object(r.isEmptyStr)(c)&&null!=c?e[a]=c:Object(r.logInfo)("suppressing empty key '"+a+"' from adserver targeting")})),e}function M(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},29:function _(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},3:function _(e,t,n){n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return T}));var r=n(48),i=n(11),o=n.n(i),a=n(12),c=n.n(a),u=n(89),s=n.n(u),d=n(0),f=["fpd"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=n(74),h=n(5),m="TRUE"===Object(d.getParameterByName)(h.DEBUG_MODE).toUpperCase(),O=window.location.origin,j="random",S={};S[j]=!0,S.fixed=!0;var E=j,A={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},T=function(){var e,t,n,i=[],a=null;function u(){e={};var i={_debug:m,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:O,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:A.MEDIUM,set priceGranularity(e){c(e)&&("string"==typeof e?this._priceGranularity=a(e)?e:A.MEDIUM:Object(d.isPlainObject)(e)&&(this._customPriceBucket=e,this._priceGranularity=A.CUSTOM,Object(d.logMessage)("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var t=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(n,r){return c(e[r])?"string"==typeof e?n[r]=a(e[r])?e[r]:t._priceGranularity:Object(d.isPlainObject)(e)&&(n[r]=e[r],Object(d.logMessage)("Using custom price granularity for ".concat(r))):Object(d.logWarn)("Invalid price granularity for media type: ".concat(r)),n}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:E,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){S[e]?this._bidderSequence=e:Object(d.logWarn)("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){(function(e){if(!Object(d.isPlainObject)(e))return Object(d.logWarn)("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return Object(d.logWarn)("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!Object(d.isArray)(e[r]))return Object(d.logWarn)("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(d.isStr))return Object(d.logWarn)("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!Object(d.isBoolean)(e[r]))return Object(d.logWarn)("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)&&(this._auctionOptions=e)}};function a(e){return o()(Object.keys(A),(function(t){return e===A[t]}))}function c(e){if(!e)return Object(d.logError)("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)a(e)||Object(d.logWarn)("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Object(d.isPlainObject)(e)&&!Object(r.b)(e))return Object(d.logError)("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}t&&C(Object.keys(t).reduce((function(e,n){return t[n]!==i[n]&&(e[n]=i[n]||{}),e}),{})),t=i,n={}}function h(){if(a&&n&&Object(d.isPlainObject)(n[a])){var e=n[a],r=new s.a(Object.keys(t).concat(Object.keys(e)));return y(r).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:Object(d.isPlainObject)(e[r])?n[r]=Object(d.mergeDeep)({},t[r],e[r]):n[r]=e[r],n}),{})}return v({},t)}function j(e){var t={};return Object.keys(e).forEach((function(n){var r="context"===n?"site":n;t[r]="site"===r||"user"===r?Object.keys(e[n]).reduce((function(t,r){return"data"===r?Object(d.mergeDeep)(t,{ext:{data:e[n][r]}}):Object(d.mergeDeep)(t,g({},r,e[n][r])),t}),{}):e[n]})),t}function T(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(n){Object.keys(e[n]).forEach((function(r){"data"===r?Object(d.mergeDeep)(t,{ext:{data:e[n][r]}}):"object"!==b(e[n][r])||Array.isArray(e[n][r])?Object(d.mergeDeep)(t,{ext:{data:g({},r.toLowerCase(),e[n][r])}}):Object.keys(e[n][r]).forEach((function(i){Object(d.mergeDeep)(t,{ext:{data:g({},r.toLowerCase(),g({},i.toLowerCase(),e[n][r][i]))}})}))}))})),t}function I(n){if(Object(d.isPlainObject)(n)){var r=Object.keys(n),i={};r.forEach((function(r){var o="fpd"===r?"ortb2":r,a="fpd"===r?j(n[r]):n[r];Object(d.isPlainObject)(e[o])&&Object(d.isPlainObject)(a)&&(a=v({},e[o],a)),i[o]=t[o]=a})),C(i)}else Object(d.logError)("setConfig options must be an object")}function w(e,t){var n=t;if("string"!=typeof e&&(n=e,e="*"),"function"==typeof n){var r={topic:e,callback:n};return i.push(r),function(){i.splice(i.indexOf(r),1)}}Object(d.logError)("listener must be a function")}function C(e){var t=Object.keys(e);i.filter((function(e){return c()(t,e.topic)})).forEach((function(t){t.callback(g({},t.topic,e[t.topic]))})),i.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function R(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var o="fpd"===i?"ortb2":i,a="fpd"===i?j(e.config[i]):e.config[i];if(Object(d.isPlainObject)(a)){var c=t?d.mergeDeep:Object.assign;n[r][o]=c({},n[r][o]||{},a)}else n[r][o]=a}))}))}catch(e){Object(d.logError)(e)}function r(e){if(!Object(d.isPlainObject)(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Object(d.isPlainObject)(e.config))throw"setBidderConfig bidder options must contain a config object"}}function _(e,t){a=e;try{return t()}finally{U()}}function U(){a=null}return u(),{getCurrentBidder:function getCurrentBidder(){return a},resetBidder:U,getConfig:function getConfig(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?Object(d.deepAccess)(h(),e):h()}return w.apply(void 0,arguments)},readConfig:function readConfig(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0],t=Object(d.deepClone)(h());return e?Object(d.deepAccess)(t,e):t}return w.apply(void 0,arguments)},setConfig:I,mergeConfig:function mergeConfig(e){if(Object(d.isPlainObject)(e)){var t=Object.keys(e).reduce((function(t,n){var r=h()[n]||{};return t[n]=Object(d.mergeDeep)(r,e[n]),t}),{});return I(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}Object(d.logError)("mergeConfig input must be an object")},setDefaults:function setDefaults(n){Object(d.isPlainObject)(e)?(v(e,n),v(t,n)):Object(d.logError)("defaults must be an object")},resetConfig:u,runWithBidder:_,callbackWithBidder:function callbackWithBidder(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return _(e,d.bind.call.apply(d.bind,[t,this].concat(r)))}Object(d.logWarn)("config.callbackWithBidder callback is not a function")}}},setBidderConfig:R,getBidderConfig:function getBidderConfig(){return n},mergeBidderConfig:function mergeBidderConfig(e){return R(e,!0)},convertAdUnitFpd:function convertAdUnitFpd(e){var t=[];return e.forEach((function(e){e.fpd?(e.ortb2Imp?Object(d.mergeDeep)(e.ortb2Imp,T(e.fpd)):e.ortb2Imp=T(e.fpd),t.push(function(e){return e.fpd,p(e,f)}(e))):t.push(e)})),t},getLegacyFpd:function getLegacyFpd(e){if("object"===b(e)){var t={};return Object.keys(e).forEach((function(n){var r="site"===n?"context":n;t[r]="context"===r||"user"===r?Object.keys(e[n]).filter((function(e){return"data"!==e})).reduce((function(t,r){return"ext"===r?Object(d.mergeDeep)(t,e[n][r]):Object(d.mergeDeep)(t,g({},r,e[n][r])),t}),{}):e[n]})),t}},getLegacyImpFpd:function getLegacyImpFpd(e){if("object"===b(e)){var t={};return Object(d.deepAccess)(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(n){"pbadslot"===n?Object(d.mergeDeep)(t,{context:{pbAdSlot:e.ext.data[n]}}):"adserver"===n?Object(d.mergeDeep)(t,{context:{adServer:e.ext.data[n]}}):Object(d.mergeDeep)(t,{context:{data:g({},n,e.ext.data[n])}})})),t}}}}()},30:function _(e,t){e.exports=function(e){return"object"==_typeof2(e)?null!==e:"function"==typeof e}},31:function _(e,t,n){var r=n(52),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},32:function _(e,t,n){var r=n(33),i=n(34),o=n(44);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},33:function _(e,t,n){var r=n(29);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function get(){return 7}})[1]}))},34:function _(e,t,n){var r=n(33),i=n(84),o=n(17),a=n(62),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},35:function _(e,t,n){t.a=function(e,t,n){if(t&&e){if(i()(c,t))return a[e]?(n&&"function"==typeof n&&(a[e].loaded?n():a[e].callbacks.push(n)),a[e].tag):(a[e]={loaded:!1,tag:null,callbacks:[]},n&&"function"==typeof n&&a[e].callbacks.push(n),Object(o.logWarn)("module ".concat(t," is loading external JavaScript")),function(t,n){var r=document.createElement("script");return r.type="text/javascript",r.async=!0,a[e].tag=r,r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())}:r.onload=function(){n()},r.src=t,Object(o.insertElement)(r),r}(e,(function(){a[e].loaded=!0;try{for(var t=0;t<a[e].callbacks.length;t++)a[e].callbacks[t]()}catch(e){Object(o.logError)("Error executing callback","adloader.js:loadExternalScript",e)}})));Object(o.logError)("".concat(t," not whitelisted for loading external JavaScript"))}else Object(o.logError)("cannot load external script without url and moduleCode")};var r=n(12),i=n.n(r),o=n(0),a={},c=["adloox","criteo","outstream","adagio","browsi"]},37:function _(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof2(window))&&(n=window)}e.exports=n},38:function _(e,t,n){var r=n(18),i=n(73);e.exports=r?i:function(e){return Set.prototype.values.call(e)}},381:function _(e,t,n){n(382);var r=n(55);e.exports=r("String","includes")},382:function _(e,t,n){var r=n(16),i=n(383),o=n(51);r({target:"String",proto:!0,forced:!n(385)("includes")},{includes:function includes(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},383:function _(e,t,n){var r=n(384);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},384:function _(e,t,n){var r=n(30),i=n(50),o=n(23)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},385:function _(e,t,n){var r=n(23)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},39:function _(e,t,n){n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return l})),t.h=function(e){return e&&e.type&&function(e){return!(!e||!o()(Object.keys(p),e))||(Object(r.logError)("".concat(e," nativeParam is not supported")),!1)}(e.type)?p[e.type]:e},t.g=function(e,t){var n=Object(r.getBidRequest)(e.requestId,t);if(!n)return!1;if(!Object(r.deepAccess)(e,"native.clickUrl"))return!1;var i=n.nativeParams;if(!i)return!0;var a=Object.keys(i).filter((function(e){return i[e].required})),c=Object.keys(e.native).filter((function(t){return e.native[t]}));return a.every((function(e){return o()(c,e)}))},t.b=function(e,t){var n;return"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(r.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(n||[]).forEach(r.triggerPixel),e.action},t.e=function(e,t){var n={};Object(r.deepAccess)(t,"nativeParams.rendererUrl")?e.native.rendererUrl=g(t.nativeParams.rendererUrl):Object(r.deepAccess)(t,"nativeParams.adTemplate")&&(e.native.adTemplate=g(t.nativeParams.adTemplate));var i=!1!==Object(r.deepAccess)(t,"nativeParams.sendTargetingKeys"),o=function(e){var t={};return Object(r.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),u(u({},d.NATIVE_KEYS),t)}(t),a=u(u({},e.native),e.native.ext);return delete a.ext,Object.keys(a).forEach((function(a){var c=o[a],u=g(e.native[a])||g(Object(r.deepAccess)(e,"native.ext.".concat(a)));if("adTemplate"!==a&&c&&u){var s=Object(r.deepAccess)(t,"nativeParams.".concat(a,".sendId"));"boolean"!=typeof s&&(s=Object(r.deepAccess)(t,"nativeParams.ext.".concat(a,".sendId"))),s&&(u="".concat(c,":").concat(e.adId));var d=Object(r.deepAccess)(t,"nativeParams.".concat(a,".sendTargetingKeys"));"boolean"!=typeof d&&(d=Object(r.deepAccess)(t,"nativeParams.ext.".concat(a,".sendTargetingKeys"))),("boolean"==typeof d?d:i)&&(n[c]=u)}})),n},t.d=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(n.adTemplate=g(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(n.rendererUrl=g(t.native.rendererUrl)),e.assets.forEach((function(e){var i=Object(r.getKeyByValue)(d.NATIVE_KEYS,e),o=g(t.native[i]);n.assets.push({key:i,value:o})})),n},t.c=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e,r){if("adTemplate"===e&&t.native[e])n.adTemplate=g(t.native[e]);else if("rendererUrl"===e&&t.native[e])n.rendererUrl=g(t.native[e]);else if("ext"===e)Object.keys(t.native[e]).forEach((function(r){if(t.native[e][r]){var i=g(t.native[e][r]);n.assets.push({key:r,value:i})}}));else if(t.native[e]&&d.NATIVE_KEYS.hasOwnProperty(e)){var i=g(t.native[e]);n.assets.push({key:e,value:i})}})),n};var r=n(0),i=n(12),o=n.n(i);function a(e){return(a="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(5),f=[],l=Object.keys(d.NATIVE_KEYS).map((function(e){return d.NATIVE_KEYS[e]})),p={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function g(e){return"object"===a(e)&&e.url?e.url:e}},4:function _(e,t,n){n.d(t,"a",(function(){return c})),t.b=u;var r=n(3),i=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return(a="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var c=u();function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,c=t.done;return function(t,u,s){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var f,l=d.method||(s?"POST":"GET"),p=document.createElement("a");p.href=t;var g="object"===a(u)&&null!==u?u:{success:function success(){Object(i.logMessage)("xhr success")},error:function error(e){Object(i.logError)("xhr error",null,e)}};if("function"==typeof u&&(g.success=u),(f=new window.XMLHttpRequest).onreadystatechange=function(){if(4===f.readyState){"function"==typeof c&&c(p.origin);var e=f.status;e>=200&&e<300||304===e?g.success(f.responseText,f):g.error(f.statusText,f)}},r.b.getConfig("disableAjaxTimeout")||(f.ontimeout=function(){Object(i.logError)("  xhr timeout after ",f.timeout,"ms")}),"GET"===l&&s){var b=Object(i.parseUrl)(t,d);o(b.search,s),t=Object(i.buildUrl)(b)}f.open(l,t,!0),r.b.getConfig("disableAjaxTimeout")||(f.timeout=e),d.withCredentials&&(f.withCredentials=!0),Object(i._each)(d.customHeaders,(function(e,t){f.setRequestHeader(t,e)})),d.preflight&&f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("Content-Type",d.contentType||"text/plain"),"function"==typeof n&&n(p.origin),"POST"===l&&s?f.send(s):f.send()}catch(e){Object(i.logError)("xhr construction",e),"object"===a(u)&&null!==u&&u.error(e)}}}},40:function _(e,t,n){n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return T})),t.c=I,n.d(t,"d",(function(){return w}));var r=n(0),i=n(3),o=n(39),a=n(22),c=n(100),u=n(2),s=n(9),d=n(12),f=n.n(d),l=n(11),p=n.n(l);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=n(5),m=[],O="targetingControls.allowTargetingKeys",j="targetingControls.addTargetingKeys",S='Only one of "'.concat(O,'" or "').concat(j,'" can be set'),E=Object.keys(h.TARGETING_KEYS).map((function(e){return h.TARGETING_KEYS[e]})),A={isBidNotExpired:function isBidNotExpired(e){return e.responseTimestamp+1e3*e.ttl-1e3>Object(r.timestamp)()},isUnusedBid:function isUnusedBid(e){return e&&(e.status&&!f()([h.BID_STATUS.RENDERED],e.status)||!e.status)}},T=Object(s.b)("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!o){var a=[],c=i.b.getConfig("sendBidsControl.dealPrioritization"),u=Object(r.groupBy)(e,"adUnitCode");return Object.keys(u).forEach((function(e){var i=[],o=Object(r.groupBy)(u[e],"bidderCode");Object.keys(o).forEach((function(e){return i.push(o[e].reduce(t))})),n>0?(i=c?i.sort(I(!0)):i.sort((function(e,t){return t.cpm-e.cpm})),a.push.apply(a,v(i.slice(0,n)))):a.push.apply(a,v(i))})),a}return e}));function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var w=function(e){var t={},n={};function a(e,t){return e.adserverTargeting&&t&&(Object(r.isArray)(t)&&f()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function s(e,t){if(!0===i.b.getConfig("targetingControls.alwaysIncludeDeals")){var n=E.concat(o.a);return T(t,r.getHighestCpm).map((function(t){if(t.dealId&&a(t,e))return b({},t.adUnitCode,N(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function d(e,t){var n=g({},h.TARGETING_KEYS,h.NATIVE_KEYS),i=Object.keys(n),o={};Object(r.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var r=Object.keys(e)[0],a=e[r].filter((function(e){var r=Object.keys(e)[0],a=0===i.filter((function(e){return 0===r.indexOf(n[e])})).length||p()(t,(function(e){var t=n[e];return 0===r.indexOf(t)}));return o[r]=!a,a}));e[r]=a}));var a=Object.keys(o).filter((function(e){return o[e]}));return Object(r.logInfo)("allowTargetingKeys - removed keys [ ".concat(a.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function l(e,t){var n=Object(r.deepClone)(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(I()).reduce((function(e,i,o,a){var c,u=(c=i.adserverTargeting,Object.keys(c).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(c[t]),"%26")}),""));o+1===a.length&&(u=u.slice(0,-3));var s=i.adUnitCode,d=u.length;return d<=t?(t-=d,Object(r.logInfo)("AdUnit '".concat(s,"' auction keys comprised of ").concat(d," characters.  Deducted from running threshold; new limit is ").concat(t),n[s]),e[s]=n[s]):Object(r.logWarn)("The following keys for adUnitCode '".concat(s,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(d,", the current allotted amount was ").concat(t,".\n"),n[s]),o+1===a.length&&0===Object.keys(e).length&&Object(r.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function y(e){return e.map((function(e){return b({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return b({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return g(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=g({},e[n],t[n]),e}),{})}function w(t){return"string"==typeof t?[t]:Object(r.isArray)(t)?t:e.getAdUnitCodes()||[]}function C(){var t=e.getBidsReceived();return i.b.getConfig("useBidCache")||(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}))),t=t.filter((function(e){return Object(r.deepAccess)(e,"video.context")!==u.a})).filter((function(e){return"banner"!==e.mediaType||Object(c.c)([e.width,e.height])})).filter(A.isUnusedBid).filter(A.isBidNotExpired),T(t,r.getOldestHighestCpmBid)}function R(e,n){var r=t.getWinningBids(e,n),i=_();return r.map((function(e){return b({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=b({},n.substring(0,20),r);if(n===h.TARGETING_KEYS.DEAL){var o=b({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(v(t),[i,o])}return[].concat(v(t),[i])}),[]))}))}function _(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(E).filter(r.uniques)}function U(e,t,n,i){return Object.keys(t.adserverTargeting).filter(B()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){Object(r.isArray)(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(r.uniques),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function B(){var e=_().concat(o.a);return function(t){return-1===e.indexOf(t)}}function x(e){return b({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(B()).map((function(t){return b({},t.substring(0,20),[e.adserverTargeting[t]])})))}function D(e,t){return t.filter((function(t){return f()(e,t.adUnitCode)})).map((function(e){return g({},e)})).reduce(U,[]).map(x).filter((function(e){return e}))}function k(e,t){var n=E.concat(o.a),c=i.b.getConfig("sendBidsControl.bidLimit"),u=T(t,r.getHighestCpm,c),s=i.b.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),d=s?s.map((function(e){return h.TARGETING_KEYS[e]})):n;return u.map((function(t){if(a(t,e))return b({},t.adUnitCode,N(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==d.indexOf(e)}))))})).filter((function(e){return e}))}function N(e,t){return t.map((function(t){return b({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function P(t){function n(e){return Object(r.deepAccess)(e,h.JSON_MAPPING.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return f()(t,e.code)&&n(e)})).map((function(e){return b({},e.code,function(e){var t=n(e);return Object.keys(t).map((function(e){return Object(r.isStr)(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),Object(r.isArray)(t[e])||(t[e]=[t[e]]),b({},e,t[e])}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if(Object(r.isGptPubadsDefined)()){var i=w(t),o=e.getAdUnits().filter((function(e){return f()(i,e.code)})),a=m.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=Object(r.isFn)(n)&&n(e);o.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||Object(r.isFn)(t)&&t(n.code))&&e.updateTargetingFromMap(a)}))}))}},t.resetPresetTargetingAST=function(e){w(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){f()(m,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C(),n=w(e),o=R(n,t).concat(D(n,t)).concat(i.b.getConfig("enableSendAllBids")?k(n,t):s(n,t)).concat(P(n));o.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===m.indexOf(Object.keys(e)[0])&&(m=Object.keys(e).concat(m))}))}))}));var a=Object.keys(g({},h.DEFAULT_TARGETING_KEYS,h.NATIVE_KEYS)),c=i.b.getConfig(O),u=i.b.getConfig(j);if(null!=u&&null!=c)throw new Error(S);c=null!=u?a.concat(u):c||a,Array.isArray(c)&&c.length>0&&(o=d(o,c)),o=y(o);var f=i.b.getConfig("targetingControls.auctionKeyMaxChars");return f&&(Object(r.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(f," characters.  Running checks on auction keys...")),o=l(o,f)),n.forEach((function(e){o[e]||(o[e]={})})),o},i.b.getConfig("targetingControls",(function(e){null!=Object(r.deepAccess)(e,O)&&null!=Object(r.deepAccess)(e,j)&&Object(r.logError)(S)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):Object(r.isAdUnitCodeMatchingSlot)(n)).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r})),Object(r.logMessage)("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C(),n=w(e);return t.filter((function(e){return f()(n,e.adUnitCode)})).filter((function(e){return Object(r.isAllowZeroCpmBidsEnabled)(e.bidderCode)?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(r.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(r.getHighestCpm)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){Object(r.logError)("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(Object(r.logMessage)("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),Object(r.isStr)(n[e][t])||Object(r.isArray)(n[e][t])){var i={};t.search(/pt[0-9]/)<0?i[t.toUpperCase()]=n[e][t]:i[t]=n[e][t],window.apntag.setKeywords(e,i,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&Object(r.isFn)(window.apntag.setKeywords))return!0},t}(a.a)},41:function _(e,t){e.exports={}},42:function _(e,t,n){var r=n(17),i=n(24),o=n(23)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},43:function _(e,t,n){t.a=function(e,t){return new i(e,t)};var r=n(0);function i(e,t){var n=t&&t.src||"client",i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=Object(r.getUniqueIdentifierStr)(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=n,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}},44:function _(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},45:function _(e,t){e.exports={}},458:function _(e,t,n){n(459);var r=n(45);e.exports=r.URLSearchParams},459:function _(e,t,n){n(99);var r=n(16),i=n(26),o=n(460),a=n(71),c=n(94),u=n(59),s=n(95),d=n(46),f=n(68),l=n(31),p=n(25),g=n(58),b=n(17),v=n(30),y=n(70),h=n(44),m=n(73),O=n(57),j=n(23),S=i("fetch"),E=i("Headers"),A=j("iterator"),T="URLSearchParams",I="URLSearchParamsIterator",w=d.set,C=d.getterFor(T),R=d.getterFor(I),_=/\+/g,U=Array(4),B=function B(e){return U[e-1]||(U[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},x=function x(e){try{return decodeURIComponent(e)}catch(t){return e}},D=function D(e){var t=e.replace(_," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(B(n--),x);return t}},k=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function P(e){return N[e]},q=function q(e){return encodeURIComponent(e).replace(k,P)},M=function M(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:D(r.shift()),value:D(r.join("="))}))},G=function G(e){this.entries.length=0,M(this.entries,e)},L=function L(e,t){if(e<t)throw TypeError("Not enough arguments")},W=s((function(e,t){w(this,{type:I,iterator:m(C(e).entries),kind:t})}),"Iterator",(function(){var e=R(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),F=function F(){f(this,F,T);var e,t,n,r,i,o,a,c,u,s=arguments.length>0?arguments[0]:void 0,d=this,p=[];if(w(d,{type:T,entries:p,updateURL:function updateURL(){},updateSearchParams:G}),void 0!==s)if(v(s))if("function"==typeof(e=O(s)))for(n=(t=e.call(s)).next;!(r=n.call(t)).done;){if((a=(o=(i=m(b(r.value))).next).call(i)).done||(c=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:c.value+""})}else for(u in s)l(s,u)&&p.push({key:u,value:s[u]+""});else M(p,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},z=F.prototype;c(z,{append:function append(e,t){L(arguments.length,2);var n=C(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function _delete(e){L(arguments.length,1);for(var t=C(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function get(e){L(arguments.length,1);for(var t=C(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function getAll(e){L(arguments.length,1);for(var t=C(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function has(e){L(arguments.length,1);for(var t=C(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function set(e,t){L(arguments.length,1);for(var n,r=C(this),i=r.entries,o=!1,a=e+"",c=t+"",u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,n.value=c));o||i.push({key:a,value:c}),r.updateURL()},sort:function sort(){var e,t,n,r=C(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function forEach(e){for(var t,n=C(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function keys(){return new W(this,"keys")},values:function values(){return new W(this,"values")},entries:function entries(){return new W(this,"entries")}},{enumerable:!0}),a(z,A,z.entries),a(z,"toString",(function(){for(var e,t=C(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(q(e.key)+"="+q(e.value));return n.join("&")}),{enumerable:!0}),u(F,T),r({global:!0,forced:!o},{URLSearchParams:F}),o||"function"!=typeof S||"function"!=typeof E||r({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(e){var t,n,r,i=[e];return arguments.length>1&&(v(t=arguments[1])&&(n=t.body,g(n)===T&&((r=t.headers?new E(t.headers):new E).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:h(0,String(n)),headers:h(0,r)}))),i.push(t)),S.apply(this,i)}}),e.exports={URLSearchParams:F,getState:C}},46:function _(e,t,n){var r,i,o,a=n(124),c=n(27),u=n(30),s=n(32),d=n(31),f=n(65),l=n(69),p=n(56),g="Object already initialized",b=c.WeakMap;if(a||f.state){var v=f.state||(f.state=new b),y=v.get,h=v.has,m=v.set;r=function r(e,t){if(h.call(v,e))throw new TypeError(g);return t.facade=e,m.call(v,e,t),t},i=function i(e){return y.call(v,e)||{}},o=function o(e){return h.call(v,e)}}else{var O=l("state");p[O]=!0,r=function r(e,t){if(d(e,O))throw new TypeError(g);return t.facade=e,s(e,O,t),t},i=function i(e){return d(e,O)?e[O]:{}},o=function o(e){return d(e,O)}}e.exports={set:r,get:i,has:o,enforce:function enforce(e){return o(e)?i(e):r(e,{})},getterFor:function getterFor(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},460:function _(e,t,n){var r=n(29),i=n(23),o=n(18),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},48:function _(e,t,n){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(11),i=n.n(r),o=n(0),a={buckets:[{max:5,increment:.5}]},c={buckets:[{max:20,increment:.1}]},u={buckets:[{max:20,increment:.01}]},s={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":l(e,a,n),med:""===r?"":l(e,c,n),high:""===r?"":l(e,u,n),auto:""===r?"":l(e,d,n),dense:""===r?"":l(e,s,n),custom:""===r?"":l(e,t,n)}}function l(e,t,n){var r="";if(!p(t))return r;var o=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),a=0,c=i()(t.buckets,(function(t){if(e>o.max*n){var i=t.precision;void 0===i&&(i=2),r=(t.max*n).toFixed(i)}else{if(e<=t.max*n&&e>=a*n)return t.min=a,t;a=t.max}}));return c&&(r=function(e,t,n){var r=void 0!==t.precision?t.precision:2,i=t.increment*n,o=t.min*n,a=Math.pow(10,r+2),c=(e*a-o*a)/(i*a),u=Math.floor(c)*i+o;return(u=Number(u.toFixed(10))).toFixed(r)}(e,c,n)),r}function p(e){if(Object(o.isEmpty)(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},49:function _(e,t,n){var r=n(83),i=n(51);e.exports=function(e){return r(i(e))}},5:function _(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain"},DEFAULT_TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"}}},50:function _(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},51:function _(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},52:function _(e,t,n){var r=n(51);e.exports=function(e){return Object(r(e))}},53:function _(e,t,n){var r=n(64),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},54:function _(e,t){e.exports=function(){}},55:function _(e,t,n){var r=n(26);e.exports=r},56:function _(e,t){e.exports={}},57:function _(e,t,n){var r=n(58),i=n(41),o=n(23)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},58:function _(e,t,n){var r=n(67),i=n(50),o=n(23)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},59:function _(e,t,n){var r=n(67),i=n(34).f,o=n(32),a=n(31),c=n(123),u=n(23)("toStringTag");e.exports=function(e,t,n,s){if(e){var d=n?e:e.prototype;a(d,u)||i(d,u,{configurable:!0,value:t}),s&&!r&&o(d,"toString",c)}}},60:function _(e,t,n){n.d(t,"a",(function(){return p}));var r=n(0),i=n(3),o=n(12),a=n.n(o),c=n(7);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}i.b.setDefaults({userSync:Object(r.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var f=Object(c.a)("usersync"),l=!Object(r.isSafariBrowser)()&&f.cookiesAreEnabled(),p=function(e){var t={},n={image:[],iframe:[]},o=new Set,c={},s={image:!0,iframe:!1},f=e.config;function l(){if(f.syncEnabled&&e.browserSupportsCookies){try{s.iframe&&p(n.iframe,(function(e){var t=u(e,2),i=t[0],o=t[1];Object(r.logMessage)("Invoking iframe user sync for bidder: ".concat(i)),Object(r.insertUserSyncIframe)(o),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,i)})),s.image&&p(n.image,(function(e){var t=u(e,2),n=t[0],i=t[1];Object(r.logMessage)("Invoking image pixel user sync for bidder: ".concat(n)),Object(r.triggerPixel)(i)}))}catch(e){return Object(r.logError)("Error firing user syncs",e)}n={image:[],iframe:[]}}}function p(e,t){Object(r.shuffle)(e).forEach((function(e){t(e),o.add(e[0])}))}function g(e,t){var n=f.filterSettings;if(function(e,t){if(e.all&&e[t])return Object(r.logWarn)('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],i=e.all?"all":t;if(!n)return!1;var o=n.filter,a=n.bidders;return o&&"include"!==o&&"exclude"!==o?(Object(r.logWarn)('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(o,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===a||Array.isArray(a)&&a.length>0&&a.every((function(e){return Object(r.isStr)(e)&&"*"!==e})))||(Object(r.logWarn)('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){s[e]=!0;var i=n.all?n.all:n[e],o="*"===i.bidders?[t]:i.bidders;return{include:function include(e,t){return!a()(e,t)},exclude:function exclude(e,t){return a()(e,t)}}[i.filter||"include"](o,t)}return!s[e]}return i.b.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Object(r.isPlainObject)(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}f=d(f,e.userSync)})),t.registerSync=function(e,i,a){return o.has(i)?Object(r.logMessage)('already fired syncs for "'.concat(i,'", ignoring registerSync call')):f.syncEnabled&&Object(r.isArray)(n[e])?i?0!==f.syncsPerBidder&&Number(c[i])>=f.syncsPerBidder?Object(r.logWarn)('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(n[e].push([i,a]),void(c=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(c,i))):Object(r.logWarn)('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):Object(r.logWarn)("Bidder is required for registering sync"):Object(r.logWarn)('User sync type "'.concat(e,'" not supported'))},t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(l,Number(e));l()},t.triggerUserSyncs=function(){f.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!f.filterSettings||!g(e,t)},t}({config:i.b.getConfig("userSync"),browserSupportsCookies:l})},61:function _(e,t,n){t.a=function(e,t){o.adServers=o.adServers||{},o.adServers[e]=o.adServers[e]||{},Object.keys(t).forEach((function(n){o.adServers[e][n]?Object(i.logWarn)("Attempting to add an already registered function property ".concat(n," for AdServer ").concat(e,".")):o.adServers[e][n]=t[n]}))};var r=n(14),i=n(0),o=Object(r.a)()},62:function _(e,t,n){var r=n(30);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},63:function _(e,t,n){var r=n(25),i=n(83),o=n(52),a=n(53),c=n(110),u=[].push,s=function s(e){var t=1==e,n=2==e,s=3==e,d=4==e,f=6==e,l=7==e,p=5==e||f;return function(g,b,v,y){for(var h,m,O=o(g),j=i(O),S=r(b,v,3),E=a(j.length),A=0,T=y||c,I=t?T(g,E):n||l?T(g,0):void 0;E>A;A++)if((p||A in j)&&(m=S(h=j[A],A,O),e))if(t)I[A]=m;else if(m)switch(e){case 3:return!0;case 5:return h;case 6:return A;case 2:u.call(I,h)}else switch(e){case 4:return!1;case 7:u.call(I,h)}return f?-1:s||d?d:I}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},64:function _(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},65:function _(e,t,n){var r=n(27),i=n(112),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},66:function _(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},67:function _(e,t,n){var r={};r[n(23)("toStringTag")]="z",e.exports="[object z]"===String(r)},68:function _(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},69:function _(e,t,n){var r=n(86),i=n(66),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},7:function _(e,t,n){n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),t.a=function(e){return s({moduleName:e,moduleType:"core"})},t.b=function(e,t){return s({gvlid:e,moduleName:t})};var r=n(9),i=n(0),o=n(12),a=n.n(o),c=["core","prebid-module"],u=[];function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.gvlid,n=e.moduleName,r=e.moduleType;function o(e){return a()(c,r)?e({valid:!0}):(d(t,n,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)o=e(t);else{var n={hasEnforcementHook:!1,valid:Object(i.hasDeviceAccess)()};o=e(n)}})),o);var o}var s=function s(e,t,n,r,i,a){var c=function c(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",c=n&&""!==n?" ;expires=".concat(n):"",u=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(c,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(u)}};if(!a||"function"!=typeof a)return o(c);u.push((function(){var e=o(c);a(e)}))},f=function f(e,t){var n=function n(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null};if(!t||"function"!=typeof t)return o(n);u.push((function(){var e=o(n);t(e)}))},l=function l(e){var t=function t(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1};if(!e||"function"!=typeof e)return o(t);u.push((function(){var n=o(t);e(n)}))},p=function p(e){var t=function t(e){return!(!e||!e.valid||!Object(i.checkCookieSupport)()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))};if(!e||"function"!=typeof e)return o(t);u.push((function(){var n=o(t);e(n)}))},g=function g(e,t,n){var r=function r(n){n&&n.valid&&y()&&window.localStorage.setItem(e,t)};if(!n||"function"!=typeof n)return o(r);u.push((function(){var e=o(r);n(e)}))},b=function b(e,t){var n=function n(t){return t&&t.valid&&y()?window.localStorage.getItem(e):null};if(!t||"function"!=typeof t)return o(n);u.push((function(){var e=o(n);t(e)}))},v=function v(e,t){var n=function n(t){t&&t.valid&&y()&&window.localStorage.removeItem(e)};if(!t||"function"!=typeof t)return o(n);u.push((function(){var e=o(n);t(e)}))},y=function y(e){var t=function t(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){Object(i.logError)("Local storage api disabled")}return!1};if(!e||"function"!=typeof e)return o(t);u.push((function(){var n=o(t);e(n)}))},h=function h(e,t){var n=function n(t){if(t&&t.valid){var n=[];if(Object(i.hasDeviceAccess)())for(var r=document.cookie.split(";");r.length;){var o=r.pop(),a=o.indexOf("=");a=a<0?o.length:a,decodeURIComponent(o.slice(0,a).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(o.slice(a+1)))}return n}};if(!t||"function"!=typeof t)return o(n);u.push((function(){var e=o(n);t(e)}))};return{setCookie:s,getCookie:f,localStorageIsEnabled:l,cookiesAreEnabled:p,setDataInLocalStorage:g,getDataFromLocalStorage:b,removeDataFromLocalStorage:v,hasLocalStorage:y,findSimilarCookies:h}}var d=Object(r.b)("async",(function(e,t,n,r){r(n)}),"validateStorageEnforcement")},70:function _(e,t,n){var r,i=n(17),o=n(127),a=n(93),c=n(56),u=n(130),s=n(85),d,f=n(69)("IE_PROTO"),l=function l(){},p=function p(e){return"<script>"+e+"<\/script>"},_g=function g(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;_g=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete _g.prototype[a[n]];return _g()};c[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=i(e),n=new l,l.prototype=null,n[f]=e):n=_g(),void 0===t?n:o(n,t)}},71:function _(e,t,n){var r=n(32);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},72:function _(e,t,n){var r=n(16),i=n(95),o=n(97),a=n(132),c=n(59),u=n(32),s=n(71),d=n(23),f=n(18),l=n(41),p=n(96),g=p.IteratorPrototype,b=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),y="keys",h="values",m="entries",O=function O(){return this};e.exports=function(e,t,n,d,p,j,S){i(n,t,d);var E,A,T,I=function I(e){if(e===p&&U)return U;if(!b&&e in R)return R[e];switch(e){case y:case h:case m:return function(){return new n(this,e)}}return function(){return new n(this)}},w=t+" Iterator",C=!1,R=e.prototype,_=R[v]||R["@@iterator"]||p&&R[p],U=!b&&_||I(p),B="Array"==t&&R.entries||_;if(B&&(E=o(B.call(new e)),g!==Object.prototype&&E.next&&(f||o(E)===g||(a?a(E,g):"function"!=typeof E[v]&&u(E,v,O)),c(E,w,!0,!0),f&&(l[w]=O))),p==h&&_&&_.name!==h&&(C=!0,U=function U(){return _.call(this)}),f&&!S||R[v]===U||u(R,v,U),l[t]=U,p)if(A={values:I(h),keys:j?U:I(y),entries:I(m)},S)for(T in A)(b||C||!(T in R))&&s(R,T,A[T]);else r({target:t,proto:!0,forced:b||C},A);return A}},73:function _(e,t,n){var r=n(17),i=n(57);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},74:function _(e,t,n){var r=n(161);e.exports=r},75:function _(e,t,n){n.d(t,"a",(function(){return a}));var r=n(0),i={};function o(e,t,n){var r=function(e,t){var n=i[e]=i[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var a={incrementRequestsCounter:function incrementRequestsCounter(e){return o(e,"requestsCounter")},incrementBidderRequestsCounter:function incrementBidderRequestsCounter(e,t){return o(e,"requestsCounter",t)},incrementBidderWinsCounter:function incrementBidderWinsCounter(e,t){return o(e,"winsCounter",t)},getRequestsCounter:function getRequestsCounter(e){return Object(r.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function getBidderRequestsCounter(e,t){return Object(r.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function getBidderWinsCounter(e,t){return Object(r.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},79:function _(e,t,n){var r=n(220);e.exports=r},8:function _(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"gdprDataHandler",(function(){return x})),n.d(t,"uspDataHandler",(function(){return D})),n.d(t,"coppaDataHandler",(function(){return k})),n.d(t,"clientTestAdapters",(function(){return N})),n.d(t,"allS2SBidders",(function(){return P})),t.getAllS2SBidders=q,t.setS2STestingModule=function(e){A=e};var r=n(0),i=n(100),o=n(39),a=n(1),c=n(4),u=n(3),s=n(9),d=n(12),f=n.n(d),l=n(11),p=n.n(l),g=n(75),b=n(19);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A,T=n(5),I=n(10),w={},C=w.bidderRegistry={},R=w.aliasRegistry={},_=[];u.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(_=Object(r.isArray)(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var U={},B=Object(s.b)("sync",(function(e){var t=e.bidderCode,n=e.auctionId,a=e.bidderRequestId,c=e.adUnits,u=e.labels,s=e.src;return c.reduce((function(e,c){var d=Object(i.b)(Object(i.a)(c,u),c.mediaTypes,c.sizes),f=d.active,l=d.mediaTypes,p=d.filterResults;return f?p&&Object(r.logInfo)('Size mapping filtered adUnit "'.concat(c.code,'" banner sizes from '),p.before,"to ",p.after):Object(r.logInfo)('Size mapping disabled adUnit "'.concat(c.code,'"')),f&&e.push(c.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var d=c.nativeParams||Object(r.deepAccess)(c,"mediaTypes.native");d&&(t=E({},t,{nativeParams:Object(o.h)(d)})),t=E({},t,Object(r.getDefinedParams)(c,["ortb2Imp","mediaType","renderer","storedAuctionResponse"]));var f=Object(i.b)(Object(i.a)(t,u),l),p=f.active,b=f.mediaTypes,v=f.filterResults;return p?v&&Object(r.logInfo)('Size mapping filtered adUnit "'.concat(c.code,'" bidder "').concat(t.bidder,'" banner sizes from '),v.before,"to ",v.after):Object(r.logInfo)('Size mapping deactivated adUnit "'.concat(c.code,'" bidder "').concat(t.bidder,'"')),Object(r.isValidMediaTypes)(b)?t=E({},t,{mediaTypes:b}):Object(r.logError)("mediaTypes is not correctly configured for adunit ".concat(c.code)),p&&e.push(E({},t,{adUnitCode:c.code,transactionId:c.transactionId,sizes:Object(r.deepAccess)(b,"banner.sizes")||Object(r.deepAccess)(b,"video.playerSize")||[],bidId:t.bid_id||Object(r.getUniqueIdentifierStr)(),bidderRequestId:a,auctionId:n,src:s,bidRequestsCount:g.a.getRequestsCounter(c.code),bidderRequestsCount:g.a.getBidderRequestsCounter(c.code,t.bidder),bidderWinsCount:g.a.getBidderWinsCounter(c.code,t.bidder)})),e}),[])),e}),[]).reduce(r.flatten,[]).filter((function(e){return""!==e}))}),"getBids"),x={consentData:null,setConsentData:function setConsentData(e){x.consentData=e},getConsentData:function getConsentData(){return x.consentData}},D={consentData:null,setConsentData:function setConsentData(e){D.consentData=e},getConsentData:function getConsentData(){return D.consentData}},k={getCoppa:function getCoppa(){return!!u.b.getConfig("coppa")}},N=[],P=[];function q(){w.s2STestingEnabled=!1,_.forEach((function(e){e&&e.enabled&&e.bidders&&e.bidders.length&&P.push.apply(P,O(e.bidders))}))}function M(e){return e&&e.enabled&&e.testing&&A}function G(e,t,n){try{var i=C[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&(Object(r.logInfo)("Invoking ".concat(e,".").concat(t)),u.b.runWithBidder(e,r.bind.call(i[t],i,n)))}catch(n){Object(r.logWarn)("Error calling ".concat(t," of ").concat(e))}}w.makeBidRequests=Object(s.b)("sync",(function(e,t,n,i,o){I.emit(T.EVENTS.BEFORE_REQUEST_BIDS,e);var a=Object(r.getBidderCodes)(e);u.b.getConfig("bidderSequence")===u.a&&(a=Object(r.shuffle)(a));var c=Object(b.a)(),s=a,d=[];0===P.length&&q(),_.forEach((function(t){t&&t.enabled&&M(t)&&(A.calculateBidSources(t),A.getSourceBidderMap(e,P)[A.CLIENT].forEach((function(e){f()(N,e)||N.push(e)})))})),s=a.filter((function(e){return!f()(P,e)||f()(N,e)}));var l=P;_.forEach((function(i){if(i&&i.enabled){(function(e){return Boolean(M(e)&&e.testServerOnly)})(i)&&function(e,t){return Boolean(p()(e,(function(e){return p()(e.bids,(function(e){return(e.bidSource||t.bidderControl&&t.bidderControl[e.bidder])&&e.finalSource===A.SERVER}))})))}(e,i)&&(Object(r.logWarn)("testServerOnly: True.  All client requests will be suppressed."),s.length=0);var a=function(e,t){var n=t.bidders,i=Object(r.deepClone)(e);return i.forEach((function(e){e.bids=e.bids.filter((function(e){return f()(n,e.bidder)&&(!M(t)||e.finalSource!==A.CLIENT)})).map((function(e){return e.bid_id=Object(r.getUniqueIdentifierStr)(),e}))})),i.filter((function(e){return 0!==e.bids.length}))}(e,i),u=Object(r.generateUUID)();l.forEach((function(e){var s=Object(r.getUniqueIdentifierStr)(),f={bidderCode:e,auctionId:n,bidderRequestId:s,uniquePbsTid:u,bids:B({bidderCode:e,auctionId:n,bidderRequestId:s,adUnits:Object(r.deepClone)(a),labels:o,src:T.S2S.SRC}),auctionStart:t,timeout:i.timeout,src:T.S2S.SRC,refererInfo:c};0!==f.bids.length&&d.push(f)})),a.forEach((function(e){var t=e.bids.filter((function(e){return p()(d,(function(t){return p()(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),d.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=a.filter((function(e){return e.bids.length>0})))}))}}));var g=function(e){var t=Object(r.deepClone)(e);return t.forEach((function(e){e.bids=e.bids.filter((function(e){return!N.length||e.finalSource!==A.SERVER}))})),t.filter((function(e){return 0!==e.bids.length}))}(e);return s.forEach((function(e){var a=Object(r.getUniqueIdentifierStr)(),u={bidderCode:e,auctionId:n,bidderRequestId:a,bids:B({bidderCode:e,auctionId:n,bidderRequestId:a,adUnits:Object(r.deepClone)(g),labels:o,src:"client"}),auctionStart:t,timeout:i,refererInfo:c},s=C[e];s||Object(r.logError)("Trying to make a request for bidder that does not exist: ".concat(e)),s&&u.bids&&0!==u.bids.length&&d.push(u)})),x.getConsentData()&&d.forEach((function(e){e.gdprConsent=x.getConsentData()})),D.getConsentData()&&d.forEach((function(e){e.uspConsent=D.getConsentData()})),d}),"makeBidRequests"),w.callBids=function(e,t,n,i,o,a,s){if(t.length){var d=m(t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===T.S2S.SRC)].push(t),e}),[[],[]]),2),l=d[0],p=d[1],g=[];p.forEach((function(e){for(var t=-1,n=0;n<g.length;++n)if(e.uniquePbsTid===g[n].uniquePbsTid){t=n;break}t<=-1&&g.push(e)}));var b=0,v=Object(r.generateUUID)();_.forEach((function(e){if(e&&g[b]&&f()(e.bidders,g[b].bidderCode)){var t=Object(c.b)(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),u=e.bidders,s=C[e.adapter],d=g[b].uniquePbsTid,l=g[b].adUnitsS2SCopy,h=p.filter((function(e){return e.uniquePbsTid===d}));if(s){var m={tid:v,ad_units:l,s2sConfig:e};if(m.ad_units.length){var O=h.map((function(e){return e.start=Object(r.timestamp)(),i.bind(e)})),j=m.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]);Object(r.logMessage)("CALLING S2S HEADER BIDDERS ==== ".concat(u.filter((function(e){return f()(j,e)})).join(","))),h.forEach((function(e){I.emit(T.EVENTS.BID_REQUESTED,y(y({},e),{},{tid:v}))})),s.callBids(m,p,(function(e,t){var i=Object(r.getBidderRequest)(p,t.bidderCode,e);i&&n.call(i,e,t)}),(function(){return O.forEach((function(e){return e()}))}),t)}}else Object(r.logError)("missing "+e.adapter);b++}})),l.forEach((function(e){e.start=Object(r.timestamp)();var t=C[e.bidderCode];u.b.runWithBidder(e.bidderCode,(function(){Object(r.logMessage)("CALLING BIDDER"),I.emit(T.EVENTS.BID_REQUESTED,e)}));var d=Object(c.b)(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),f=i.bind(e);try{u.b.runWithBidder(e.bidderCode,r.bind.call(t.callBids,t,e,n.bind(e),f,d,s,u.b.callbackWithBidder(e.bidderCode)))}catch(t){Object(r.logError)("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),f()}}))}else Object(r.logWarn)("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},w.videoAdapters=[],w.registerBidAdapter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.supportedMediaTypes,a=void 0===i?[]:i;e&&t?"function"==typeof e.callBids?(C[t]=e,f()(a,"video")&&w.videoAdapters.push(t),f()(a,"native")&&o.f.push(t)):Object(r.logError)("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):Object(r.logError)("bidAdapter or bidderCode not specified")},w.aliasBidAdapter=function(e,t,n){if(void 0===C[t]){var i=C[e];if(void 0===i){var c=[];_.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&f()(r,t)?R[t]=e:c.push(e)}})),c.forEach((function(e){Object(r.logError)('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var u,s=function(e){var t=[];return f()(w.videoAdapters,e)&&t.push("video"),f()(o.f,e)&&t.push("native"),t}(e);if(i.constructor.prototype!=Object.prototype)(u=new i.constructor).setBidderCode(t);else{var d=i.getSpec(),l=n&&n.gvlid,p=n&&n.skipPbsAliasing;u=Object(a.newBidder)(E({},d,{code:t,gvlid:l,skipPbsAliasing:p})),R[t]=e}w.registerBidAdapter(u,t,{supportedMediaTypes:s})}catch(t){Object(r.logError)(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else Object(r.logMessage)('alias name "'+t+'" has been already specified.')},w.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,i=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,U[n]={adapter:t,gvlid:i}):Object(r.logError)('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):Object(r.logError)("Prebid Error: analyticsAdapter or analyticsCode not specified")},w.enableAnalytics=function(e){Object(r.isArray)(e)||(e=[e]),Object(r._each)(e,(function(e){var t=U[e.provider].adapter;t?t.enableAnalytics(e):Object(r.logError)("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))}))},w.getBidAdapter=function(e){return C[e]},w.getAnalyticsAdapter=function(e){return U[e]},w.callTimedOutBidders=function(e,t,n){t=t.map((function(t){return t.params=Object(r.getUserConfiguredParams)(e,t.adUnitCode,t.bidder),t.timeout=n,t})),t=Object(r.groupBy)(t,"bidder"),Object.keys(t).forEach((function(e){G(e,"onTimeout",t[e])}))},w.callBidWonBidder=function(e,t,n){t.params=Object(r.getUserConfiguredParams)(n,t.adUnitCode,t.bidder),g.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),G(e,"onBidWon",t)},w.callSetTargetingBidder=function(e,t){G(e,"onSetTargeting",t)},w.callBidViewableBidder=function(e,t){G(e,"onBidViewable",t)},w.callBidderError=function(e,t,n){G(e,"onBidderError",{error:t,bidderRequest:n})},t.default=w},80:function _(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adUnitSetupChecks",(function(){return K})),n.d(t,"checkAdUnitSetup",(function(){return J})),t.executeCallbacks=Z;var r=n(14),i=n(0),o=n(230),a=n(60),c=n(3),u=n(22),s=n(40),d=n(9),f=n(231),l=n(12),p=n.n(l),g=n(75),b=n(13),v=n(43),y=n(7);function h(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=Object(r.a)(),S=n(5),E=n(8).default,A=n(10),T=a.a.triggerUserSyncs,I=S.EVENTS,w=I.ADD_AD_UNITS,C=I.BID_WON,R=I.REQUEST_BIDS,_=I.SET_TARGETING,U=I.AD_RENDER_FAILED,B=I.AD_RENDER_SUCCEEDED,x=I.STALE_RENDER,D=S.AD_RENDER_FAILED_REASON,k=D.PREVENT_WRITING_ON_MAIN_DOCUMENT,N=D.NO_AD,P=D.EXCEPTION,q=D.CANNOT_FIND_AD,M=D.MISSING_DOC_OR_ADID,G={bidWon:function bidWon(e){var t=u.a.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(i.flatten).filter(i.uniques);if(Object(i.contains)(t,e))return!0;Object(i.logError)('The "'+e+'" placement is not defined.')}};function L(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function W(e,t){var n=[];return Object(i.isArray)(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return Object(i.isArrayOfNums)(e,2)}))?n=e:Object(i.isArrayOfNums)(e,2)&&n.push(e)),n}function F(e){var t=Object(i.deepClone)(e),n=t.mediaTypes.banner,r=W(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):(Object(i.logError)("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function z(e){var t=Object(i.deepClone)(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,o=W(n.playerSize,r);o.length>0?(2===r&&Object(i.logInfo)("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=o,t.sizes=o):(Object(i.logError)("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function V(e){var t=Object(i.deepClone)(e),n=t.mediaTypes.native;return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(Object(i.logError)("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(Object(i.logError)("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(Object(i.logError)("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function H(e,t){var n=Object(i.deepAccess)(e,"mediaTypes.".concat(t,".pos"));if(!n||!Object(i.isNumber)(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");Object(i.logWarn)(r),A.emit(S.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}Object(f.a)(),j.bidderSettings=j.bidderSettings||{},j.libLoaded=!0,j.version="v6.5.0",Object(i.logInfo)("Prebid.js v6.5.0 loaded"),j.installedModules=j.installedModules||[],j.adUnits=j.adUnits||[],j.triggerUserSyncs=T;var K={validateBannerMediaType:F,validateVideoMediaType:z,validateNativeMediaType:V,validateSizes:W},J=Object(d.b)("sync",(function(e){var t=[];return e.forEach((function(e){var n,r,o,a=e.mediaTypes,c=e.bids;if(c&&Object(i.isArray)(c))if(a&&0!==Object.keys(a).length){a.banner&&(n=F(e),a.banner.hasOwnProperty("pos")&&(n=H(n,"banner"))),a.video&&(r=z(n||e),a.video.hasOwnProperty("pos")&&(r=H(r,"video"))),a.native&&(o=V(r||n||e));var u=O({},n,r,o);t.push(u)}else Object(i.logError)("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed."));else Object(i.logError)("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))})),t}),"checkAdUnitSetup");function Y(e){var t=u.a[e]().filter(i.bind.call(i.adUnitsFilter,this,u.a.getAdUnitCodes())),n=u.a.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(i.uniques).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},r={bids:e},(n=e[0].adUnitCode)in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return O(e,t)}),{})}function Q(e){var t=e.reason,n=e.message,r=e.bid,o=e.id,a={reason:t,message:n};r&&(a.bid=r),o&&(a.adId=o),Object(i.logError)(n),A.emit(U,a)}function $(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),A.emit(B,i)}function X(e,t,n){var r=t.querySelector(n);e.parentNode&&e.parentNode===r||Object(i.insertElement)(e,t,n)}function Z(e,t){function n(e){for(var t;t=e.shift();)t()}n(y.c),n(ee),e.call(this,t)}j.getAdserverTargetingForAdUnitCodeStr=function(e){if(Object(i.logInfo)("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=j.getAdserverTargetingForAdUnitCode(e);return Object(i.transformAdServerTargetingObj)(t)}Object(i.logMessage)("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},j.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=u.a.getAllBidsForAdUnitCode(e).filter(s.a.isUnusedBid).filter(s.a.isBidNotExpired);return t.length?t.reduce(i.getHighestCpm):{}}Object(i.logMessage)("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},j.getAdserverTargetingForAdUnitCode=function(e){return j.getAdserverTargeting(e)[e]},j.getAdserverTargeting=function(e){return Object(i.logInfo)("Invoking pbjs.getAdserverTargeting",arguments),s.d.getAllTargeting(e)},j.getNoBids=function(){return Object(i.logInfo)("Invoking pbjs.getNoBids",arguments),Y("getNoBids")},j.getNoBidsForAdUnitCode=function(e){return{bids:u.a.getNoBids().filter((function(t){return t.adUnitCode===e}))}},j.getBidResponses=function(){return Object(i.logInfo)("Invoking pbjs.getBidResponses",arguments),Y("getBidsReceived")},j.getBidResponsesForAdUnitCode=function(e){return{bids:u.a.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},j.setTargetingForGPTAsync=function(e,t){if(Object(i.logInfo)("Invoking pbjs.setTargetingForGPTAsync",arguments),Object(i.isGptPubadsDefined)()){var n=s.d.getAllTargeting(e);s.d.resetPresetTargeting(e,t),s.d.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&u.a.setStatusForBids(n[e][t],S.BID_STATUS.BID_TARGETING_SET)}))})),A.emit(_,n)}else Object(i.logError)("window.googletag is not defined on the page")},j.setTargetingForAst=function(e){Object(i.logInfo)("Invoking pbjs.setTargetingForAn",arguments),s.d.isApntagDefined()?(s.d.setTargetingForAst(e),A.emit(_,s.d.getAllTargeting())):Object(i.logError)("window.apntag is not defined on the page")},j.renderAd=Object(d.b)("async",(function(e,t,n){if(Object(i.logInfo)("Invoking pbjs.renderAd",arguments),Object(i.logMessage)("Calling renderAd with adId :"+t),e&&t)try{var r=u.a.findBidByAdId(t);if(r){var o=!0;if(r&&r.status===S.BID_STATUS.RENDERED&&(Object(i.logWarn)("Ad id ".concat(r.adId," has been rendered before")),A.emit(x,r),Object(i.deepAccess)(c.b.getConfig("auctionOptions"),"suppressStaleRender")&&(o=!1)),o){if(r.ad=Object(i.replaceAuctionPrice)(r.ad,r.cpm),r.adUrl=Object(i.replaceAuctionPrice)(r.adUrl,r.cpm),n&&n.clickThrough){var a=n.clickThrough;r.ad=Object(i.replaceClickThrough)(r.ad,a),r.adUrl=Object(i.replaceClickThrough)(r.adUrl,a)}u.a.addWinningBid(r),A.emit(C,r);var s=r.height,d=r.width,f=r.ad,l=r.mediaType,p=r.adUrl,g=r.renderer,v=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));if(Object(i.insertElement)(v,e,"html"),Object(b.c)(g))Object(b.b)(g,r),X(v,e,"html"),$({doc:e,bid:r,id:t});else if(e===document&&!Object(i.inIframe)()||"video"===l){var y="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");Q({reason:k,message:y,bid:r,id:t})}else if(f){if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var h=/firefox\/([\d\.]+)/,m=navigator.userAgent.toLowerCase().match(h)[1];m&&parseInt(m,10)<67&&e.open("text/html","replace")}e.write(f),e.close(),L(e,d,s),X(v,e,"html"),Object(i.callBurl)(r),$({doc:e,bid:r,id:t})}else if(p){var O=Object(i.createInvisibleIframe)();O.height=s,O.width=d,O.style.display="inline",O.style.overflow="hidden",O.src=p,Object(i.insertElement)(O,e,"body"),L(e,d,s),X(v,e,"html"),Object(i.callBurl)(r),$({doc:e,bid:r,id:t})}else{var j="Error trying to write ad. No ad for bid response id: ".concat(t);Q({reason:N,message:j,bid:r,id:t})}}}else{var E="Error trying to write ad. Cannot find ad by given id : ".concat(t);Q({reason:q,message:E,id:t})}}catch(e){var T="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);Q({reason:P,message:T,id:t})}else{var I="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");Q({reason:M,message:I,id:t})}})),j.removeAdUnit=function(e){Object(i.logInfo)("Invoking pbjs.removeAdUnit",arguments),e?(Object(i.isArray)(e)?e:[e]).forEach((function(e){for(var t=j.adUnits.length-1;t>=0;t--)j.adUnits[t].code===e&&j.adUnits.splice(t,1)})):j.adUnits=[]},j.requestBids=Object(d.b)("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,o=e.adUnitCodes,a=e.labels,d=e.auctionId;A.emit(R);var f=n||c.b.getConfig("bidderTimeout");r=r&&c.b.convertAdUnitFpd(Object(i.isArray)(r)?r:[r])||j.adUnits,Object(i.logInfo)("Invoking pbjs.requestBids",arguments);var l=[],b=[];if(c.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(l=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])})),l.forEach((function(e){b.push.apply(b,h(e.bidders))})),r=J(r),o&&o.length?r=r.filter((function(e){return p()(o,e.code)})):o=r&&r.map((function(e){return e.code})),r.forEach((function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),n=e.bids.map((function(e){return e.bidder})),r=E.bidderRegistry,o=b?n.filter((function(e){return!p()(b,e)})):n;e.transactionId=Object(i.generateUUID)(),o.forEach((function(n){var o=r[n],a=o&&o.getSpec&&o.getSpec(),c=a&&a.supportedMediaTypes||["banner"];t.some((function(e){return p()(c,e)}))?g.a.incrementBidderRequestsCounter(e.code,n):(Object(i.logWarn)(Object(i.unsupportedBidderMessage)(e,n)),e.bids=e.bids.filter((function(e){return e.bidder!==n})))})),g.a.incrementRequestsCounter(e.code)})),r&&0!==r.length){var v=u.a.createAuction({adUnits:r,adUnitCodes:o,callback:t,cbTimeout:f,labels:a,auctionId:d}),y=r.length;y>15&&Object(i.logInfo)("Current auction ".concat(v.getAuctionId()," contains ").concat(y," adUnits."),r),o.forEach((function(e){return s.d.setLatestAuctionForAdUnit(e,v.getAuctionId())})),v.callBids()}else if(Object(i.logMessage)("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){Object(i.logError)("Error executing bidsBackHandler",null,e)}})),j.requestBids.before(Z,49),j.addAdUnits=function(e){Object(i.logInfo)("Invoking pbjs.addAdUnits",arguments),j.adUnits.push.apply(j.adUnits,c.b.convertAdUnitFpd(Object(i.isArray)(e)?e:[e])),A.emit(w)},j.onEvent=function(e,t,n){Object(i.logInfo)("Invoking pbjs.onEvent",arguments),Object(i.isFn)(t)?!n||G[e].call(null,n)?A.on(e,t,n):Object(i.logError)('The id provided is not valid for event "'+e+'" and no handler was set.'):Object(i.logError)('The event handler provided is not a function and was not set on event "'+e+'".')},j.offEvent=function(e,t,n){Object(i.logInfo)("Invoking pbjs.offEvent",arguments),n&&!G[e].call(null,n)||A.off(e,t,n)},j.getEvents=function(){return Object(i.logInfo)("Invoking pbjs.getEvents"),A.getEvents()},j.registerBidAdapter=function(e,t){Object(i.logInfo)("Invoking pbjs.registerBidAdapter",arguments);try{E.registerBidAdapter(e(),t)}catch(e){Object(i.logError)("Error registering bidder adapter : "+e.message)}},j.registerAnalyticsAdapter=function(e){Object(i.logInfo)("Invoking pbjs.registerAnalyticsAdapter",arguments);try{E.registerAnalyticsAdapter(e)}catch(e){Object(i.logError)("Error registering analytics adapter : "+e.message)}},j.createBid=function(e){return Object(i.logInfo)("Invoking pbjs.createBid",arguments),Object(v.a)(e)};var ee=[],te=Object(d.b)("async",(function(e){e&&!Object(i.isEmpty)(e)?(Object(i.logInfo)("Invoking pbjs.enableAnalytics for: ",e),E.enableAnalytics(e)):Object(i.logError)("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function ne(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){Object(i.logError)("Error processing command :","prebid.js",e)}}))}j.enableAnalytics=function(e){ee.push(te.bind(this,e))},j.aliasBidder=function(e,t,n){Object(i.logInfo)("Invoking pbjs.aliasBidder",arguments),e&&t?E.aliasBidAdapter(e,t,n):Object(i.logError)("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},j.getAllWinningBids=function(){return u.a.getAllWinningBids()},j.getAllPrebidWinningBids=function(){return u.a.getBidsReceived().filter((function(e){return e.status===S.BID_STATUS.BID_TARGETING_SET}))},j.getHighestCpmBids=function(e){return s.d.getWinningBids(e)},j.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=u.a.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=s.d.getWinningBids(e.adUnitCode):e.adId?t=u.a.getBidsReceived().filter((function(t){return t.adId===e.adId})):Object(i.logWarn)("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=S.BID_STATUS.RENDERED)},j.getConfig=c.b.getConfig,j.readConfig=c.b.readConfig,j.mergeConfig=c.b.mergeConfig,j.mergeBidderConfig=c.b.mergeBidderConfig,j.setConfig=c.b.setConfig,j.setBidderConfig=c.b.setBidderConfig,j.que.push((function(){return Object(o.a)()})),j.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){Object(i.logError)("Error processing command :",e.message,e.stack)}else Object(i.logError)("Commands written into pbjs.cmd.push must be wrapped in a function")},j.que.push=j.cmd.push,j.processQueue=function(){d.b.ready(),ne(j.que),ne(j.cmd)},t.default=j},81:function _(e,t,n){var r=n(381);e.exports=r},82:function _(e,t,n){t.a=function(e){var t=e;return{callBids:function callBids(){},setBidderCode:function setBidderCode(e){t=e},getBidderCode:function getBidderCode(){return t}}}},83:function _(e,t,n){var r=n(29),i=n(50),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},84:function _(e,t,n){var r=n(33),i=n(29),o=n(85);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function get(){return 7}}).a}))},85:function _(e,t,n){var r=n(27),i=n(30),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},86:function _(e,t,n){var r=n(18),i=n(65);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},87:function _(e,t,n){var r=n(113),i=n(29);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},88:function _(e,t,n){var r=n(49),i=n(53),o=n(118),a=function a(e){return function(t,n,a){var c,u=r(t),s=i(u.length),d=o(a,s);if(e&&n!=n){for(;s>d;)if((c=u[d++])!=c)return!0}else for(;s>d;d++)if((e||d in u)&&u[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},89:function _(e,t,n){var r=n(119);n(139),n(141),n(143),n(145),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),e.exports=r},9:function _(e,t,n){n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),t.d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=e.getHooks({hook:t});0===r.length&&e.before(t,n)},t.c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.postInstallAllowed,i=void 0!==r&&r;c("async",(function(n){n.forEach((function(e){return t.apply(void 0,o(e))})),i&&(s[e]=t)}),e)([])},t.e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=s[e];if(i)return i.apply(void 0,n);u(e).before((function(e,t){t.push(n),e(t)}))};var r=n(170),i=n.n(r);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),u=c.get,s={}},90:function _(e,t,n){var r=n(56),i=n(30),o=n(31),a=n(34).f,c=n(66),u=n(122),s=c("meta"),d=0,f=Object.isExtensible||function(){return!0},l=function l(e){a(e,s,{value:{objectID:"O"+ ++d,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function fastKey(e,t){if(!i(e))return"symbol"==_typeof2(e)?e:("string"==typeof e?"S":"P")+e;if(!o(e,s)){if(!f(e))return"F";if(!t)return"E";l(e)}return e[s].objectID},getWeakData:function getWeakData(e,t){if(!o(e,s)){if(!f(e))return!0;if(!t)return!1;l(e)}return e[s].weakData},onFreeze:function onFreeze(e){return u&&p.REQUIRED&&f(e)&&!o(e,s)&&l(e),e}};r[s]=!0},91:function _(e,t,n){var r=n(23),i=n(41),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},92:function _(e,t,n){var r=n(17);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},93:function _(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},94:function _(e,t,n){var r=n(71);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},95:function _(e,t,n){var r=n(96).IteratorPrototype,i=n(70),o=n(44),a=n(59),c=n(41),u=function u(){return this};e.exports=function(e,t,n){var s=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,s,!1,!0),c[s]=u,e}},96:function _(e,t,n){var r,i,o,a=n(29),c=n(97),u=n(32),s=n(31),d=n(23),f=n(18),l=d("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):p=!0);var g=null==r||a((function(){var e={};return r[l].call(e)!==e}));g&&(r={}),f&&!g||s(r,l)||u(r,l,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},97:function _(e,t,n){var r=n(31),i=n(52),o=n(69),a=n(131),c=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},974:function _(e,t,n){e.exports=n(80)},98:function _(e,t,n){var r=n(136).charAt,i=n(46),o=n(72),a="String Iterator",c=i.set,u=i.getterFor(a);o(String,"String",(function(e){c(this,{type:a,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},99:function _(e,t,n){var r=n(49),i=n(54),o=n(41),a=n(46),c=n(72),u="Array Iterator",s=a.set,d=a.getterFor(u);e.exports=c(Array,"Array",(function(e,t){s(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")}}),pbjsChunk([391],{103:function _(e,t,r){e.exports=r(104)},104:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return P}));var n=r(1),i=r(3),o=r(0),a=r(2);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p="33across",f="https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",l=/^[a-zA-Z0-9_-]{22}$/,m="siab",b="inview",g="instream",h=["mimes","minduration","maxduration","placement","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],v={uniqueSiteIds:[]},y="nm";function O(e){return"".concat(e.params.siteId,":").concat(e.params.productId)}function j(e){return"".concat(e.bidId)}function A(e){var t=e.bidRequests,r=e.gdprConsent,n=void 0===r?{}:r,i=e.uspConsent,s=e.pageUrl,u=e.ttxSettings,p={},f=t[0].params,l=f.siteId,m=f.test;return p.imp=[],t.forEach((function(e){p.imp.push(function(e){var t={id:e.bidId,ext:{ttx:{prod:Object(o.deepAccess)(e,"params.productId")}}};return Object(o.deepAccess)(e,"mediaTypes.banner")&&(t.banner=c({},function(e){var t,r=Object(o.deepAccess)(e,"mediaTypes.banner",{}),n=(s=e.adUnitCode,document.getElementById(s)||document.getElementById(function(e){if(Object(o.isGptPubadsDefined)())for(var t=googletag.pubads().getSlots(),r=Object(o.isSlotMatchingAdUnitCode)(e),n=0;n<t.length;n++)if(r(t[n])){var i=t[n].getSlotElementId();return Object(o.logInfo)("[33Across Adapter] Map ad unit path to HTML element id: '".concat(e,"' -> ").concat(i)),i}return Object(o.logWarn)("[33Across Adapter] Unable to locate element for ad unit code: '".concat(e,"'")),null}(s))),i=function(e){return Object(o.isArray)(e)&&2===e.length&&!Object(o.isArray)(e[0])?[x(e)]:e.map(x)}(r.sizes),s;t="function"==typeof e.getFloor?i.map((function(t){var r,n=C(e,t,a.b);return n&&(r={ext:{ttx:{bidfloors:[n]}}}),d({},t,r)})):i;var c=function(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}(i),u;return{format:t,ext:function(e){return{ttx:{viewability:{amount:isNaN(e)?e:Math.round(e)}}}}(function(e){return!function(){try{return Object(o.getWindowSelf)()!==Object(o.getWindowTop)()}catch(e){return!0}}()&&null!==e}(n)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.w,i=r.h;return"visible"===t.document.visibilityState?E(e,t,{w:n,h:i}):0}(n,Object(o.getWindowTop)(),c):y)}}(e))),Object(o.deepAccess)(e,"mediaTypes.video")&&(t.video=function(e){var t=Object(o.deepAccess)(e,"mediaTypes.video",{}),r=Object(o.deepAccess)(e,"params.video",{}),n=c(c({},t),r),i={},s=x(n.playerSize[0]),u=s.w,p=s.h;i.w=u,i.h=p,h.forEach((function(e){n.hasOwnProperty(e)&&(i[e]=n[e])}));var f=S(e);if(i.placement=i.placement||2,f===g&&(i.startdelay=i.startdelay||0,i.placement=1),"function"==typeof e.getFloor){var l=C(e,{w:i.w,h:i.h},a.d);l&&d(i,{ext:{ttx:{bidfloors:[l]}}})}return i}(e)),t}(e))})),p.site={id:l},s&&(p.site.page=s),p.id=t[0].auctionId,n.consentString&&(p.user=w(p.user,{consent:n.consentString})),Array.isArray(t[0].userIdAsEids)&&t[0].userIdAsEids.length>0&&(p.user=w(p.user,{eids:t[0].userIdAsEids})),p.regs=w(p.regs,{gdpr:Number(n.gdprApplies)}),i&&(p.regs=w(p.regs,{us_privacy:i})),p.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"6.5.0"}]}},t[0].schain&&(p.source=w(p.source,{schain:t[0].schain})),1===m&&(p.test=1),{method:"POST",url:u&&u.url||"".concat("https://ssc.33across.com/api/v1/hb","?guid=").concat(l),data:JSON.stringify(p),options:{contentType:"text/plain",withCredentials:!0}}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object(o.mergeDeep)({},e,{ext:t})}function x(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function I(e){return Object(o.mergeDeep)({},e,{params:{productId:S(e)}})}function S(e){var t=e.params,r=e.mediaTypes,n=r.banner,i=r.video;return i&&!n&&"instream"===i.context?g:t.productId===b?t.productId:m}function C(e,t,r){var n=e.getFloor({currency:"USD",mediaType:r,size:[t.w,t.h]});if(!isNaN(n.floor)&&"USD"===n.currency)return n.floor}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.w,n=t.h,i=e.getBoundingClientRect(),o=i.width,a=i.height,s=i.left,c=i.top,u=i.right,d=i.bottom;return(0===o||0===a)&&r&&n&&(o=r,a=n,u=s+r,d=c+n),{width:o,height:a,left:s,top:c,right:u,bottom:d}}function U(e){for(var t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom},r=1;r<e.length;++r){if(t.left=Math.max(t.left,e[r].left),t.right=Math.min(t.right,e[r].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[r].top),t.bottom=Math.min(t.bottom,e[r].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.w,i=r.h,o=T(e,{w:n,h:i}),a=U([{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight},o]);return null!==a?a.width*a.height/(o.width*o.height)*100:0}var P={NON_MEASURABLE:y,code:p,supportedMediaTypes:[a.b,a.d],isBidRequestValid:function isBidRequestValid(e){return function(e){return e.bidder===p&&void 0!==e.params&&!!function(e){return null!==(Object(o.deepAccess)(e,"params.siteId","")||"").trim().match(l)}(e)}(e)&&function(e){var t=Object(o.deepAccess)(e,"mediaTypes.banner");return void 0===t||!!Array.isArray(t.sizes)}(e)&&function(e){var t=Object(o.deepAccess)(e,"mediaTypes.video"),r=Object(o.deepAccess)(e,"params.video",{});if(void 0===t)return!0;if(!Array.isArray(t.playerSize))return!1;if(!t.context)return!1;var n=c(c({},t),r);return!(!Array.isArray(n.mimes)||0===n.mimes.length)&&(!(!Array.isArray(n.protocols)||0===n.protocols.length)&&((void 0===n.placement||"number"==typeof n.placement)&&("instream"!==t.context||void 0===n.startdelay||"number"==typeof n.startdelay)))}(e)},buildRequests:function buildRequests(e,t){var r=function(e,t){var r=d({},i.b.getConfig("ttxSettings")),n=d({consentString:void 0,gdprApplies:!1},t&&t.gdprConsent),a=t&&t.uspConsent,s=t&&t.refererInfo?t.refererInfo.referer:void 0;return v.uniqueSiteIds=e.map((function(e){return e.params.siteId})).filter(o.uniques),{ttxSettings:r,gdprConsent:n,uspConsent:a,pageUrl:s}}(e,t),n=r.ttxSettings,a=r.gdprConsent,s=r.uspConsent,c=r.pageUrl,u=function(e,t){var r,n;return function(e,t){var r={};return e.forEach((function(e){var n=t(e);r[n]=r[n]||[],r[n].push(e)})),r}(t.map(I),!0===(e&&e.enableSRAMode)?O:j)}(n,e),p=[];for(var f in u)p.push(A({bidRequests:u[f],gdprConsent:a,uspConsent:s,pageUrl:c,ttxSettings:n}));return p},interpretResponse:function interpretResponse(e,t){var r=e.body,n=r.seatbid,i=r.cur,s=void 0===i?"USD":i;return Object(o.isArray)(n)?n.filter((function(e){return Object(o.isArray)(e.bid)&&e.bid.length>0})).reduce((function(e,t){return e.concat(t.bid.map((function(e){return function(e,t){var r=e.adomain&&e.adomain.length,n={requestId:e.impid,bidderCode:p,cpm:e.price,width:e.w,height:e.h,ad:e.adm,ttl:e.ttl||60,creativeId:e.crid,mediaType:Object(o.deepAccess)(e,"ext.ttx.mediaType",a.b),currency:t,netRevenue:!0};return r&&(n.meta={advertiserDomains:e.adomain}),n.mediaType===a.d&&("xml"===Object(o.deepAccess)(e,"ext.ttx.vastType","xml")?n.vastXml=n.ad:n.vastUrl=n.ad),n}(e,s)})))}),[]):[]},getUserSyncs:function getUserSyncs(e,t,r,n){var o=e.iframeEnabled?v.uniqueSiteIds.map((function(e){return function(e){var t=e.siteId,r=void 0===t?"zzz000000000003zzz":t,n=e.gdprConsent,o=void 0===n?{}:n,a=e.uspConsent,s=i.b.getConfig("ttxSettings"),c=s&&s.syncUrl||f,u=o.consentString,d=o.gdprApplies,p={type:"iframe",url:"".concat(c,"&id=").concat(r,"&gdpr_consent=").concat(encodeURIComponent(u),"&us_privacy=").concat(encodeURIComponent(a))};return"boolean"==typeof d&&(p.url+="&gdpr=".concat(Number(d))),p}({gdprConsent:r,uspConsent:n,siteId:e})})):[];return v.uniqueSiteIds=[],o}};Object(n.registerBidder)(P),window.pbjs.installedModules.push("33acrossBidAdapter")}},[103]),pbjsChunk([370],{228:function _(e,t,i){e.exports=i(229)},229:function _(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.callPrebidCacheHook=B,t.checkAdUnitSetupHook=k,t.checkVideoBidSetupHook=R,t.adpodSetConfig=K,t.callPrebidCacheAfterAuction=P,t.sortByPricePerSecond=x,t.getTargeting=z;var n=i(0),a=i(28),r=i(80),o=i(20),c=i(9),d=i(101),u=i(3),s=i(2),l=i(89),f=i.n(l),b=i(11),g=i.n(b),p=i(22),v=i(5),h=i.n(v);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,a,r=[],o=!0,c=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==i.return||i.return()}finally{if(c)throw a}}return r}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return C(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var S=i(74),A="hb_pb_cat_dur",_="hb_cache_id",I=50,E=5,w=function(){var e={};function t(t){var i,a,r;e[t]={},e[t].bidStorage=new f.a,e[t].queueDispatcher=(i=I,r=1,function(e,t,n,o){var c=this,d=function d(){U.call(c,e,t,n)};clearTimeout(a),o?r=1:r===E?(r=1,d()):(r++,a=setTimeout(d,i))}),e[t].initialCacheKey=Object(n.generateUUID)()}return{addBid:function addBid(i){e[i.auctionId]||t(i.auctionId),e[i.auctionId].bidStorage.add(i)},removeBid:function removeBid(t){e[t.auctionId].bidStorage.delete(t)},getBids:function getBids(t){return e[t.auctionId]&&e[t.auctionId].bidStorage.values()},getQueueDispatcher:function getQueueDispatcher(t){return e[t.auctionId]&&e[t.auctionId].queueDispatcher},setupInitialCacheKey:function setupInitialCacheKey(t){e[t.auctionId]||(e[t.auctionId]={},e[t.auctionId].initialCacheKey=Object(n.generateUUID)())},getInitialCacheKey:function getInitialCacheKey(t){return e[t.auctionId]&&e[t.auctionId].initialCacheKey}}}();function D(e,t){var i,r=w.getInitialCacheKey(e),o=Object(n.deepAccess)(e,"video.durationBucket"),c=function(e){var t;if(u.b.getConfig("adpod.prioritizeDeals")&&Object(n.deepAccess)(e,"video.dealTier")){var i=u.b.getConfig("adpod.dealTier.".concat(e.bidderCode,".prefix"));t=i?i+Object(n.deepAccess)(e,"video.dealTier"):Object(n.deepAccess)(e,"video.dealTier")}else{var r=Object(a.i)(e.mediaType);t=Object(a.h)(r)(e)}return t}(e);if(t){var d=Object(n.deepAccess)(e,"meta.adServerCatId");i="".concat(c,"_").concat(d,"_").concat(o,"s")}else i="".concat(c,"_").concat(o,"s");e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting.hb_pb_cat_dur=i,e.adserverTargeting.hb_cache_id=r,e.videoCacheKey=r,e.customCacheKey="".concat(i,"_").concat(r)}function U(e,t,i){!function(e){for(var t=0;t<e.length;t++)w.removeBid(e[t])}(t),Object(d.b)(t,(function(r,o){if(r){Object(n.logWarn)("Failed to save to the video cache: ".concat(r,". Video bid(s) must be discarded."));for(var c=0;c<t.length;c++)Object(a.g)(e,t[c])}else for(var d=0;d<o.length;d++)""!==o[d].uuid?Object(a.d)(e,t[d]):Object(n.logInfo)("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(t[d].customCacheKey,". Bid was: "),t[d]),i()}))}function B(e,t,i,r,o){var c=Object(n.deepAccess)(o,"mediaTypes.video");if(c&&c.context===s.a){var d=u.b.getConfig("adpod.brandCategoryExclusion");!Object(n.deepAccess)(i,"meta.adServerCatId")&&d?(Object(n.logWarn)("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",i),r()):!1===u.b.getConfig("adpod.deferCaching")?(w.addBid(i),D(i,d),function(e,t,i){var r=w.getBids(t);if(r){var o=S(r),c=w.getQueueDispatcher(t),d=!(e.getAuctionStatus()===a.b);c(e,o,i,d)}else Object(n.logWarn)("Attempted to cache a bid from an unknown auction. Bid:",t)}(t,i,r)):(w.setupInitialCacheKey(i),D(i,d),Object(a.d)(t,i),r())}else e.call(this,t,i,r,o)}function k(e,t){var i=t.filter((function(e){var t=Object(n.deepAccess)(e,"mediaTypes"),i=Object(n.deepAccess)(t,"video");if(i&&i.context===s.a){if(Object.keys(t).length>1)return Object(n.logWarn)("Detected more than one mediaType in adUnitCode: ".concat(e.code," while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;var a="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(e.code,".  This adUnit will be removed from the auction."),r=!!(i.playerSize&&(Object(n.isArrayOfNums)(i.playerSize,2)||Object(n.isArray)(i.playerSize)&&i.playerSize.every((function(e){return Object(n.isArrayOfNums)(e,2)})))||i.sizeConfig),o=!!(i.adPodDurationSec&&Object(n.isNumber)(i.adPodDurationSec)&&i.adPodDurationSec>0),c=!!(i.durationRangeSec&&Object(n.isArrayOfNums)(i.durationRangeSec)&&i.durationRangeSec.every((function(e){return e>0})));if(!r||!o||!c)return a+=r?"":"\nmediaTypes.video.playerSize",a+=o?"":"\nmediaTypes.video.adPodDurationSec",a+=c?"":"\nmediaTypes.video.durationRangeSec",Object(n.logWarn)(a),!1}return!0}));t=i,e.call(this,t)}function R(e,t,i,a,r){if(r===s.a){var o=!0;u.b.getConfig("adpod.brandCategoryExclusion")&&!Object(n.deepAccess)(t,"meta.primaryCatId")&&(o=!1),Object(n.deepAccess)(t,"video")&&(Object(n.deepAccess)(t,"video.context")&&t.video.context===s.a||(o=!1),!Object(n.deepAccess)(t,"video.durationSeconds")||t.video.durationSeconds<=0?o=!1:function(e,t){var i=Object(n.deepAccess)(t,"video.durationSeconds"),a=Object(n.deepAccess)(e,"mediaTypes.video"),r=a.durationRangeSec;if(r.sort((function(e,t){return e-t})),a.requireExactDuration){if(!g()(r,(function(e){return e===i})))return Object(n.logWarn)("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",t),!1;t.video.durationBucket=i}else{var o=Math.max.apply(Math,O(r));if(!(i<=o+2))return Object(n.logWarn)("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",t),!1;var c=g()(r,(function(e){return e+2>=i}));t.video.durationBucket=c}return!0}(i,t)||(o=!1)),u.b.getConfig("cache.url")||!t.vastXml||t.vastUrl||(Object(n.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),o=!1),e.bail(o)}else e.call(this,t,i,a,r)}function K(e){void 0!==e.bidQueueTimeDelay&&("number"==typeof e.bidQueueTimeDelay&&e.bidQueueTimeDelay>0?I=e.bidQueueTimeDelay:Object(n.logWarn)("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(I))),void 0!==e.bidQueueSizeLimit&&("number"==typeof e.bidQueueSizeLimit&&e.bidQueueSizeLimit>0?E=e.bidQueueSizeLimit:Object(n.logWarn)("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(E)))}function P(e,t){Object(d.b)(e,(function(i,n){if(i)t(i,null);else{for(var a=[],r=0;r<n.length;r++)""!==n[r]&&a.push(e[r]);t(null,a)}}))}function x(e,t){return e.adserverTargeting[h.a.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket<t.adserverTargeting[h.a.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?1:e.adserverTargeting[h.a.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket>t.adserverTargeting[h.a.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?-1:0}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.codes,i=e.callback;if(i){var a=G(t=t||[]),r=p.a.getBidsReceived(),o=u.b.getConfig("adpod.brandCategoryExclusion"),c=u.b.getConfig("adpod.deferCaching"),d="boolean"!=typeof c||c,s=N(r,a);s=o||d?Q(s):s;var l=u.b.getConfig("adpod.prioritizeDeals");if(l){var f=s.reduce((function(e,t){var i=Object(n.deepAccess)(t,"video.dealTier"),a=u.b.getConfig("adpod.dealTier.".concat(t.bidderCode,".minDealTier"));return a&&i?i>=a?e[1].push(t):e[0].push(t):i?e[1].push(t):e[0].push(t),e}),[[],[]]),b=j(f,2),g=b[0],v=b[1];v.sort(x),g.sort(x),s=v.concat(g)}else s.sort(x);var h={};if(!1===d)a.forEach((function(e){var t=[],i=Object(n.deepAccess)(e,"mediaTypes.video.adPodDurationSec");s.filter((function(t){return t.adUnitCode===e.code})).forEach((function(e,n,a){e.video.durationBucket<=i&&(t.push(m({},A,e.adserverTargeting.hb_pb_cat_dur)),i-=e.video.durationBucket),n===a.length-1&&t.length>0&&t.push(m({},_,e.adserverTargeting.hb_cache_id))})),h[e.code]=t})),i(null,h);else{var y=[];a.forEach((function(e){var t=Object(n.deepAccess)(e,"mediaTypes.video.adPodDurationSec");s.filter((function(t){return t.adUnitCode===e.code})).forEach((function(e){e.video.durationBucket<=t&&(y.push(e),t-=e.video.durationBucket)}))})),P(y,(function(e,t){if(e)i(e,null);else{var a=Object(n.groupBy)(t,"adUnitCode");Object.keys(a).forEach((function(e){var t=[];a[e].forEach((function(e,i,n){t.push(m({},A,e.adserverTargeting.hb_pb_cat_dur)),i===n.length-1&&t.length>0&&t.push(m({},_,e.adserverTargeting.hb_cache_id))})),h[e]=t})),i(null,h)}}))}return h}Object(n.logError)("No callback function was defined in the getTargeting call.  Aborting getTargeting().")}function G(e){return p.a.getAdUnits().filter((function(e){return Object(n.deepAccess)(e,"mediaTypes.video.context")===s.a})).filter((function(t){return!(e.length>0)||-1!=e.indexOf(t.code)}))}function Q(e){var t=e.map((function(e){return y({},e,m({},A,e.adserverTargeting.hb_pb_cat_dur))}));t=Object(n.groupBy)(t,A);var i=[];return Object.keys(t).forEach((function(e){t[e].sort(Object(n.compareOn)("responseTimestamp")),i.push(t[e][0])})),i}function N(e,t){var i=t.map((function(e){return e.code}));return e.filter((function(e){return-1!=i.indexOf(e.adUnitCode)&&e.video&&e.video.context===s.a}))}u.b.getConfig("adpod",(function(e){return K(e.adpod)})),Object(c.d)(a.f,B),Object(c.d)(r.checkAdUnitSetup,k),Object(c.d)(o.c,R);var W={TARGETING_KEY_PB_CAT_DUR:A,TARGETING_KEY_CACHE_ID:_,getTargeting:z};Object.freeze(W),Object(c.c)("adpod",(function(){function e(e,t){for(var i in t)e[i]=t[i]}Object(n.isPlainObject)(arguments.length<=0?void 0:arguments[0])?e(arguments.length<=0?void 0:arguments[0],W):Object(n.logError)("Adpod module needs plain object to share methods with submodule")})),window.pbjs.installedModules.push("adpod")}},[228]),pbjsChunk([345],{290:function _(e,r,t){e.exports=t(291)},291:function _(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",(function(){return E}));var a=t(0),n=t(13),i=t(3),s=t(1),o=t(2),d=t(22),c=t(11),p=t.n(c),u=t(12),l=t.n(u),m=t(20),f=t(7);function b(e){return(b="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function v(){return(v=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var h="appnexus",_="https://ib.adnxs.com/ut/v3/prebid",k="https://ib.adnxs-simple.com/ut/v3/prebid",O=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],j=["minduration","maxduration","skip","skipafter","playbackmethod","api"],I=["age","externalUid","segments","gender","dnt","language"],A=["geo","device_id"],w=["enabled","dongle","member_id","debug_timeout"],x={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},C={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},S=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,T=Object(f.b)(32,h),E={code:h,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[o.b,o.d,o.c],isBidRequestValid:function isBidRequestValid(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function buildRequests(e,r){var t=e.map(q),n=p()(e,z),s={};!0===i.b.getConfig("coppa")&&(s={coppa:!0}),n&&Object.keys(n.params.user).filter((function(e){return l()(I,e)})).forEach((function(e){var r=Object(a.convertCamelToUnderscore)(e);if("segments"===e&&Object(a.isArray)(n.params.user[e])){var t=[];n.params.user[e].forEach((function(e){Object(a.isNumber)(e)?t.push({id:e}):Object(a.isPlainObject)(e)&&t.push(e)})),s[r]=t}else"segments"!==e&&(s[r]=n.params.user[e])}));var o,d=p()(e,B);d&&d.params&&d.params.app&&(o={},Object.keys(d.params.app).filter((function(e){return l()(A,e)})).forEach((function(e){return o[e]=d.params.app[e]})));var c,u=p()(e,F);u&&u.params&&d.params.app&&d.params.app.id&&(c={appid:u.params.app.id});var m={},f={},b=T.getCookie("apn_prebid_debug")||null;if(b)try{m=JSON.parse(b)}catch(e){Object(a.logError)("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var v=p()(e,V);v&&v.debug&&(m=v.debug)}m&&m.enabled&&Object.keys(m).filter((function(e){return l()(w,e)})).forEach((function(e){f[e]=m[e]}));var g=p()(e,D),h=g?parseInt(g.params.member,10):0,O=e[0].schain,j=p()(e,W),x={tags:y(t),user:s,sdk:{source:"pbjs",version:"6.5.0"},schain:O};if(j&&(x.iab_support={omidpn:"Appnexus",omidpv:"6.5.0"}),h>0&&(x.member_id=h),d&&(x.device=o),u&&(x.app=c),i.b.getConfig("adpod.brandCategoryExclusion")&&(x.brand_category_uniqueness=!0),f.enabled&&(x.debug=f,Object(a.logInfo)("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(f,null,4))),r&&r.gdprConsent&&(x.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies},r.gdprConsent.addtlConsent&&-1!==r.gdprConsent.addtlConsent.indexOf("~"))){var C=r.gdprConsent.addtlConsent,S=C.substring(C.indexOf("~")+1);x.gdpr_consent.addtl_consent=S.split(".").map((function(e){return parseInt(e,10)}))}if(r&&r.uspConsent&&(x.us_privacy=r.uspConsent),r&&r.refererInfo){var E={rd_ref:encodeURIComponent(r.refererInfo.referer),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")};x.referrer_detection=E}if(p()(e,J)&&e.filter(J).forEach((function(e){var r=function(e,r){var t=r.mediaTypes.video,n=t.durationRangeSec,i=t.requireExactDuration,s=function(e){var r=e.adPodDurationSec,t=e.durationRangeSec,n=e.requireExactDuration,i=Object(a.getMinValueFromArray)(t),s=Math.floor(r/i);return n?Math.max(s,t.length):s}(r.mediaTypes.video),o=Object(a.getMaxValueFromArray)(n),d=e.filter((function(e){return e.uuid===r.bidId})),c=a.fill.apply(void 0,y(d).concat([s]));if(i){var p=Math.ceil(s/n.length),u=Object(a.chunk)(c,p);n.forEach((function(e,r){u[r].map((function(r){H(r,"minduration",e),H(r,"maxduration",e)}))}))}else c.map((function(e){return H(e,"maxduration",o)}));return c}(t,e),n=x.tags.filter((function(r){return r.uuid!==e.bidId}));x.tags=[].concat(y(n),y(r))})),e[0].userId){var R=[];K(R,Object(a.deepAccess)(e[0],"userId.flocId.id"),"chrome.com",null),K(R,Object(a.deepAccess)(e[0],"userId.criteoId"),"criteo.com",null),K(R,Object(a.deepAccess)(e[0],"userId.netId"),"netid.de",null),K(R,Object(a.deepAccess)(e[0],"userId.idl_env"),"liveramp.com",null),K(R,Object(a.deepAccess)(e[0],"userId.tdid"),"adserver.org","TDID"),K(R,Object(a.deepAccess)(e[0],"userId.uid2.id"),"uidapi.com","UID2"),R.length&&(x.eids=R)}return t[0].publisher_id&&(x.publisher_id=t[0].publisher_id),function(e,r){var t=[],n={withCredentials:!0},s=_;if(N(r)||(s=k),"TRUE"!==Object(a.getParameterByName)("apn_test").toUpperCase()&&!0!==i.b.getConfig("apn_test")||(n.customHeaders={"X-Is-Test":1}),e.tags.length>15){var o=Object(a.deepClone)(e);Object(a.chunk)(e.tags,15).forEach((function(e){o.tags=e;var a=JSON.stringify(o);t.push({method:"POST",url:s,data:a,bidderRequest:r,options:n})}))}else{var d=JSON.stringify(e);t={method:"POST",url:s,data:d,bidderRequest:r,options:n}}return t}(x,r)},interpretResponse:function interpretResponse(e,r){var t=this,i=r.bidderRequest;e=e.body;var d=[];if(!e||e.error){var c="in response for ".concat(i.bidderCode," adapter");return e&&e.error&&(c+=": ".concat(e.error)),Object(a.logError)(c),d}if(e.tags&&e.tags.forEach((function(e){var r,c=(r=e)&&r.ads&&r.ads.length&&p()(r.ads,(function(e){return e.rtb}));if(c&&(Object(a.isAllowZeroCpmBidsEnabled)(i.bidderCode)?c.cpm>=0:c.cpm>0)&&l()(t.supportedMediaTypes,c.ad_type)){var u=function(e,r,t){var i=Object(a.getBidRequest)(e.uuid,[t]),d={requestId:e.uuid,cpm:r.cpm,creativeId:r.creative_id,dealId:r.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:r.buyer_member_id,dealPriority:r.deal_priority,dealCode:r.deal_code}};function c(e){return{ver:"1.0",complete:0,nodes:[{bsid:e.buyer_member_id.toString()}]}}if(r.adomain&&(d.meta=v({},d.meta,{advertiserDomains:[]})),r.advertiser_id&&(d.meta=v({},d.meta,{advertiserId:r.advertiser_id})),r.buyer_member_id&&(d.meta=v({},d.meta,{dchain:c(r)})),r.brand_id&&(d.meta=v({},d.meta,{brandId:r.brand_id})),r.rtb.video)switch(v(d,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastImpUrl:r.notify_url,ttl:3600}),Object(a.deepAccess)(i,"mediaTypes.video.context")){case o.a:var u=Object(s.getIabSubCategory)(i.bidder,r.brand_category_id);d.meta=v({},d.meta,{primaryCatId:u});var l=r.deal_priority;d.video={context:o.a,durationSeconds:Math.floor(r.rtb.video.duration_ms/1e3),dealTier:l},d.vastUrl=r.rtb.video.asset_url;break;case m.b:if(d.adResponse=e,d.adResponse.ad=d.adResponse.ads[0],d.adResponse.ad.video=d.adResponse.ad.rtb.video,d.vastXml=r.rtb.video.content,r.renderer_url){var f=p()(t.bids,(function(r){return r.bidId===e.uuid})),b=Object(a.deepAccess)(f,"renderer.options");d.renderer=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.a.install({id:r.renderer_id,url:r.renderer_url,config:t,loaded:!1,adUnitCode:e});try{i.setRender(L)}catch(e){Object(a.logWarn)("Prebid Error calling setRender on renderer",e)}return i.setEventHandlers({impression:function impression(){return Object(a.logMessage)("AppNexus outstream video impression event")},loaded:function loaded(){return Object(a.logMessage)("AppNexus outstream video loaded event")},ended:function ended(){Object(a.logMessage)("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),i}(d.adUnitCode,r,b)}break;case m.a:d.vastUrl=r.notify_url+"&redir="+encodeURIComponent(r.rtb.video.asset_url)}else if(r.rtb[o.c]){var y=r.rtb[o.c],g=r.viewability.config.replace("src=","data-src="),h=y.javascript_trackers;null==h?h=g:Object(a.isStr)(h)?h=[h,g]:h.push(g),d[o.c]={title:y.title,body:y.desc,body2:y.desc2,cta:y.ctatext,rating:y.rating,sponsoredBy:y.sponsored,privacyLink:y.privacy_link,address:y.address,downloads:y.downloads,likes:y.likes,phone:y.phone,price:y.price,salePrice:y.saleprice,clickUrl:y.link.url,displayUrl:y.displayurl,clickTrackers:y.link.click_trackers,impressionTrackers:y.impression_trackers,javascriptTrackers:h},y.main_img&&(d.native.image={url:y.main_img.url,height:y.main_img.height,width:y.main_img.width}),y.icon&&(d.native.icon={url:y.icon.url,height:y.icon.height,width:y.icon.width})}else{v(d,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{if(r.rtb.trackers)for(var _=0;_<r.rtb.trackers[0].impression_urls.length;_++){var k=r.rtb.trackers[0].impression_urls[_],O=Object(a.createTrackPixelHtml)(k);d.ad+=O}}catch(e){Object(a.logError)("Error appending tracking pixel",e)}}return d}(e,c,i);u.mediaType=function(e){var r=e.ad_type;return r===o.d?o.d:r===o.c?o.c:o.b}(c),d.push(u)}})),e.debug&&e.debug.debug_info){var u="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info;u=u.replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),Object(a.logMessage)("https://console.appnexus.com/docs/understanding-the-debug-auction"),Object(a.logMessage)(u)}return d},getMappingFileInfo:function getMappingFileInfo(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function getUserSyncs(e,r,t){if(e.iframeEnabled&&N({gdprConsent:t}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function transformBidParams(e,r){return e=Object(a.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:a.transformBidderParamKeywords,publisherId:"number"},e),r&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,R(e.keywords)&&e.keywords.forEach(P),Object.keys(e).forEach((function(r){var t=Object(a.convertCamelToUnderscore)(r);t!==r&&(e[t]=e[r],delete e[r])}))),e},onBidWon:function onBidWon(e){e.native&&function(e){var r=function(e){var r;if(Object(a.isStr)(e)&&U(e))r=e;else if(Object(a.isArray)(e))for(var t=0;t<e.length;t++){var n=e[t];U(n)&&(r=n)}return r}(e.native.javascriptTrackers);if(r)for(var t="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,n=function(e){var r=e.indexOf('src="')+5,t=e.indexOf('"',r);return e.substring(r,t)}(r),i=n.replace("dom_id=%native_dom_id%",t),s=document.getElementsByTagName("iframe"),o=!1,d=0;d<s.length&&!o;d++){var c=s[d];try{var p=c.contentDocument||c.contentWindow.document;if(p)for(var u=p.getElementsByTagName("script"),l=0;l<u.length&&!o;l++){var m=u[l];m.getAttribute("data-src")==n&&(m.setAttribute("src",i),m.setAttribute("data-src",""),m.removeAttribute&&m.removeAttribute("data-src"),o=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function R(e){return!!(Object(a.isArray)(e)&&e.length>0)}function P(e){R(e.value)&&""===e.value[0]&&delete e.value}function U(e){var r=e.match(S),t=null!=r&&r.length>=1,a=e.match("trk.js"),n=null!=a&&a.length>=1;return e.startsWith("<script")&&n&&t}function N(e){var r=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(r=!(!0!==Object(a.deepAccess)(e.gdprConsent,"vendorData.purpose.consents.1"))),r}function q(e){var r={};r.sizes=M(e.sizes),r.primary_size=r.sizes[0],r.ad_types=[],r.uuid=e.bidId,e.params.placementId?r.id=parseInt(e.params.placementId,10):r.code=e.params.invCode,r.allow_smaller_sizes=e.params.allowSmallerSizes||!1,r.use_pmt_rule=e.params.usePaymentRule||!1,r.prebid=!0,r.disable_psa=!0;var t=function(e){if(!Object(a.isFn)(e.getFloor))return e.params.reserve?e.params.reserve:null;var r=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return Object(a.isPlainObject)(r)&&!isNaN(r.floor)&&"USD"===r.currency?r.floor:null}(e);if(t&&(r.reserve=t),e.params.position&&(r.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(r.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(r.private_sizes=M(e.params.privateSizes)),e.params.supplyType&&(r.supply_type=e.params.supplyType),e.params.pubClick&&(r.pubclick=e.params.pubClick),e.params.extInvCode&&(r.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(r.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(r.external_imp_id=e.params.externalImpId),!Object(a.isEmpty)(e.params.keywords)){var n=Object(a.transformBidderParamKeywords)(e.params.keywords);n.length>0&&n.forEach(P),r.keywords=n}var i,s,c=Object(a.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");if(c&&(r.gpid=c),(e.mediaType===o.c||Object(a.deepAccess)(e,"mediaTypes.".concat(o.c)))&&(r.ad_types.push(o.c),0===r.sizes.length&&(r.sizes=M([1,1])),e.nativeParams)){var u=(i=e.nativeParams,s={},Object.keys(i).forEach((function(e){var r=C[e]&&C[e].serverName||C[e]||e,t=C[e]&&C[e].requiredParams;if(s[r]=v({},t,i[e]),(r===C.image.serverName||r===C.icon.serverName)&&s[r].sizes){var n=s[r].sizes;(Object(a.isArrayOfNums)(n)||Object(a.isArray)(n)&&n.length>0&&n.every((function(e){return Object(a.isArrayOfNums)(e)})))&&(s[r].sizes=M(s[r].sizes))}r===C.privacyLink&&(s.privacy_supported=!0)})),s);r[o.c]={layouts:[u]}}var m=Object(a.deepAccess)(e,"mediaTypes.".concat(o.d)),f=Object(a.deepAccess)(e,"mediaTypes.video.context");r.hb_source=m&&"adpod"===f?7:1,(e.mediaType===o.d||m)&&r.ad_types.push(o.d),(e.mediaType===o.d||m&&"outstream"!==f)&&(r.require_asset_url=!0),e.params.video&&(r.video={},Object.keys(e.params.video).filter((function(e){return l()(O,e)})).forEach((function(t){switch(t){case"context":case"playback_method":var n=e.params.video[t];n=Object(a.isArray)(n)?n[0]:n,r.video[t]=x[t][n];break;case"frameworks":break;default:r.video[t]=e.params.video[t]}})),e.params.video.frameworks&&Object(a.isArray)(e.params.video.frameworks)&&(r.video_frameworks=e.params.video.frameworks)),m&&(r.video=r.video||{},Object.keys(m).filter((function(e){return l()(j,e)})).forEach((function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof r.video[e]&&(r.video[e]=m[e]);break;case"skip":"boolean"!=typeof r.video.skippable&&(r.video.skippable=1===m[e]);break;case"skipafter":"number"!=typeof r.video.skipoffset&&(r.video.skippoffset=m[e]);break;case"playbackmethod":if("number"!=typeof r.video.playback_method){var t=m[e];(t=Object(a.isArray)(t)?t[0]:t)>=1&&t<=4&&(r.video.playback_method=t)}break;case"api":if(!r.video_frameworks&&Object(a.isArray)(m[e])){var n=m[e].map((function(e){var r=4===e?5:5===e?4:e;if(r>=1&&r<=5)return r})).filter((function(e){return e}));r.video_frameworks=n}}}))),e.renderer&&(r.video=v({},r.video,{custom_renderer_present:!0})),e.params.frameworks&&Object(a.isArray)(e.params.frameworks)&&(r.banner_frameworks=e.params.frameworks);var b=p()(d.a.getAdUnits(),(function(r){return e.transactionId===r.transactionId}));return b&&b.mediaTypes&&b.mediaTypes.banner&&r.ad_types.push(o.b),0===r.ad_types.length&&delete r.ad_types,r}function M(e){var r=[],t={};if(Object(a.isArray)(e)&&2===e.length&&!Object(a.isArray)(e[0]))t.width=parseInt(e[0],10),t.height=parseInt(e[1],10),r.push(t);else if("object"===b(e))for(var n=0;n<e.length;n++){var i=e[n];(t={}).width=parseInt(i[0],10),t.height=parseInt(i[1],10),r.push(t)}return r}function z(e){return!!e.params.user}function D(e){return!!parseInt(e.params.member,10)}function B(e){if(e.params)return!!e.params.app}function F(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function V(e){return!!e.debug}function J(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===o.a}function W(e){var r=!1,t=e.params,n=e.params.video;return t.frameworks&&Object(a.isArray)(t.frameworks)&&(r=l()(e.params.frameworks,6)),!r&&n&&n.frameworks&&Object(a.isArray)(n.frameworks)&&(r=l()(e.params.video.frameworks,6)),r}function H(e,r,t){Object(a.isEmpty)(e.video)&&(e.video={}),e.video[r]=t}function L(e){var r,t;r=e.adUnitCode,(t=document.getElementById(r).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),function(e){try{var r=document.getElementById(e).querySelectorAll("script[id^='sas_script']");r[0].nextSibling&&"iframe"===r[0].nextSibling.localName&&r[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},$.bind(null,e))}))}function $(e,r,t){e.renderer.handleVideoEvent({id:r,eventName:t})}function K(e,r,t,a){return r&&(a?e.push({source:t,id:r,rti_partner:a}):e.push({source:t,id:r})),e}Object(s.registerBidder)(E),window.pbjs.installedModules.push("appnexusBidAdapter")}},[290]),pbjsChunk([320],{351:function _(a,t,e){a.exports=e(352)},352:function _(a,t,e){Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"storage",(function(){return c})),e.d(t,"registerAdserver",(function(){return g})),t.getAdserverCategoryHook=f,t.initTranslation=b;var r=e(3),n=e(9),i=e(4),o=e(0),l=e(28),s=e(7),c=Object(s.a)("categoryTranslation"),p="iabToFwMappingkey",d="iabToFwMappingkeyPub",g=Object(n.b)("async",(function(a){"freewheel"===a&&b("https://cdn.jsdelivr.net/gh/prebid/category-mapping-file@1/freewheel-mapping.json",p)}),"registerAdserver");function f(a,t,e){if(!e)return a.call(this,t);if(!r.b.getConfig("adpod.brandCategoryExclusion"))return a.call(this,t,e);var n=r.b.getConfig("brandCategoryTranslation.translationFile")?d:p;if(e.meta&&!e.meta.adServerCatId){var i=c.getDataFromLocalStorage(n);if(i){try{i=JSON.parse(i)}catch(a){Object(o.logError)("Failed to parse translation mapping file")}e.meta.primaryCatId&&i.mapping&&i.mapping[e.meta.primaryCatId]?e.meta.adServerCatId=i.mapping[e.meta.primaryCatId].id:e.meta.adServerCatId=void 0}else Object(o.logError)("Translation mapping data not found in local storage")}a.call(this,t,e)}function b(a,t){Object(n.d)(l.c,f,50);var e=c.getDataFromLocalStorage(t);try{(!(e=e?JSON.parse(e):void 0)||Object(o.timestamp)()>e.lastUpdated+864e5)&&Object(i.a)(a,{success:function success(a){try{(a=JSON.parse(a)).lastUpdated=Object(o.timestamp)(),c.setDataInLocalStorage(t,JSON.stringify(a))}catch(a){Object(o.logError)("Failed to parse translation mapping file")}},error:function error(){Object(o.logError)("Failed to load brand category translation file.")}})}catch(a){Object(o.logError)("Failed to parse translation mapping file")}}g(),r.b.getConfig("brandCategoryTranslation",(function(a){return function(a){a.translationFile&&b(a.translationFile,d)}(a.brandCategoryTranslation)})),window.pbjs.installedModules.push("categoryTranslation")}},[351]),pbjsChunk([308],{379:function _(n,t,e){n.exports=e(380)},380:function _(n,t,e){Object.defineProperty(t,"__esModule",{value:!0}),e.d(t,"allowAuction",(function(){return C})),e.d(t,"userCMP",(function(){return f})),e.d(t,"consentTimeout",(function(){return p})),e.d(t,"gdprScope",(function(){return g})),e.d(t,"staticConsentData",(function(){return b})),t.requestBidsHook=j,t.resetConsentData=function(){m=void 0,f=void 0,v=0,i.gdprDataHandler.setConsentData(null)},t.setConsentConfig=A;var o=e(0),a=e(3),i=e(8),c=e(12),r=e.n(c),s=e(81),d=e.n(s);function l(n){return(l="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(n){return _typeof2(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":_typeof2(n)})(n)}function u(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var f,p,g,b,m,C={value:!0,definedInConfig:!1},v=0,w=!1,y={iab:function iab(n,t,e){function a(a,i){Object(o.logInfo)("Received a response from CMP",a),i?!1!==a.gdprApplies&&"tcloaded"!==a.eventStatus&&"useractioncomplete"!==a.eventStatus||n(a,e):t("CMP unable to register callback function.  Please check CMP setup.",e)}var i=function(){var t={};function a(){t.getConsentData&&t.getVendorConsents&&(Object(o.logInfo)("Received all requested responses from CMP",t),n(t,e))}return{consentDataCallback:function consentDataCallback(n){t.getConsentData=n,a()},vendorConsentsCallback:function vendorConsentsCallback(n){t.getVendorConsents=n,a()}}}(),c={},r=function(){for(var n,t,e=window;!n;){try{if("function"==typeof e.__tcfapi||"function"==typeof e.__cmp){"function"==typeof e.__tcfapi?(v=2,t=e.__tcfapi):(v=1,t=e.__cmp),n=e;break}}catch(n){}try{if(e.frames.__tcfapiLocator){v=2,n=e;break}}catch(n){}try{if(e.frames.__cmpLocator){v=1,n=e;break}}catch(n){}if(e===window.top)break;e=e.parent}return{cmpFrame:n,cmpFunction:t}}(),s=r.cmpFrame,l=r.cmpFunction;if(!s)return t("CMP not found.",e);function f(n,t){var a=e.adUnits,i=1,c=1;if(Array.isArray(a)&&a.length>0){var r=Object(o.getAdUnitSizes)(a[0]);i=r[0][0],c=r[0][1]}window.$sf.ext.register(i,c,(function(e,o){if("cmpReturn"===e){var a="getConsentData"===n?o.vendorConsentData:o.vendorConsents;t(a)}})),window.$sf.ext.cmp(n)}function p(n,t,e){var o=2===v?"__tcfapi":"__cmp",a="".concat(o,"Call");function i(n){var t="".concat(o,"Return"),e="string"==typeof n.data&&d()(n.data,t)?JSON.parse(n.data):n.data;if(e[t]&&e[t].callId){var a=e[t];void 0!==c[a.callId]&&c[a.callId](a.returnValue,a.success)}}2===v?(window[o]=function(n,e,o,i){var r=Math.random()+"",s=u({},a,{command:n,version:e,parameter:i,callId:r});c[r]=o,t.postMessage(s,"*")},window.addEventListener("message",i,!1),window[o](n,v,e)):(window[o]=function(n,e,o){var i=Math.random()+"",r=u({},a,{command:n,parameter:e,callId:i});c[i]=o,t.postMessage(r,"*")},window.addEventListener("message",i,!1),window[o](n,void 0,e))}Object(o.isFn)(l)?(Object(o.logInfo)("Detected CMP API is directly accessible, calling it now..."),1===v?(l("getConsentData",null,i.consentDataCallback),l("getVendorConsents",null,i.vendorConsentsCallback)):2===v&&l("addEventListener",v,a)):1===v&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(Object(o.logInfo)("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),f("getConsentData",i.consentDataCallback),f("getVendorConsents",i.vendorConsentsCallback)):(Object(o.logInfo)("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===v?(p("getConsentData",s,i.consentDataCallback),p("getVendorConsents",s,i.vendorConsentsCallback)):2===v&&p("addEventListener",s,a))},static:function _static(n,t,e){n(b,e)}};function j(n,t){var e={context:this,args:[t],nextFn:n,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return m?(Object(o.logInfo)("User consent information already known.  Pulling internally stored information..."),h(null,e)):r()(Object.keys(y),f)?(y[f].call(this,D,M,e),void(e.haveExited||(0===p?D(void 0,e):e.timer=setTimeout(O.bind(null,e),p)))):(Object(o.logWarn)("CMP framework (".concat(f,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),e.nextFn.apply(e.context,e.args))}function D(n,t){"static"===f&&2==(v=n.getConsentData?1:n.getTCData?2:0)&&(n=n.getTCData);var e=1===v?function(n){var t=n&&n.getConsentData&&n.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||Object(o.isStr)(n.getConsentData.consentData)&&Object(o.isPlainObject)(n.getVendorConsents)&&Object.keys(n.getVendorConsents).length>1))}:2===v?function(){var t=n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:g,e=n&&n.tcString;return!("boolean"==typeof t&&(!0!==t||Object(o.isStr)(e)))}:null;C.definedInConfig&&2===v?Object(o.logWarn)("'allowAuctionWithoutConsent' ignored for TCF 2"):C.definedInConfig||1!==v||Object(o.logInfo)("'allowAuctionWithoutConsent' using system default: (".concat(!0,").")),Object(o.isFn)(e)?e(n)?M("CMP returned unexpected value during lookup process.",t,n):(clearTimeout(t.timer),k(n),h(null,t)):M("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",t,n)}function O(n){2===v?(Object(o.logWarn)("No response from CMP, continuing auction..."),k(void 0),h(null,n)):M("CMP workflow exceeded timeout threshold.",n)}function M(n,t,e){clearTimeout(t.timer),C.value&&1===v&&k(void 0),h(n,t,e)}function k(n){1===v?m={consentString:n?n.getConsentData.consentData:void 0,vendorData:n?n.getVendorConsents:void 0,gdprApplies:n?n.getConsentData.gdprApplies:g}:(m={consentString:n?n.tcString:void 0,vendorData:n||void 0,gdprApplies:n&&"boolean"==typeof n.gdprApplies?n.gdprApplies:g},n&&n.addtlConsent&&Object(o.isStr)(n.addtlConsent)&&(m.addtlConsent=n.addtlConsent)),m.apiVersion=v,i.gdprDataHandler.setConsentData(m)}function h(n,t,e){if(!1===t.haveExited){t.haveExited=!0;var a=t.context,i=t.args,c=t.nextFn;n?C.value&&1===v?(Object(o.logWarn)(n+" 'allowAuctionWithoutConsent' activated.",e),c.apply(a,i)):(Object(o.logError)(n+" Canceling auction as per consentManagement config.",e),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():Object(o.logError)("Error executing bidsBackHandler")):c.apply(a,i)}}function A(n){(n=n&&(n.gdpr||n.usp?n.gdpr:n))&&"object"===l(n)?(Object(o.isStr)(n.cmpApi)?f=n.cmpApi:(f="iab",Object(o.logInfo)("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),Object(o.isNumber)(n.timeout)?p=n.timeout:(p=1e4,Object(o.logInfo)("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof n.allowAuctionWithoutConsent&&(C.value=n.allowAuctionWithoutConsent,C.definedInConfig=!0),g=!0===n.defaultGdprScope,Object(o.logInfo)("consentManagement module has been activated..."),"static"===f&&(Object(o.isPlainObject)(n.consentData)?(b=n.consentData,p=0):Object(o.logError)("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),w||pbjs.requestBids.before(j,50),w=!0):Object(o.logWarn)("consentManagement config not defined, exiting consent manager")}a.b.getConfig("consentManagement",(function(n){return A(n.consentManagement)})),window.pbjs.installedModules.push("consentManagement")}},[379]),pbjsChunk([2],{398:function _(t,e,r){t.exports=r(399)},399:function _(module,__webpack_exports__,__webpack_require__){Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"ADAPTER_VERSION",(function(){return ADAPTER_VERSION})),__webpack_require__.d(__webpack_exports__,"PROFILE_ID_PUBLISHERTAG",(function(){return PROFILE_ID_PUBLISHERTAG})),__webpack_require__.d(__webpack_exports__,"FAST_BID_VERSION_CURRENT",(function(){return FAST_BID_VERSION_CURRENT})),__webpack_require__.d(__webpack_exports__,"spec",(function(){return spec})),__webpack_exports__.canFastBid=canFastBid,__webpack_exports__.getFastBidUrl=getFastBidUrl,__webpack_exports__.tryGetCriteoFastBid=tryGetCriteoFastBid;var __WEBPACK_IMPORTED_MODULE_0__src_utils_js__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__src_adloader_js__=__webpack_require__(35),__WEBPACK_IMPORTED_MODULE_2__src_adapters_bidderFactory_js__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_3__src_config_js__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_4__src_mediaTypes_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__=__webpack_require__(76),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__),__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__=__webpack_require__(7);function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=34,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=Object(__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__.b)(GVLID),LOG_PREFIX="Criteo: ",FAST_BID_VERSION_PLACEHOLDER="%FAST_BID_VERSION%",FAST_BID_VERSION_CURRENT=117,FAST_BID_VERSION_LATEST="latest",FAST_BID_VERSION_NONE="none",PUBLISHER_TAG_URL_TEMPLATE="https://static.criteo.net/js/ld/publishertag.prebid"+FAST_BID_VERSION_PLACEHOLDER+".js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[__WEBPACK_IMPORTED_MODULE_4__src_mediaTypes_js__.b,__WEBPACK_IMPORTED_MODULE_4__src_mediaTypes_js__.d,__WEBPACK_IMPORTED_MODULE_4__src_mediaTypes_js__.c],isBidRequestValid:function isBidRequestValid(t){return!(!t||!t.params||!t.params.zoneId&&!t.params.networkId||hasVideoMediaType(t)&&!hasValidVideoMediaType(t))},buildRequests:function buildRequests(t,e){var r,i,s=__WEBPACK_IMPORTED_MODULE_3__src_config_js__.b.getLegacyFpd(__WEBPACK_IMPORTED_MODULE_3__src_config_js__.b.getConfig("ortb2"))||{};_extends(e,{publisherExt:s.context,userExt:s.user,ceh:__WEBPACK_IMPORTED_MODULE_3__src_config_js__.b.getConfig("criteo.ceh")});var a=__WEBPACK_IMPORTED_MODULE_3__src_config_js__.b.getConfig("criteo.fastBidVersion"),_=canFastBid(a);if(!publisherTagAvailable()&&_){window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid();var o=getFastBidUrl(a);setTimeout((function(){Object(__WEBPACK_IMPORTED_MODULE_1__src_adloader_js__.a)(o,BIDDER_CODE)}),e.timeout)}if(publisherTagAvailable()){var n=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,t,e,"6.5.0");r=n.buildCdbUrl(),i=n.buildCdbRequest()}else{var c=buildContext(t,e);r=buildCdbUrl(c),i=buildCdbRequest(c,t,e)}if(i)return{method:"POST",url:r,data:i,bidRequests:t}},interpretResponse:function interpretResponse(t,e){var r=t.body||t;if(publisherTagAvailable()){var i=Criteo.PubTag.Adapters.Prebid.GetAdapter(e);if(i)return i.interpretResponse(r,e)}var s=[];return r&&r.slots&&Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.isArray)(r.slots)&&r.slots.forEach((function(t){var r=__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default()(e.bidRequests,(function(e){return e.adUnitCode===t.impid&&(!e.params.zoneId||parseInt(e.params.zoneId)===t.zoneid)})),i=r.bidId,a={requestId:i,adId:t.bidId||Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.getUniqueIdentifierStr)(),cpm:t.cpm,currency:t.currency,netRevenue:!0,ttl:t.ttl||60,creativeId:t.creativecode,width:t.width,height:t.height,dealId:t.dealCode};t.adomain&&(a.meta=_extends({},a.meta,{advertiserDomains:t.adomain})),t.native?r.params.nativeCallback?a.ad=createNativeAd(i,t.native,r.params.nativeCallback):(a.native=createPrebidNativeAd(t.native),a.mediaType=__WEBPACK_IMPORTED_MODULE_4__src_mediaTypes_js__.c):t.video?(a.vastUrl=t.displayurl,a.mediaType=__WEBPACK_IMPORTED_MODULE_4__src_mediaTypes_js__.d):a.ad=t.creative,s.push(a)})),s},onTimeout:function onTimeout(t){if(publisherTagAvailable()&&Array.isArray(t)){var e=[];t.forEach((function(t){-1===e.indexOf(t.auctionId)&&(e.push(t.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(t.auctionId).handleBidTimeout())}))}},onBidWon:function onBidWon(t){publisherTagAvailable()&&t&&Criteo.PubTag.Adapters.Prebid.GetAdapter(t.auctionId).handleBidWon(t)},onSetTargeting:function onSetTargeting(t){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(t.auctionId).handleSetTargeting(t)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(t,e){var r="";e&&e.refererInfo&&(r=e.refererInfo.referer);var i=Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.parseUrl)(r).search,s={url:r,debug:"1"===i.pbt_debug,noLog:"1"===i.pbt_nolog,amp:!1};return t.forEach((function(t){"amp"===t.params.integrationMode&&(s.amp=!0)})),s}function buildCdbUrl(t){var e=CDB_ENDPOINT;return e+="?profileId="+PROFILE_ID_INLINE,e+="&av="+String(ADAPTER_VERSION),e+="&wv="+encodeURIComponent("6.5.0"),e+="&cb="+String(Math.floor(99999999999*Math.random())),t.amp&&(e+="&im=1"),t.debug&&(e+="&debug=1"),t.noLog&&(e+="&nolog=1"),e}function checkNativeSendId(t){return!(t.nativeParams&&(t.nativeParams.image&&(!0!==t.nativeParams.image.sendId||!0===t.nativeParams.image.sendTargetingKeys)||t.nativeParams.icon&&(!0!==t.nativeParams.icon.sendId||!0===t.nativeParams.icon.sendTargetingKeys)||t.nativeParams.clickUrl&&(!0!==t.nativeParams.clickUrl.sendId||!0===t.nativeParams.clickUrl.sendTargetingKeys)||t.nativeParams.displayUrl&&(!0!==t.nativeParams.displayUrl.sendId||!0===t.nativeParams.displayUrl.sendTargetingKeys)||t.nativeParams.privacyLink&&(!0!==t.nativeParams.privacyLink.sendId||!0===t.nativeParams.privacyLink.sendTargetingKeys)||t.nativeParams.privacyIcon&&(!0!==t.nativeParams.privacyIcon.sendId||!0===t.nativeParams.privacyIcon.sendTargetingKeys)))}function buildCdbRequest(t,e,r){var i,s={publisher:{url:t.url,ext:r.publisherExt},slots:e.map((function(t){i=t.params.networkId||i;var e={impid:t.adUnitCode,transactionid:t.transactionId,auctionId:t.auctionId};if(t.params.zoneId&&(e.zoneid=t.params.zoneId),Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.deepAccess)(t,"ortb2Imp.ext")&&(e.ext=t.ortb2Imp.ext),t.params.ext&&(e.ext=_extends({},e.ext,t.params.ext)),t.params.publisherSubId&&(e.publishersubid=t.params.publisherSubId),t.params.nativeCallback||Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.deepAccess)(t,"mediaTypes.".concat(__WEBPACK_IMPORTED_MODULE_4__src_mediaTypes_js__.c))?(e.native=!0,checkNativeSendId(t)||Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.logWarn)(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),e.sizes=parseSizes(retrieveBannerSizes(t),parseNativeSize)):e.sizes=parseSizes(retrieveBannerSizes(t),parseSize),hasVideoMediaType(t)){var r={playersizes:parseSizes(Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.deepAccess)(t,"mediaTypes.video.playerSize"),parseSize),mimes:t.mediaTypes.video.mimes,protocols:t.mediaTypes.video.protocols,maxduration:t.mediaTypes.video.maxduration,api:t.mediaTypes.video.api,skip:t.mediaTypes.video.skip,placement:t.mediaTypes.video.placement,minduration:t.mediaTypes.video.minduration,playbackmethod:t.mediaTypes.video.playbackmethod,startdelay:t.mediaTypes.video.startdelay},s=t.params.video;void 0!==s&&(r.skip=r.skip||s.skip||0,r.placement=r.placement||s.placement,r.minduration=r.minduration||s.minduration,r.playbackmethod=r.playbackmethod||s.playbackmethod,r.startdelay=r.startdelay||s.startdelay||0),e.video=r}return e}))};return i&&(s.publisher.networkid=i),s.user={ext:r.userExt},r&&r.ceh&&(s.user.ceh=r.ceh),r&&r.gdprConsent&&(s.gdprConsent={},void 0!==r.gdprConsent.gdprApplies&&(s.gdprConsent.gdprApplies=!!r.gdprConsent.gdprApplies),s.gdprConsent.version=r.gdprConsent.apiVersion,void 0!==r.gdprConsent.consentString&&(s.gdprConsent.consentData=r.gdprConsent.consentString)),r&&r.uspConsent&&(s.user.uspIab=r.uspConsent),s}function retrieveBannerSizes(t){return Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.deepAccess)(t,"mediaTypes.banner.sizes")||t.sizes}function parseSizes(t,e){return Array.isArray(t[0])?t.map((function(t){return e(t)})):[e(t)]}function parseSize(t){return t[0]+"x"+t[1]}function parseNativeSize(t){return void 0===t[0]&&void 0===t[1]?"2x2":t[0]+"x"+t[1]}function hasVideoMediaType(t){return void 0!==Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.deepAccess)(t,"mediaTypes.video")}function hasValidVideoMediaType(t){var e=!0;if(["mimes","playerSize","maxduration","protocols","api","skip","placement","playbackmethod"].forEach((function(r){void 0===Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.deepAccess)(t,"mediaTypes.video."+r)&&void 0===Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.deepAccess)(t,"params.video."+r)&&(e=!1,Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.logError)("Criteo Bid Adapter: mediaTypes.video."+r+" is required"))})),e){var r=t.mediaTypes.video.placement||t.params.video.placement;if("instream"==t.mediaTypes.video.context&&1===r)return!0;if("outstream"==t.mediaTypes.video.context&&1!==r)return!0}return!1}function createPrebidNativeAd(t){return{sendTargetingKeys:!1,title:t.products[0].title,body:t.products[0].description,sponsoredBy:t.advertiser.description,icon:t.advertiser.logo,image:t.products[0].image,clickUrl:t.products[0].click_url,privacyLink:t.privacy.optout_click_url,privacyIcon:t.privacy.optout_image_url,cta:t.products[0].call_to_action,price:t.products[0].price,impressionTrackers:t.impression_pixels.map((function(t){return t.url}))}}function createNativeAd(t,e,r){var i="criteo_prebid_native_slots";return window[i]=window[i]||{},window[i][t]={callback:r,payload:e},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(i,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(t,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function canFastBid(t){return t!==FAST_BID_VERSION_NONE}function getFastBidUrl(t){var e;return t===FAST_BID_VERSION_LATEST?e="":t?(String(t).split(".")[0]<102&&Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.logWarn)("Specifying a Fastbid version which is not supporting version selection."),e="."+t):e="."+FAST_BID_VERSION_CURRENT,PUBLISHER_TAG_URL_TEMPLATE.replace(FAST_BID_VERSION_PLACEHOLDER,e)}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey);if(null!==fastBidFromStorage){var firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim();if(firstLine.substr(0,hashPrefix.length)!==hashPrefix)Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.logWarn)("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey);else{var publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1);Object(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__.verify)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.logInfo)("Using Criteo FastBid"),eval(publisherTag)):(Object(__WEBPACK_IMPORTED_MODULE_0__src_utils_js__.logWarn)("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))}}}catch(t){}}Object(__WEBPACK_IMPORTED_MODULE_2__src_adapters_bidderFactory_js__.registerBidder)(spec),window.pbjs.installedModules.push("criteoBidAdapter")},76:function _(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=r(77),s=r(78);e.verify=function(t,e,r,a){var _=new i.BigInteger(i.b64toHex(e)),o=new i.BigInteger(i.b64toHex(r)),n=_.modPowInt(a,o);return i.removeExtraSymbols(n.toHexString())===s.Sha256.hash(t)}},77:function _(t,e,r){var i;Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t){null!==t&&this.fromHexString(t)}return t.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var t,e=!1,r="",i=this.t,s=this.DB-i*this.DB%4;if(i-- >0)for(s<this.DB&&(t=this[i]>>s)>0&&(e=!0,r=d(t));i>=0;)s<4?(t=(this[i]&(1<<s)-1)<<4-s,t|=this[--i]>>(s+=this.DB-4)):(t=this[i]>>(s-=4)&15,s<=0&&(s+=this.DB,--i)),t>0&&(e=!0),e&&(r+=d(t));return e?r:"0"},t.prototype.fromHexString=function(e){if(null!==e){this.t=0,this.s=0;for(var r=e.length,i=!1,s=0;--r>=0;){var a=p(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+4>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=4)>=this.DB&&(s-=this.DB))}this.clamp(),i&&t.ZERO.subTo(this,this)}},t.prototype.negate=function(){var e=a();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.mod=function(e){var r=a();return this.abs().divRemTo(e,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&e.subTo(r,r),r},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.lShiftTo=function(t,e){for(var r=t%this.DB,i=this.DB-r,s=(1<<i)-1,a=Math.floor(t/this.DB),_=this.s<<r&this.DM,o=this.t-1;o>=0;--o)e[o+a+1]=this[o]>>i|_,_=(this[o]&s)<<r;for(o=a-1;o>=0;--o)e[o]=0;e[a]=_,e.t=this.t+a+1,e.s=this.s,e.clamp()},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},t.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var i=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,i,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},t.prototype.multiplyTo=function(e,r){var i=this.abs(),s=e.abs(),a=i.t;for(r.t=a+s.t;--a>=0;)r[a]=0;for(a=0;a<s.t;++a)r[a+i.t]=i.am(0,s[a],r,a,0,i.t);r.s=0,r.clamp(),this.s!=e.s&&t.ZERO.subTo(r,r)},t.prototype.divRemTo=function(e,r,i){var s=e.abs();if(!(s.t<=0)){var o=this.abs();if(o.t<s.t)return null!=r&&r.fromHexString("0"),void(null!=i&&this.copyTo(i));null==i&&(i=a());var n=a(),c=this.s,p=e.s,d=this.DB-_(s[s.t-1]);d>0?(s.lShiftTo(d,n),o.lShiftTo(d,i)):(s.copyTo(n),o.copyTo(i));var u=n.t,l=n[u-1];if(0!=l){var h=l*(1<<this.F1)+(u>1?n[u-2]>>this.F2:0),f=this.FV/h,E=(1<<this.F1)/h,v=1<<this.F2,m=i.t,T=m-u,b=null==r?a():r;for(n.dlShiftTo(T,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),t.ONE.dlShiftTo(u,b),b.subTo(n,n);n.t<u;)n[n.t++]=0;for(;--T>=0;){var D=i[--m]==l?this.DM:Math.floor(i[m]*f+(i[m-1]+v)*E);if((i[m]+=n.am(0,D,i,T,0,u))<D)for(n.dlShiftTo(T,b),i.subTo(b,i);i[m]<--D;)i.subTo(b,i)}null!=r&&(i.drShiftTo(u,r),c!=p&&t.ZERO.subTo(r,r)),i.t=u,i.clamp(),d>0&&i.rShiftTo(d,i),c<0&&t.ZERO.subTo(i,i)}}},t.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var i=t%this.DB,s=this.DB-i,a=(1<<i)-1;e[0]=this[r]>>i;for(var _=r+1;_<this.t;++_)e[_-r-1]|=(this[_]&a)<<s,e[_-r]=this[_]>>i;i>0&&(e[this.t-r-1]|=(this.s&a)<<s),e.t=this.t-r,e.clamp()}},t.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.subTo=function(t,e){for(var r=0,i=0,s=Math.min(t.t,this.t);r<s;)i+=this[r]-t[r],e[r++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;r<this.t;)i+=this[r],e[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<t.t;)i-=t[r],e[r++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[r++]=this.DV+i:i>0&&(e[r++]=i),e.t=r,e.clamp()},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new u(e):new l(e),this.exp(t,r)},t.prototype.exp=function(e,r){if(e>4294967295||e<1)return t.ONE;var i=a(),s=a(),o=r.convert(this),n=_(e)-1;for(o.copyTo(i);--n>=0;)if(r.sqrTo(i,s),(e&1<<n)>0)r.mulTo(s,o,i);else{var c=i;i=s,s=c}return r.revert(i)},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},t.prototype.am1=function(t,e,r,i,s,a){for(;--a>=0;){var _=e*this[t++]+r[i]+s;s=Math.floor(_/67108864),r[i++]=67108863&_}return s},t.prototype.am2=function(t,e,r,i,s,a){for(var _=32767&e,o=e>>15;--a>=0;){var n=32767&this[t],c=this[t++]>>15,p=o*n+c*_;s=((n=_*n+((32767&p)<<15)+r[i]+(1073741823&s))>>>30)+(p>>>15)+o*c+(s>>>30),r[i++]=1073741823&n}return s},t.prototype.am3=function(t,e,r,i,s,a){for(var _=16383&e,o=e>>14;--a>=0;){var n=16383&this[t],c=this[t++]>>14,p=o*n+c*_;s=((n=_*n+((16383&p)<<14)+r[i]+s)>>28)+(p>>14)+o*c,r[i++]=268435455&n}return s},t}();function a(){return new s(null)}function _(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}e.BigInteger=s,e.nbi=a,e.nbits=_;var o,n,c=[];for(o="0".charCodeAt(0),n=0;n<=9;++n)c[o++]=n;for(o="a".charCodeAt(0),n=10;n<36;++n)c[o++]=n;for(o="A".charCodeAt(0),n=10;n<36;++n)c[o++]=n;function p(t,e){var r=c[t.charCodeAt(e)];return null==r?-1:r}function d(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}e.intAt=p,e.int2char=d,e.b64toHex=function(t){var e,r="",i=0,s=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(e));a<0||(0==i?(r+=d(a>>2),s=3&a,i=1):1==i?(r+=d(s<<2|a>>4),s=15&a,i=2):2==i?(r+=d(s),r+=d(a>>2),s=3&a,i=3):(r+=d(s<<2|a>>4),r+=d(15&a),i=0))}return 1==i&&(r+=d(s<<2)),r},e.removeExtraSymbols=function(t){return t.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var u=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),l=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=a();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(s.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=a();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],i=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,i,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function h(t){var e=a();return e.fromHexString(t.toString()),e}e.nbv=h,s.ZERO=h(0),s.ONE=h(1),"Microsoft Internet Explorer"==navigator.appName?(s.prototype.am=s.prototype.am2,i=30):"Netscape"!=navigator.appName?(s.prototype.am=s.prototype.am1,i=26):(s.prototype.am=s.prototype.am3,i=28),s.prototype.DB=i,s.prototype.DM=(1<<i)-1,s.prototype.DV=1<<i,s.prototype.FV=Math.pow(2,52),s.prototype.F1=52-i,s.prototype.F2=2*i-52},78:function _(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.hash=function(e){e=t.utf8Encode(e||"");for(var r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],s=(e+=String.fromCharCode(128)).length/4+2,a=Math.ceil(s/16),_=new Array(a),o=0;o<a;o++){_[o]=new Array(16);for(var n=0;n<16;n++)_[o][n]=e.charCodeAt(64*o+4*n)<<24|e.charCodeAt(64*o+4*n+1)<<16|e.charCodeAt(64*o+4*n+2)<<8|e.charCodeAt(64*o+4*n+3)<<0}var c=8*(e.length-1)/Math.pow(2,32),p=8*(e.length-1)>>>0;for(_[a-1][14]=Math.floor(c),_[a-1][15]=p,o=0;o<a;o++){for(var d=new Array(64),u=0;u<16;u++)d[u]=_[o][u];for(u=16;u<64;u++)d[u]=t.q1(d[u-2])+d[u-7]+t.q0(d[u-15])+d[u-16]>>>0;var l=i[0],h=i[1],f=i[2],E=i[3],v=i[4],m=i[5],T=i[6],b=i[7];for(u=0;u<64;u++){var D=b+t.z1(v)+t.Ch(v,m,T)+r[u]+d[u],y=t.z0(l)+t.Maj(l,h,f);b=T,T=m,m=v,v=E+D>>>0,E=f,f=h,h=l,l=D+y>>>0}i[0]=i[0]+l>>>0,i[1]=i[1]+h>>>0,i[2]=i[2]+f>>>0,i[3]=i[3]+E>>>0,i[4]=i[4]+v>>>0,i[5]=i[5]+m>>>0,i[6]=i[6]+T>>>0,i[7]=i[7]+b>>>0}var O=new Array(i.length);for(b=0;b<i.length;b++)O[b]=("00000000"+i[b].toString(16)).slice(-8);return O.join("")},t.utf8Encode=function(t){try{return(new TextEncoder).encode(t).reduce((function(t,e){return t+String.fromCharCode(e)}),"")}catch(e){return unescape(encodeURIComponent(t))}},t.ROTR=function(t,e){return e>>>t|e<<32-t},t.z0=function(e){return t.ROTR(2,e)^t.ROTR(13,e)^t.ROTR(22,e)},t.z1=function(e){return t.ROTR(6,e)^t.ROTR(11,e)^t.ROTR(25,e)},t.q0=function(e){return t.ROTR(7,e)^t.ROTR(18,e)^e>>>3},t.q1=function(e){return t.ROTR(17,e)^t.ROTR(19,e)^e>>>10},t.Ch=function(t,e,r){return t&e^~t&r},t.Maj=function(t,e,r){return t&e^t&r^e&r},t}();e.Sha256=i}},[398]),pbjsChunk([274],{463:function _(e,t,r){e.exports=r(464)},464:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"adpodUtils",(function(){return o})),t.notifyTranslationModule=s;var n=r(61),i=r(9),o={};function s(e){e.call(this,"freewheel")}Object(i.a)("registerAdserver").before(s),Object(n.a)("freewheel",{getTargeting:function getTargeting(e){return o.getTargeting(e)}}),Object(i.e)("adpod",o),window.pbjs.installedModules.push("freeWheelAdserverVideo")}},[463]),pbjsChunk([249],{515:function _(e,t,r){e.exports=r(516)},516:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"ID5_STORAGE_NAME",(function(){return p})),r.d(t,"ID5_PRIVACY_STORAGE_NAME",(function(){return d})),r.d(t,"id5IdSubmodule",(function(){return m})),t.expDaysStr=O,t.nbCacheName=j,t.storeNbInCache=v,t.getNbFromCache=I,t.getFromLocalStorage=S,t.storeInLocalStorage=_;var o=r(0),n=r(4),a=r(9),c=r(19),i=r(7),s=r(8),p="id5id",d="".concat(p,"_privacy"),u="html5",g="User ID - ID5 submodule: ",b=["pbjs-id5id","id5id.1st","id5id"],l=Object(i.b)(131,"id5Id"),m={name:"id5Id",gvlid:131,decode:function decode(e,t){var r=0;if(e&&"string"==typeof e.universal_uid){var n={id5id:{uid:e.universal_uid,ext:{linkType:r=e.link_type||r}}};switch(Object(o.deepAccess)(e,"ab_testing.result")){case"control":Object(o.logInfo)(g+"A/B Testing - user is in the Control Group: ID5 ID is NOT exposed"),Object(o.deepSetValue)(n,"id5id.ext.abTestingControlGroup",!0);break;case"error":Object(o.logError)(g+"A/B Testing ERROR! controlGroupPct must be a number >= 0 and <= 1");break;case"normal":Object(o.logInfo)(g+"A/B Testing - user is NOT in the Control Group"),Object(o.deepSetValue)(n,"id5id.ext.abTestingControlGroup",!1)}return Object(o.logInfo)(g+"Decoded ID",n),n}},getId:function getId(e,t,r){if(f(e)){var a,i="https://id5-sync.com/g/v2/".concat(e.params.partner,".json"),p=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,m=s.uspDataHandler.getConsentData(),j=Object(c.a)(),I=r&&r.signature?r.signature:(b.forEach((function(e){l.getCookie(e)&&(a=JSON.parse(l.getCookie(e))||a)})),a&&a.signature||""),S={partner:e.params.partner,gdpr:p,nbPage:y(e.params.partner),o:"pbjs",rf:j.referer,top:j.reachedTop?1:0,u:j.stack[0]||window.location.href,v:"6.5.0"};!p||void 0===t.consentString||Object(o.isEmpty)(t.consentString)||Object(o.isEmptyStr)(t.consentString)||(S.gdpr_consent=t.consentString),void 0===m||Object(o.isEmpty)(m)||Object(o.isEmptyStr)(m)||(S.us_privacy=m),void 0===I||Object(o.isEmptyStr)(I)||(S.s=I),void 0===e.params.pd||Object(o.isEmptyStr)(e.params.pd)||(S.pd=e.params.pd),void 0===e.params.provider||Object(o.isEmptyStr)(e.params.provider)||(S.provider=e.params.provider);var h=function(e){return Object(o.deepAccess)(e,"params.abTesting",{enabled:!1})}(e);return!0===h.enabled&&(S.ab_testing={enabled:!0,control_group_pct:h.controlGroupPct}),{callback:function callback(t){var r={success:function success(r){var n;if(r)try{n=JSON.parse(r),Object(o.logInfo)(g+"response received from the server",n),v(e.params.partner,0),n.privacy&&_(d,JSON.stringify(n.privacy),30),e.storage.type===u&&function(e){Object(o.logInfo)(g+"removing legacy cookies"),b.forEach((function(t){l.setCookie("".concat(t)," ",O(-1)),l.setCookie("".concat(t,"_nb")," ",O(-1)),l.setCookie("".concat(t,"_").concat(e,"_nb")," ",O(-1)),l.setCookie("".concat(t,"_last")," ",O(-1))}))}(e.params.partner)}catch(e){Object(o.logError)(g+e)}t(n)},error:function error(e){Object(o.logError)(g+"getId fetch encountered an error",e),t()}};Object(o.logInfo)(g+"requesting an ID from the server",S),Object(n.a)(i,r,JSON.stringify(S),{method:"POST",withCredentials:!0})}}}},extendId:function extendId(e,t,r){return f(e),y(e&&e.params&&e.params.partner||0),Object(o.logInfo)(g+"using cached ID",r),r}};function f(e){return e&&e.params&&e.params.partner&&"number"==typeof e.params.partner?e.storage&&e.storage.type&&e.storage.name?(e.storage.type!==u&&Object(o.logWarn)(g+"storage type recommended to be '".concat(u,"'. In a future release this may become a strict requirement")),e.storage.name!==p&&Object(o.logWarn)(g+"storage name recommended to be '".concat(p,"'. In a future release this may become a strict requirement")),!0):(Object(o.logError)(g+"storage required to be set"),!1):(Object(o.logError)(g+"partner required to be defined as a number"),!1)}function O(e){return new Date(Date.now()+864e5*e).toUTCString()}function j(e){return"".concat(p,"_").concat(e,"_nb")}function v(e,t){_(j(e),t,30)}function I(e){var t=S(j(e));return t?parseInt(t):0}function y(e){var t=I(e)+1;return v(e,t),t}function S(e){var t=l.getDataFromLocalStorage("".concat(e,"_exp"));return""===t||t&&new Date(t).getTime()-Date.now()>0?l.getDataFromLocalStorage(e):(l.removeDataFromLocalStorage(e),null)}function _(e,t,r){l.setDataInLocalStorage("".concat(e,"_exp"),O(r)),l.setDataInLocalStorage("".concat(e),t)}Object(a.e)("userId",m),window.pbjs.installedModules.push("id5IdSystem")}},[515]),pbjsChunk([248],{520:function _(e,t,n){e.exports=n(521)},521:function _(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return s})),n.d(t,"identityLinkSubmodule",(function(){return c}));var i=n(0),o=n(4),r=n(9),d=n(7),s=Object(d.b)(),c={name:"identityLink",gvlid:97,decode:function decode(e){return{idl_env:e}},getId:function getId(e,t){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var o=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,r=o?t.consentString:"",d=2===i.deepAccess(t,"vendorData.tcfPolicyVersion");if(!o||r&&""!==r){var s="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(o?(d?"&ct=4&cv=":"&ct=1&cv=")+r:"");return{callback:function callback(e){window.ats?(i.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(t){t?(i.logInfo("identityLink: An envelope can be retrieved from ATS!"),l(!0),e(JSON.parse(t).envelope)):a(s,e,n)}))):a(s,e,n)}}}i.logInfo("identityLink: Consent string is required to call envelope API.")}else i.logError("identityLink: requires partner id to be defined")}};function a(e,t,n){var r,d={success:function success(e){var n;if(e)try{n=JSON.parse(e)}catch(e){i.logInfo(e)}t(n&&n.envelope?n.envelope:"")},error:function error(e){i.logInfo("identityLink: identityLink: ID fetch encountered an error",e),t()}};n.notUse3P||s.getCookie("_lr_retry_request")||((r=new Date).setTime(r.getTime()+36e5),s.setCookie("_lr_retry_request","true",r.toUTCString()),i.logInfo("identityLink: A 3P retrieval is attempted!"),l(!1),Object(o.a)(e,d,void 0,{method:"GET",withCredentials:!0}))}function l(e){var t=new Date;t.setTime(t.getTime()+2592e6),s.setCookie("_lr_env_src_ats",e,t.toUTCString())}Object(r.e)("userId",c),window.pbjs.installedModules.push("identityLinkIdSystem")}},[520]),pbjsChunk([230],{562:function _(e,r,t){e.exports=t(563)},563:function _(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"ERROR_CODES",(function(){return z})),t.d(r,"storage",(function(){return L})),t.d(r,"spec",(function(){return oe}));var i=t(0),n=t(2),a=t(3),o=t(5),s=t.n(o),d=t(7),c=t(10),p=t.n(c),u=t(11),l=t.n(u),m=t(1),b=t(20),f=t(12),y=t.n(f),g=t(13);function O(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return(v="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,i)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){j(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function j(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function x(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=A(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var i=0,n=function n(){};return{s:n,n:function n(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function e(_e2){throw _e2},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function s(){t=t.call(e)},n:function n(){var e=t.next();return o=e.done,e},e:function e(_e3){s=!0,a=_e3},f:function f(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function A(e,r){if(e){if("string"==typeof e)return S(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,r):void 0}}function S(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}var E="ix",w="roundel",_=[n.b,n.d],D=8e3,P={JPY:1},T="p",C="x",z={BID_SIZE_INVALID_FORMAT:1,BID_SIZE_NOT_INCLUDED:2,PROPERTY_NOT_INCLUDED:3,SITE_ID_INVALID_VALUE:4,BID_FLOOR_INVALID_FORMAT:5,IX_FPD_EXCEEDS_MAX_SIZE:6,EXCEEDS_MAX_SIZE:7,PB_FPD_EXCEEDS_MAX_SIZE:8,VIDEO_DURATION_INVALID:9},R={SITE:["id","name","domain","cat","sectioncat","pagecat","page","ref","search","mobile","privacypolicy","publisher","content","keywords","ext"],USER:["id","buyeruid","yob","gender","keywords","customdata","geo","data","ext"]},N={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID","id5-sync.com":"","crwdcntrl.net":"","epsilon.com":"","audigent.com":"","pubcid.org":""},X=["britepoolid","id5id","lipbid","haloId","criteoId","lotamePanoramaId","merkleId","parrableId","connectid","tapadId","quantcastId","pubcid","TDID","flocId","pubProvidedId"],k=["mimes","minduration","maxduration"],B=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"],F="ixdiag",U=!1,L=Object(d.b)(10,E),V=2;function M(e){var r={};r.id=e.bidId,r.ext={},r.ext.siteID=e.params.siteId.toString(),!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(r.ext.sid=String(e.params.id));var t=Object(i.deepAccess)(e,"ortb2Imp.ext.data.adserver.adslot");return t&&(r.ext.dfp_ad_unit_code=t),r}function q(e,r,t){var n=null,a=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),Object(i.isFn)(e.getFloor)){var o="*",s="*";if(t&&Object(i.contains)(_,t)){var d=r[t];o=t,s=[d.w,d.h]}try{a=e.getFloor({mediaType:o,size:s})}catch(e){Object(i.logWarn)("priceFloors module call getFloor failed, error : ",e)}}a?(r.bidfloor=a.floor,r.bidfloorcur=a.currency,r.ext.fl=T):n&&(r.bidfloor=n.floor,r.bidfloorcur=n.currency,r.ext.fl=C)}function J(e,r,t){var a={},o=!(!Object(i.deepAccess)(e,"exp")||!Object(i.isInteger)(e.exp)),s=Object(i.deepAccess)(e,"dealid")||Object(i.deepAccess)(e,"ext.dealid");return P.hasOwnProperty(r)?a.cpm=e.price/P[r]:a.cpm=e.price/100,a.requestId=e.impid,s&&(a.dealId=s),a.netRevenue=!0,a.currency=r,a.creativeId=e.hasOwnProperty("crid")?e.crid:"-",2==e.mtype?a.vastXml=e.adm:e.ext&&e.ext.vasturl&&(a.vastUrl=e.ext.vasturl),e.ext&&e.ext.vasturl||2==e.mtype?(a.width=t.video.w,a.height=t.video.h,a.mediaType=n.d,a.mediaTypes=t.mediaTypes,a.ttl=o?e.exp:3600):(a.ad=e.adm,a.width=e.w,a.height=e.h,a.mediaType=n.b,a.ttl=o?e.exp:300),a.meta={},a.meta.networkId=Object(i.deepAccess)(e,"ext.dspid"),a.meta.brandId=Object(i.deepAccess)(e,"ext.advbrandid"),a.meta.brandName=Object(i.deepAccess)(e,"ext.advbrand"),e.adomain&&e.adomain.length>0&&(a.meta.advertiserDomains=e.adomain),a}function Z(e){return Array.isArray(e)&&2===e.length&&Object(i.isInteger)(e[0])&&Object(i.isInteger)(e[1])}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(Z(e))return e[0]===r[0]&&e[1]===r[1];for(var t=0;t<e.length;t++)if(e[t][0]===r[0]&&e[t][1]===r[1])return!0;return!1}function G(e,r){var t=[];e||Object(i.logWarn)("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var n,a=x(k);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=e&&e.hasOwnProperty(o),d=r&&r.hasOwnProperty(o);s||d||t.push("IX Bid Adapter: ".concat(o," is not included in either the adunit or params level"))}}catch(e){a.e(e)}finally{a.f()}var c=e&&e.hasOwnProperty("protocol"),p=e&&e.hasOwnProperty("protocols"),u=r&&r.hasOwnProperty("protocol"),l=r&&r.hasOwnProperty("protocols");return c||p||u||l||t.push("IX Bid Adapter: protocol/protcols is not included in either the adunit or params level"),t}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Z(e)?e:!!Z(e[0])&&e[0]}function Q(e,r,t){if(e)return I(I({},l()(t,(function(r){return r.bidId===e}))),l()(r,(function(r){return r.id===e})))}function $(e,r,t,o){var s="https://htlb.casalemedia.com/cygnus",d=function(e,r){var t=[],n={};if(Object(i.isArray)(e)){var a,o=x(e);try{for(o.s();!(a=o.n()).done;){var s=a.value;N.hasOwnProperty(s.source)&&Object(i.deepAccess)(s,"uids.0")&&(n[s.source]=!0,""!=N[s.source]&&(s.uids[0].ext={rtiPartner:N[s.source]}),delete s.uids[0].atype,t.push(s))}}catch(e){o.e(e)}finally{o.f()}}if(r&&r.id&&r.version){var d={source:"chrome.com",uids:[{id:r.id,ext:{rtiPartner:"flocId",ver:r.version}}]};t.push(d),n["chrome.com"]=!0}return{toSend:t,seenSources:n}}(Object(i.deepAccess)(e,"0.userIdAsEids"),Object(i.deepAccess)(e,"0.userId.flocId")),c=d.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var p=window.headertag.getIdentityInfo();if(p&&"object"===v(p))for(var u in p)if(p.hasOwnProperty(u)){var l=p[u];!l.responsePending&&l.data&&"object"===v(l.data)&&Object.keys(l.data).length&&!d.seenSources[l.data.source]&&c.push(l.data)}}if(r&&r.bidderCode===w&&!d.seenSources["liveramp.com"])return[];var m={};m.id=e[0].bidderRequestId.toString(),m.site={},m.ext={},m.ext.source="prebid",m.ext.ixdiag={},m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,m.imp=[],m.at=1;var b=function(e){for(var r=e.map((function(e){return e.transactionId})).filter((function(e,r,t){return t.indexOf(e)===r})),t={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"6.5.0",userIds:H(e[0])},n=function n(_n2){if(o=e.filter((function(e){return e.transactionId===r[_n2]}))[0],Object(i.deepAccess)(o,"mediaTypes")){if(Object.keys(o.mediaTypes).length>1&&t.mfu++,Object(i.deepAccess)(o,"mediaTypes.native")&&t.nu++,Object(i.deepAccess)(o,"mediaTypes.banner")&&t.bu++,"outstream"===Object(i.deepAccess)(o,"mediaTypes.video.context")){t.ou++;var a="object"===v(Object(i.deepAccess)(o,"renderer")||Object(i.deepAccess)(o,"mediaTypes.video.renderer"));t.ren=t.ren&&a?Object(i.deepAccess)(t,"ren"):a}"instream"===Object(i.deepAccess)(o,"mediaTypes.video.context")&&t.iu++,t.allu++}},a=0;a<r.length;a++){var o;n(a)}return t}(e);for(var f in b)m.ext.ixdiag[f]=b[f];var y=function(){if(L.localStorageIsEnabled()){var e,r={};try{e=JSON.parse(L.getDataFromLocalStorage(F)||"{}")}catch(e){return Object(i.logError)("ix can not read ixdiag from localStorage."),null}return Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(i){"number"==typeof e[t][i]&&(r[i]=r[i]?r[i]+e[t][i]:e[t][i])}))})),r}}();if(Object(i.isEmpty)(y)||(m.ext.ixdiag.err=y),e[0].schain&&(m.source={ext:{schain:e[0].schain}}),c.length>0&&(m.user={},m.user.eids=c),document.referrer&&""!==document.referrer&&(m.site.ref=document.referrer),r){if(r.gdprConsent){var g=r.gdprConsent;g.hasOwnProperty("gdprApplies")&&(m.regs={ext:{gdpr:g.gdprApplies?1:0}}),g.hasOwnProperty("consentString")&&(m.user=m.user||{},m.user.ext={consent:g.consentString||""},g.hasOwnProperty("addtlConsent")&&g.addtlConsent&&(m.user.ext.consented_providers_settings={consented_providers:g.addtlConsent}))}r.uspConsent&&Object(i.deepSetValue)(m,"regs.ext.us_privacy",r.uspConsent),r.refererInfo&&(m.site.page=r.refererInfo.referer)}a.b.getConfig("coppa")&&Object(i.deepSetValue)(m,"regs.coppa",1);var h={};h.s=e[0].params.siteId,h.v=o,h.ac="j",h.sd=1,8.1===o&&(h.nf=1);var j=r&&r.bidderCode||"ix",A=a.b.getConfig(j),S=[],_=0,P=Object.keys(t),T="".concat(s).concat(Object(i.parseQueryStringParameters)(I(I({},h),{},{r:JSON.stringify(m)}))).length;if(T>D)return Object(i.logError)("IX Bid Adapter: Base request size has exceeded maximum request size.",{bidder:E,code:z.EXCEEDS_MAX_SIZE}),S;var C=T,X=0,k=!1;if(A){if("object"===v(A.firstPartyData)){var B=A.firstPartyData,U="?";for(var V in B)B.hasOwnProperty(V)&&(U+="".concat(encodeURIComponent(V),"=").concat(encodeURIComponent(B[V]),"&"));U=U.slice(0,-1),(X=encodeURIComponent(U).length)<D?("page"in m.site?m.site.page+=U:m.site.page=U,C+=X):Object(i.logError)("IX Bid Adapter: IX config FPD request size has exceeded maximum request size.",{bidder:E,code:z.IX_FPD_EXCEEDS_MAX_SIZE})}"number"==typeof A.timeout&&(h.t=A.timeout),"boolean"==typeof A.detectMissingSizes?m.ext.ixdiag.dms=A.detectMissingSizes:m.ext.ixdiag.dms=!0}for(var M=function M(r){if(C>=D||S.length>=4)return"break";for(var o=t[P[r]],d=o.missingCount,c=void 0===d?0:d,p=o.missingImps,u=void 0===p?[]:p,l=o.ixImps,b=!1,f=D-C,y={ixImps:void 0===l?[]:l,missingBannerImpressions:u},g=Object.keys(y).map((function(e){return y[e]})).filter((function(e){return Array.isArray(e)})).reduce((function(e,r){return e.concat.apply(e,O(r))}),[]),v=encodeURIComponent(JSON.stringify({impressionObjects:g})).length;g.length&&v>f;)b=!0,g.pop(),v=encodeURIComponent(JSON.stringify({impressionObjects:g})).length;if(g.length&&n.b in g[0]){var j=g[0],x=j.id,A=j.banner.topframe,w=j.ext,N=t[P[r]].gpid,X={id:x,banner:{topframe:A,format:g.map((function(e){var r=e.banner;return{w:r.w,h:r.h,ext:e.ext}}))}};(w.dfp_ad_unit_code||N)&&(X.ext={},X.ext.dfp_ad_unit_code=w.dfp_ad_unit_code,X.ext.gpid=N),"bidfloor"in g[0]&&(X.bidfloor=g[0].bidfloor),"bidfloorcur"in g[0]&&(X.bidfloorcur=g[0].bidfloorcur),m.imp.push(X),m.ext.ixdiag.msd+=c,m.ext.ixdiag.msi+=u.length}else{var B;(B=m.imp).push.apply(B,O(g))}C+=v;var F=a.b.getConfig("ortb2")||{};if(!Object(i.isEmpty)(F)&&!k){m.ext.ixdiag.fpd=!0;var U=I({},F.site||F.context);Object.keys(U).forEach((function(e){-1===R.SITE.indexOf(e)&&delete U[e]}));var L=I({},F.user);Object.keys(L).forEach((function(e){-1===R.USER.indexOf(e)&&delete L[e]}));var V=Object(i.deepClone)(m);if(V.site=Object(i.mergeDeep)({},V.site,U),V.user=Object(i.mergeDeep)({},V.user,L),"".concat(s).concat(Object(i.parseQueryStringParameters)(I(I({},h),{},{r:JSON.stringify(V)}))).length<D){m.site=Object(i.mergeDeep)({},m.site,U),m.user=Object(i.mergeDeep)({},m.user,L),k=!0;var M=encodeURIComponent(JSON.stringify(I(I({},U),L))).length;C+=M}else Object(i.logError)("IX Bid Adapter: FPD request size has exceeded maximum request size.",{bidder:E,code:z.PB_FPD_EXCEEDS_MAX_SIZE})}var q=r===P.length-1;if(b||q){var J=Object(i.deepClone)(h);q&&!_||(m.ext.ixdiag.sn=_,J.sn=_),_++,J.r=JSON.stringify(m),S.push({method:"GET",url:s,data:J,validBidRequests:e}),C=T,m.imp=[],m.ext.ixdiag.msd=0,m.ext.ixdiag.msi=0,k=!1}},q=0;q<P.length&&"break"!==M(q);q++);return S}function H(e){var r=e.userId||{};return X.filter((function(e){return r[e]}))}function K(e,r){if(r)for(var t=0;t<e.length;t++){var i=e[t];if(r[0]===i[0]&&r[1]===i[1]){e.splice(t,1);break}}}function ee(e,r){var t=function(e){var r=M(e),t=Object(i.deepAccess)(e,"mediaTypes.video"),a=Object(i.deepAccess)(e,"params.video");if(G(t,a).length)return{};for(var o in r.video=a?Object(i.deepClone)(e.params.video):{},t)-1===B.indexOf(o)||r.video.hasOwnProperty(o)||(r.video[o]=t[o]);if(r.video.minduration>r.video.maxduration)return Object(i.logError)("IX Bid Adapter: video minduration [".concat(r.video.minduration,"] cannot be greater than video maxduration [").concat(r.video.maxduration,"]"),{bidder:E,code:z.VIDEO_DURATION_INVALID}),{};var s=a&&a.context||t&&t.context;if(s&&!r.video.hasOwnProperty("placement")&&(s===b.a?r.video.placement=1:s===b.b?r.video.placement=4:Object(i.logWarn)("IX Bid Adapter: Video context '".concat(s,"' is not supported"))),!r.video.w||!r.video.h){var d=Y(Object(i.deepAccess)(r,"video.playerSize"))||Y(Object(i.deepAccess)(e,"params.size"));if(!d)return Object(i.logWarn)("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};r.video.w=d[0],r.video.h=d[1],Object(i.deepAccess)(r,"ext.sid")||(r.ext.sid=Object(i.parseGPTSingleSizeArray)(d))}return q(e,r,n.d),r}(e);0!=Object.keys(t).length&&(r[e.transactionId]={},r[e.transactionId].ixImps=[],r[e.transactionId].ixImps.push(t))}function re(e,r,t){var o=I(I({},{detectMissingSizes:!0}),a.b.getConfig("ix")),s=function(e){var r=M(e);r.banner={};var t=Object(i.deepAccess)(e,"params.size");return t&&(r.banner.w=t[0],r.banner.h=t[1],Object(i.deepAccess)(r,"ext.sid")||(r.ext.sid=Object(i.parseGPTSingleSizeArray)(t))),r.banner.topframe=Object(i.inIframe)()?0:1,q(e,r,n.b),r}(e);W(Object(i.deepAccess)(e,"mediaTypes.banner.sizes"),Object(i.deepAccess)(e,"params.size"))&&(t.hasOwnProperty(e.transactionId)||(t[e.transactionId]={}),t[e.transactionId].hasOwnProperty("ixImps")||(t[e.transactionId].ixImps=[]),t[e.transactionId].ixImps.push(s),t[e.transactionId].gpid=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid")),o.hasOwnProperty("detectMissingSizes")&&o.detectMissingSizes&&function(e,r,t){var n=e.transactionId;if(r.hasOwnProperty(n)){var a=[];r[n].hasOwnProperty("missingSizes")&&(a=r[n].missingSizes),K(a,e.params.size),r[n].missingSizes=a}else if(Object(i.deepAccess)(e,"mediaTypes.banner.sizes")){var o=Object(i.deepClone)(e.mediaTypes.banner.sizes);K(o,e.params.size);var s={missingSizes:o,impression:t};r[n]=s}}(e,r,s)}function te(e,r,t){var a=Object(i.deepClone)(r);return a.ext.sid=Object(i.parseGPTSingleSizeArray)(t),a.banner.w=t[0],a.banner.h=t[1],q(e,a,n.b),a}function ie(e){if("ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===E){var r={hasEnforcementHook:!1,valid:Object(i.hasDeviceAccess)()};Object(d.d)(10,E,r,(function(r){r.valid&&function(e){if(L.localStorageIsEnabled()){var r;try{r=JSON.parse(L.getDataFromLocalStorage(F)||"{}")}catch(e){Object(i.logWarn)("ix can not read ixdiag from localStorage.")}var t=new Date;if(Object.keys(r).map((function(e){var i=new Date(e);i.setDate(i.getDate()+7)-t<0&&delete r[e]})),"ERROR"===e.type&&e.arguments&&e.arguments[1]&&e.arguments[1].bidder===E){var n=t.toISOString().slice(0,10),a=e.arguments[1].code;a&&(r[n]=r[n]||{},Number(r[n][a])||(r[n][a]=0),r[n][a]++)}L.setDataInLocalStorage(F,JSON.stringify(r))}}(e)}))}}function ne(e){e.renderer.push((function(){var r={width:e.width,height:e.height,timeout:3e3};e.vastXml?window.IXOutstreamPlayer(e.vastXml,e.adUnitCode,r):window.IXOutstreamPlayer(e.vastUrl,e.adUnitCode,r)}))}function ae(e){var r=g.a.install({id:e,url:"https://js-sec.indexww.com/htv/video-player.js",loaded:!1});try{r.setRender(ne)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return r}var oe={code:E,gvlid:10,aliases:[{code:w,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:_,isBidRequestValid:function isBidRequestValid(e){U||(p.a.on(s.a.EVENTS.AUCTION_DEBUG,ie),p.a.on(s.a.EVENTS.AD_RENDER_FAILED,ie),U=!0);var r,t,n=Object(i.deepAccess)(e,"params.video"),a=Object(i.deepAccess)(e,"params.size"),o=Object(i.deepAccess)(e,"mediaTypes.banner.sizes"),d=Object(i.deepAccess)(e,"mediaTypes.video"),c=Object(i.deepAccess)(e,"mediaTypes.video.playerSize"),u=e.params.hasOwnProperty("bidFloor"),l=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!Object(i.contains)(_,e.mediaType))return Object(i.logWarn)("IX Bid Adapter: media type is not supported."),!1;if(Object(i.deepAccess)(e,"mediaTypes.banner")&&!o)return!1;if(a){var m=Y(a);if(!m)return Object(i.logError)("IX Bid Adapter: size has invalid format.",{bidder:E,code:z.BID_SIZE_INVALID_FORMAT}),!1;if(!W(e.sizes,m)&&!W(c,m)&&!W(o,m))return Object(i.logError)("IX Bid Adapter: bid size is not included in ad unit sizes or player size.",{bidder:E,code:z.BID_SIZE_NOT_INCLUDED}),!1}if("string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId)return Object(i.logError)("IX Bid Adapter: siteId must be string or number type.",{bidder:E,code:z.SITE_ID_INVALID_VALUE}),!1;if("string"!=typeof e.params.siteId&&isNaN(Number(e.params.siteId)))return Object(i.logError)("IX Bid Adapter: siteId must valid value",{bidder:E,code:z.SITE_ID_INVALID_VALUE}),!1;if((u||l)&&!(u&&l&&(r=e.params.bidFloor,t=e.params.bidFloorCur,Boolean("number"==typeof r&&"string"==typeof t&&t.match(/^[A-Z]{3}$/)))))return Object(i.logError)("IX Bid Adapter: bidFloor / bidFloorCur parameter has invalid format.",{bidder:E,code:z.BID_FLOOR_INVALID_FORMAT}),!1;if(d&&n){var b=G(d,n);if(b.length)return b.forEach((function(e){Object(i.logError)(e,{bidder:E,code:z.PROPERTY_NOT_INCLUDED})})),!1}return!0},buildRequests:function buildRequests(e,r){var t=[],a={},o={},s={},d={};for(var c in e.forEach((function(e){var r=Object.keys(Object(i.deepAccess)(e,"mediaTypes",{}));switch(function(e){return Object(i.deepAccess)(e,"params.video")&&Object(i.deepAccess)(e,"mediaTypes.video")?n.d:n.b}(e)){case n.b:re(e,d,a);break;case n.d:ee(e,o)}y()(r,n.b)&&y()(r,n.d)&&(s[e.transactionId]=e)})),Object.keys(s).forEach((function(e){var r=s[e];a[e]||re(r,d,a),o[e]||ee(r,o)})),d)if(d.hasOwnProperty(c)){var p=d[c].missingSizes;a.hasOwnProperty(c)||(a[c]={}),a[c].hasOwnProperty("missingImps")||(a[c].missingImps=[],a[c].missingCount=0);for(var u=d[c].impression,l=0;l<p.length;l++){var m=te(e[0],u,p[l]);a[c].missingImps.push(m),a[c].missingCount++}}return Object.keys(a).length>0&&t.push.apply(t,O($(e,r,a,7.2))),Object.keys(o).length>0&&t.push.apply(t,O($(e,r,o,8.1))),t},interpretResponse:function interpretResponse(e,r){var t=[],n=null;if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return t;for(var a=e.body,o=a.seatbid,s=0;s<o.length;s++)if(o[s].hasOwnProperty("bid")){for(var d=o[s].bid,c=JSON.parse(r.data.r),p=0;p<d.length;p++){var u=Q(d[p].impid,c.imp,r.validBidRequests);n=J(d[p],a.cur,u),Object(i.deepAccess)(n,"mediaTypes.video.renderer")||"outstream"!==Object(i.deepAccess)(n,"mediaTypes.video.context")||(n.mediaTypes.video.renderer=ae(d[p].bidId)),t.push(n)}if(Object(i.deepAccess)(c,"ext.ixdiag.err")&&L.localStorageIsEnabled())try{L.removeDataFromLocalStorage(F)}catch(e){Object(i.logError)("ix can not clear ixdiag from localStorage.")}}return t},transformBidParams:function transformBidParams(e,r){return Object(i.convertTypes)({siteID:"number"},e)},getUserSyncs:function getUserSyncs(e,r){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};Object(m.registerBidder)(oe),window.pbjs.installedModules.push("ixBidAdapter")}},[562]),pbjsChunk([226],{572:function _(e,t,r){e.exports=r(573)},573:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return m}));var n=r(0),a=r(3),o=r(1),i=r(7),c=r(2);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s,d,g,l="kargo",p=[c.b,c.d],f=Object(i.b)(972,l),m={gvlid:972,code:l,isBidRequestValid:function isBidRequestValid(e){return!(!e||!e.params||!e.params.placementId)},buildRequests:function buildRequests(e,t){var r,o=a.b.getConfig("currency"),i=o&&o.adServerCurrency||"USD",c={},s={};Object(n._each)(e,(function(e){c[e.bidId]=e.params.placementId,s[e.bidId]=e.sizes})),e.length>0&&e[0].userId&&e[0].userId.tdid&&(r=e[0].userId.tdid);var d=u({},{sessionId:m._getSessionId(),requestCount:m._getRequestCount(),timeout:t.timeout,currency:i,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:c,bidSizes:s,prebidRawBidRequests:e},m._getAllMetadata(r,t.uspConsent,t.gdprConsent)),g=encodeURIComponent(JSON.stringify(d));return u({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(g),currency:i})},interpretResponse:function interpretResponse(e,t){var r=e.body,n=[];for(var a in r){var o=r[a],i=void 0;o.metadata&&o.metadata.landingPageDomain&&(i={clickUrl:o.metadata.landingPageDomain,advertiserDomains:[o.metadata.landingPageDomain]}),n.push({requestId:a,cpm:Number(o.cpm),width:o.width,height:o.height,ad:o.adm,ttl:300,creativeId:o.id,dealId:o.targetingCustom,netRevenue:!0,currency:t.currency,meta:i})}return n},getUserSyncs:function getUserSyncs(e,t,r,n){var a=[],o=m._generateRandomUuid(),i=m._getClientId(),c=r&&r.gdprApplies?1:0,u=r&&r.consentString?r.consentString:"";if("string"==typeof n&&4==n.length&&1==n[0]&&"Y"==n[2])return a;if(e.iframeEnabled&&o&&i)for(var s=0;s<5;s++)a.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}".replace("{UUID}",i).replace("{SEED}",o).replace("{INDEX}",s).replace("{GDPR}",c).replace("{GDPR_CONSENT}",u).replace("{US_PRIVACY}",n||"")});return a},supportedMediaTypes:p,_readCookie:function _readCookie(e){if(!f.cookiesAreEnabled())return null;for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},_getCrbFromCookie:function _getCrbFromCookie(){try{var e=JSON.parse(decodeURIComponent(m._readCookie("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage:function _getCrbFromLocalStorage(){try{return JSON.parse(atob(m._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb:function _getCrb(){var e=m._getCrbFromLocalStorage();return Object.keys(e).length?e:m._getCrbFromCookie()},_getKruxUserId:function _getKruxUserId(){return m._getLocalStorageSafely("kxkar_user")},_getKruxSegments:function _getKruxSegments(){return m._getLocalStorageSafely("kxkar_segs")},_getKrux:function _getKrux(){var e=m._getKruxSegments(),t=[];return e&&(t=e.split(",")),{userID:m._getKruxUserId(),segments:t}},_getLocalStorageSafely:function _getLocalStorageSafely(e){try{return f.getDataFromLocalStorage(e)}catch(e){return null}},_getUserIds:function _getUserIds(e,t,r){var n=m._getCrb(),a={kargoID:n.userId,clientID:n.clientId,crbIDs:n.syncIds||{},optOut:n.optOut,usp:t};try{r&&(a.gdpr={consent:r.consentString||"",applies:!!r.gdprApplies})}catch(e){}return e&&(a.tdID=e),a},_getClientId:function _getClientId(){return m._getCrb().clientId},_getAllMetadata:function _getAllMetadata(e,t,r){return{userIDs:m._getUserIds(e,t,r),krux:m._getKrux(),pageURL:window.location.href,rawCRB:m._readCookie("krg_crb"),rawCRBLocalStorage:m._getLocalStorageSafely("krg_crb")}},_getSessionId:function _getSessionId(){return s||(s=m._generateRandomUuid()),s},_getRequestCount:function _getRequestCount(){return d===window.location.pathname?++g:(d=window.location.pathname,g=0)},_generateRandomUuid:function _generateRandomUuid(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}};Object(o.registerBidder)(m),window.pbjs.installedModules.push("kargoBidAdapter")}},[572]),pbjsChunk([38],{712:function _(e,t,r){e.exports=r(713)},713:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.resetSyncedStatus=function(){T=0},t.resetWurlMap=function(){W={}},t.PrebidServer=K;var n=r(82),i=r(43),c=r(0),s=r(5),o=r.n(s),a=r(8),d=r(3),p=r(2),b=r(39),u=r(1),l=r(10),f=r.n(l),g=r(12),v=r.n(g),y=r(714),O=r(4),m=r(11),j=r.n(m);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,c=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(c.push(n.value),!t||c.length!==t);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e){return(E="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var P,k,_=d.b.getConfig,I=o.a.S2S.SRC,T=0,U={timeout:1e3,syncTimeout:1e3,maxBids:1,adapter:"prebidServer",adapterOptions:{},syncUrlModifier:{}};function B(e){if(e){var t=Array.isArray(e)?e:[e],r=[];return t.every((function(t,n,i){return function(e){["endpoint","syncEndpoint"].forEach((function(t){if(Object(c.isStr)(e[t])){var r=e[t];e[t]={p1Consent:r,noP1Consent:r}}!Object(c.isPlainObject)(e[t])||e[t].p1Consent&&e[t].noP1Consent||["p1Consent","noP1Consent"].forEach((function(r){e[t][r]||Object(c.logWarn)("s2sConfig.".concat(t,".").concat(r," not defined.  PBS request will be skipped in some P1 scenarios."))}))}))}(e),!1!==function(e){if(e.defaultVendor){var t=e.defaultVendor,r=Object.keys(e);if(!y.a[t])return Object(c.logError)("Incorrect or unavailable prebid server default vendor option: "+t),!1;Object.keys(y.a[t]).forEach((function(n){U[n]!==e[n]&&v()(r,n)||(e[n]=y.a[t][n])}))}return e.enabled="boolean"==typeof e.enabled&&e.enabled}(t)&&!1!==function(e){var t=Object.keys(e);if(["accountId","bidders","endpoint"].filter((function(e){return!v()(t,e)&&(Object(c.logError)(e+" missing in server to server config"),!0)})).length>0)return!1}(t)?(Array.isArray(t.bidders)&&(i[n].bidders=t.bidders.filter((function(e){return-1===r.indexOf(e)&&(r.push(e),!0)}))),!0):(Object(c.logWarn)("prebidServer: s2s config is disabled"),!1)}))?P=t:void 0}}function D(e,t){if(0!==e.length){var r=e.shift();r.no_cookie?function(e,t,r,n,i){i.syncUrlModifier&&"function"==typeof i.syncUrlModifier[r]&&(t=i.syncUrlModifier[r](e,t,r)),function(e,t,r,n,i){t?"image"===e||"redirect"===e?(Object(c.logMessage)('Invoking image pixel user sync for bidder: "'.concat(r,'"')),Object(c.triggerPixel)(t,n,i)):"iframe"===e?(Object(c.logMessage)('Invoking iframe user sync for bidder: "'.concat(r,'"')),Object(c.insertUserSyncIframe)(t,n,i)):(Object(c.logError)('User sync type "'.concat(e,'" not supported for bidder: "').concat(r,'"')),n()):(Object(c.logError)('No sync url for bidder "'.concat(r,'": ').concat(t)),n())}(e,t,r,n,i.syncTimeout)}(r.usersync.type,r.usersync.url,r.bidder,c.bind.call(D,null,e,t),t):D(e,t)}}d.b.setDefaults({s2sConfig:U}),_("s2sConfig",(function(e){return B(e.s2sConfig)}));var V={sponsoredBy:1,body:2,rating:3,likes:4,downloads:5,price:6,salePrice:7,phone:8,address:9,body2:10,cta:12},R=Object.keys(V),N={icon:1,image:3},q={img:1,js:2};[V,N,{impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4},q].forEach((function(e){Object.keys(e).forEach((function(t){e[e[t]]=t}))}));var M={},z={},W={},J=function J(e,t,r,n,i){var s=[],o={},p=t[0],u=new Set;if(r.forEach((function(e){for(var r=e.code,i=1;u.has(r);)i++,r="".concat(e.code,"-").concat(i);u.add(r);var l,f=Object(b.h)(Object(c.deepAccess)(e,"mediaTypes.native"));if(f)try{l=z[r]=Object.keys(f).reduce((function(e,t){var r=f[t];function n(e){return w({required:r.required?1:0},e?Object(c.cleanObj)(e):{})}switch(t){case"image":case"icon":var i=N[t],s=Object(c.cleanObj)({type:i,w:Object(c.deepAccess)(r,"sizes.0"),h:Object(c.deepAccess)(r,"sizes.1"),wmin:Object(c.deepAccess)(r,"aspect_ratios.0.min_width"),hmin:Object(c.deepAccess)(r,"aspect_ratios.0.min_height")});if(!(s.w&&s.h||s.hmin&&s.wmin))throw"invalid img sizes (must provide sizes or min_height & min_width if using aspect_ratios)";if(Array.isArray(r.aspect_ratios)){var o=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));o.length>0&&(s.ext={aspectratios:o})}e.push(n({img:s}));break;case"title":if(!r.len)throw"invalid title.len";e.push(n({title:{len:r.len}}));break;default:var a=V[t];a&&e.push(n({data:{type:a,len:r.len}}))}return e}),[])}catch(e){Object(c.logError)("error creating native request: "+String(e))}var g=Object(c.deepAccess)(e,"mediaTypes.video"),v=Object(c.deepAccess)(e,"mediaTypes.banner");e.bids.forEach((function(e){if(M["".concat(r).concat(e.bidder)]=e.bid_id,a.default.aliasRegistry[e.bidder]){var t=a.default.bidderRegistry[e.bidder];t&&!t.getSpec().skipPbsAliasing&&(o[e.bidder]=a.default.aliasRegistry[e.bidder])}}));var y={};if(v&&v.sizes){var O=Object(c.parseSizesInput)(v.sizes).map((function(e){var t=x(e.split("x"),2),r=t[0],n=t[1];return{w:parseInt(r,10),h:parseInt(n,10)}}));y.banner={format:O},v.pos&&(y.banner.pos=v.pos)}if(Object(c.isEmpty)(g)||("outstream"!==g.context||g.renderer||e.renderer?("instream"!==g.context||g.hasOwnProperty("placement")||(g.placement=1),y.video=Object.keys(g).filter((function(e){return"context"!==e})).reduce((function(e,t){return"playerSize"===t?(e.w=Object(c.deepAccess)(g,"".concat(t,".0.0")),e.h=Object(c.deepAccess)(g,"".concat(t,".0.1"))):e[t]=g[t],e}),{})):Object(c.logError)("Outstream bid without renderer cannot be sent to Prebid Server.")),l)try{y.native={request:JSON.stringify({context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}],assets:l}),ver:"1.2"}}catch(e){Object(c.logError)("error creating native request: "+String(e))}var m=e.bids.reduce((function(r,i){var c=a.default.bidderRegistry[i.bidder];return c&&c.getSpec().transformBidParams&&(i.params=c.getSpec().transformBidParams(i.params,!0,e,t)),r[i.bidder]=n.adapterOptions&&n.adapterOptions[i.bidder]?w({},i.params,n.adapterOptions[i.bidder]):i.params,r}),S({},Object(c.deepAccess)(e,"ortb2Imp.ext"))),h={id:r,ext:m,secure:n.secure},C=S({},Object(c.deepAccess)(e,"ortb2Imp.ext.data"));Object.keys(C).forEach((function(e){"pbadslot"===e?"string"==typeof C[e]&&C[e]?Object(c.deepSetValue)(h,"ext.data.pbadslot",C[e]):delete h.ext.data.pbadslot:"adserver"===e?["name","adslot"].forEach((function(e){var t=Object(c.deepAccess)(C,"adserver.".concat(e));"string"==typeof t&&t&&Object(c.deepSetValue)(h,"ext.data.adserver.".concat(e.toLowerCase()),t)})):Object(c.deepSetValue)(h,"ext.data.".concat(e),C[e])})),w(h,y);var A=j()(p.bids,(function(t){return t.adUnitCode===e.code&&t.storedAuctionResponse}));A&&Object(c.deepSetValue)(h,"ext.prebid.storedauctionresponse.id",A.storedAuctionResponse.toString());var E=j()(p.bids,(function(t){return t.adUnitCode===e.code&&"function"==typeof t.getFloor}));if(E){var P;try{P=E.getFloor({currency:d.b.getConfig("currency.adServerCurrency")||"USD"})}catch(e){Object(c.logError)("PBS: getFloor threw an error: ",e)}P&&P.currency&&!isNaN(parseFloat(P.floor))&&(h.bidfloor=parseFloat(P.floor),h.bidfloorcur=P.currency)}(h.banner||h.video||h.native)&&s.push(h)})),s.length){var l={id:p.auctionId,source:{tid:e.tid},tmax:n.timeout,imp:s,test:0,ext:{prebid:{auctiontimestamp:p.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}}}};l.ext.prebid=w(l.ext.prebid,{channel:{name:"pbjs",version:pbjs.version}}),_("debug")&&(l.ext.prebid=w(l.ext.prebid,{debug:!0})),n.extPrebid&&"object"===E(n.extPrebid)&&(l.ext.prebid=Object(c.mergeDeep)(l.ext.prebid,n.extPrebid));var f=d.b.getConfig("currency.adServerCurrency");f&&"string"==typeof f?l.cur=[f]:Array.isArray(f)&&f.length&&(l.cur=[f[0]]),function(e,t,r){e&&("object"===E(d.b.getConfig("app"))?(e.app=d.b.getConfig("app"),e.app.publisher={id:r}):(e.site={},Object(c.isPlainObject)(d.b.getConfig("site"))&&(e.site=d.b.getConfig("site")),Object(c.deepAccess)(e.site,"publisher.id")||Object(c.deepSetValue)(e.site,"publisher.id",r),e.site.page||(e.site.page=t)),"object"===E(d.b.getConfig("device"))&&(e.device=d.b.getConfig("device")),e.device||(e.device={}),e.device.w||(e.device.w=window.innerWidth),e.device.h||(e.device.h=window.innerHeight))}(l,t[0].refererInfo.referer,n.accountId);var g=Object(c.deepAccess)(t,"0.bids.0.schain");g&&(l.source.ext={schain:g}),Object(c.isEmpty)(o)||(l.ext.prebid.aliases=S(S({},l.ext.prebid.aliases),o));var y=Object(c.deepAccess)(t,"0.bids.0.userIdAsEids");Object(c.isArray)(y)&&y.length>0&&Object(c.deepSetValue)(l,"user.ext.eids",y),Object(c.isArray)(k)&&k.length>0&&(i&&Object(c.isArray)(i)&&k.forEach((function(e){e.bidders&&(e.bidders=e.bidders.filter((function(e){return v()(i,e)})))})),Object(c.deepSetValue)(l,"ext.prebid.data.eidpermissions",k));var O=d.b.getConfig("multibid"),m;if(O&&Object(c.deepSetValue)(l,"ext.prebid.multibid",O.reduce((function(e,t){var r={};return Object.keys(t).forEach((function(e){r[e.toLowerCase()]=t[e]})),e.push(r),e}),[])),t)p.gdprConsent&&("boolean"==typeof p.gdprConsent.gdprApplies&&(m=p.gdprConsent.gdprApplies?1:0),Object(c.deepSetValue)(l,"regs.ext.gdpr",m),Object(c.deepSetValue)(l,"user.ext.consent",p.gdprConsent.consentString),p.gdprConsent.addtlConsent&&"string"==typeof p.gdprConsent.addtlConsent&&Object(c.deepSetValue)(l,"user.ext.ConsentedProvidersSettings.consented_providers",p.gdprConsent.addtlConsent)),p.uspConsent&&Object(c.deepSetValue)(l,"regs.ext.us_privacy",p.uspConsent);!0===_("coppa")&&Object(c.deepSetValue)(l,"regs.coppa",1);var h=_("ortb2")||{};return Object(c.mergeDeep)(l,h),function(e){var t=d.b.getBidderConfig(),r=Object.keys(t).reduce((function(e,r){var n=t[r];if(n.ortb2){var i=Object(c.mergeDeep)({},n.ortb2);e.push({bidders:[r],config:{ortb2:i}})}return e}),[]);r.length&&Object(c.deepSetValue)(e,"ext.prebid.bidderconfig",r)}(l),l}Object(c.logError)("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},X=function X(e,t,r){var n=[];return[["errors","serverErrors"],["responsetimemillis","serverResponseTimeMs"]].forEach((function(r){return function(e,t,r,n){var i=Object(c.deepAccess)(t,"ext.".concat(r));i&&Object.keys(i).forEach((function(t){var r=j()(e,(function(e){return e.bidderCode===t}));r&&(r[n]=i[t])}))}(t,e,r[0],r[1])})),e.seatbid&&e.seatbid.forEach((function(s){(s.bid||[]).forEach((function(a){var d,b="".concat(a.impid).concat(s.seat);M[b]&&(d=Object(c.getBidRequest)(M[b],t));var u=a.price,l=0!==u?o.a.STATUS.GOOD:o.a.STATUS.NO_BID,f=Object(i.a)(l,d||{bidder:s.seat,src:I});f.cpm=u;var g=Object(c.deepAccess)(e,["ext","responsetimemillis",s.seat].join("."));d&&g&&(d.serverResponseTimeMs=g);var v,y,O,m=Object(c.deepAccess)(a,"ext.prebid.bidid");Object(c.isStr)(m)&&(f.pbsBidId=m),Object(c.isStr)(Object(c.deepAccess)(a,"ext.prebid.events.win"))&&(v=d.auctionId,y=f.adId,O=Object(c.deepAccess)(a,"ext.prebid.events.win"),[v,y].every(c.isStr)&&(W["".concat(v).concat(y)]=O));var j=Object(c.deepAccess)(a,"ext.prebid.targeting");if(Object(c.isPlainObject)(j)&&(Object(c.isStr)(Object(c.deepAccess)(a,"ext.prebid.events.win"))&&(j=Object(c.getDefinedParams)(j,Object.keys(j).filter((function(e){return-1===e.indexOf("hb_winurl")&&-1===e.indexOf("hb_bidid")})))),f.adserverTargeting=j),f.seatBidId=a.id,Object(c.deepAccess)(a,"ext.prebid.type")===p.d){f.mediaType=p.d;var h=d.sizes&&d.sizes[0];f.playerWidth=h[0],f.playerHeight=h[1],a.ext.prebid.cache&&"object"===E(a.ext.prebid.cache.vastXml)&&a.ext.prebid.cache.vastXml.cacheId&&a.ext.prebid.cache.vastXml.url?(f.videoCacheKey=a.ext.prebid.cache.vastXml.cacheId,f.vastUrl=a.ext.prebid.cache.vastXml.url):j&&j.hb_uuid&&j.hb_cache_host&&j.hb_cache_path&&(f.videoCacheKey=j.hb_uuid,f.vastUrl="https://".concat(j.hb_cache_host).concat(j.hb_cache_path,"?uuid=").concat(j.hb_uuid)),a.adm&&(f.vastXml=a.adm),!f.vastUrl&&a.nurl&&(f.vastUrl=a.nurl)}else if(Object(c.deepAccess)(a,"ext.prebid.type")===p.c){var S,x;f.mediaType=p.c,x="string"==typeof a.adm?f.adm=JSON.parse(a.adm):f.adm=a.adm;var A=(C(S={},q.img,x.imptrackers||[]),C(S,q.js,x.jstracker?[x.jstracker]:[]),S);if(x.eventtrackers&&x.eventtrackers.forEach((function(e){switch(e.method){case q.img:A[q.img].push(e.url);break;case q.js:A[q.js].push(e.url)}})),Object(c.isPlainObject)(x)&&Array.isArray(x.assets)){var w=z[a.impid];f.native=Object(c.cleanObj)(x.assets.reduce((function(e,t){var r=w[t.id];return Object(c.isPlainObject)(t.img)?e[r.img.type?N[r.img.type]:"image"]=Object(c.pick)(t.img,["url","w as width","h as height"]):Object(c.isPlainObject)(t.title)?e.title=t.title.text:Object(c.isPlainObject)(t.data)&&R.forEach((function(n){V[n]===r.data.type&&(e[n]=t.data.value)})),e}),Object(c.cleanObj)({clickUrl:x.link,clickTrackers:Object(c.deepAccess)(x,"link.clicktrackers"),impressionTrackers:A[q.img],javascriptTrackers:A[q.js]})))}else Object(c.logError)("prebid server native response contained no assets")}else a.adm&&a.nurl?(f.ad=a.adm,f.ad+=Object(c.createTrackPixelHtml)(decodeURIComponent(a.nurl))):a.adm?f.ad=a.adm:a.nurl&&(f.adUrl=a.nurl);f.width=a.w,f.height=a.h,a.dealid&&(f.dealId=a.dealid),f.requestId=d.bidId||d.bid_Id,f.creative_id=a.crid,f.creativeId=a.crid,a.burl&&(f.burl=a.burl),f.currency=e.cur?e.cur:"USD",f.meta={};var P=Object(c.deepAccess)(a,"ext.prebid.meta");P&&Object(c.isPlainObject)(P)&&(f.meta=Object(c.deepClone)(P)),a.adomain&&(f.meta.advertiserDomains=a.adomain);var k=r.defaultTtl||60;f.ttl=a.exp?a.exp:k,f.netRevenue=!a.netRevenue||a.netRevenue,n.push({adUnit:d.adUnitCode,bid:f})}))})),n};function F(e){var t,r,n=function(e,t){if([e,t].every(c.isStr))return W["".concat(e).concat(t)]}(e.auctionId,e.adId);Object(c.isStr)(n)&&(Object(c.logMessage)('Invoking image pixel for wurl on BID_WIN: "'.concat(n,'"')),Object(c.triggerPixel)(n),[t=e.auctionId,r=e.adId].every(c.isStr)&&(W["".concat(t).concat(r)]=void 0))}function H(e,t){return function(e){var t=!0;return e&&e.gdprApplies&&2===e.apiVersion&&(t=!(!0!==Object(c.deepAccess)(e,"vendorData.purpose.consents.1"))),t}(t)?e.p1Consent:e.noP1Consent}function L(e){var t,r;return Array.isArray(e)&&e.length>0&&(t=e[0].gdprConsent,r=e[0].uspConsent),{gdprConsent:t,uspConsent:r}}function K(){var e=new n.a("prebidServer");return e.callBids=function(e,t,r,n,i){var s=Object(c.deepClone)(e.ad_units),p=L(t),b=p.gdprConsent,l=p.uspConsent,g=s.filter((function(e){return e.mediaTypes&&(e.mediaTypes.native||e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.mediaTypes.video&&e.mediaTypes.video.playerSize)})),y=g.map((function(e){return e.bids.map((function(e){return e.bidder})).filter(c.uniques)})).reduce(c.flatten).filter(c.uniques);if(Array.isArray(P)){e.s2sConfig&&e.s2sConfig.syncEndpoint&&H(e.s2sConfig.syncEndpoint,b)&&function(e,t,r,n){if(P.length!==T){T++;var i={uuid:Object(c.generateUUID)(),bidders:e,account:n.accountId},s=n.userSyncLimit;Object(c.isNumber)(s)&&s>0&&(i.limit=s),t&&(i.gdpr=t.gdprApplies?1:0,!1!==t.gdprApplies&&(i.gdpr_consent=t.consentString)),r&&(i.us_privacy=r),"boolean"==typeof n.coopSync&&(i.coopSync=n.coopSync);var o=JSON.stringify(i);Object(O.a)(H(n.syncEndpoint,t),(function(e){try{D((e=JSON.parse(e)).bidder_status,n)}catch(e){Object(c.logError)(e)}}),o,{contentType:"text/plain",withCredentials:!0})}}(e.s2sConfig.bidders.map((function(e){return a.default.aliasRegistry[e]||e})).filter((function(e,t,r){return r.indexOf(e)===t})),b,l,e.s2sConfig);var m=J(e,t,g,e.s2sConfig,y),j=m&&JSON.stringify(m);Object(c.logInfo)("BidRequest: "+j);var h=H(e.s2sConfig.endpoint,b);m&&j&&h?i(h,{success:function success(i){return function(e,t,r,n,i,s){var p,b=L(r),l=b.gdprConsent,g=b.uspConsent;try{p=JSON.parse(e),X(p,r,s).forEach((function(e){var t=e.adUnit,i=e.bid;Object(u.isValid)(t,i,r)&&n(t,i)})),r.forEach((function(e){return f.a.emit(o.a.EVENTS.BIDDER_DONE,e)}))}catch(e){Object(c.logError)(e)}(!p||p.status&&v()(p.status,"Error"))&&Object(c.logError)("error parsing response: ",p.status),i(),function(e,t,r){e.forEach((function(e){var n=a.default.getBidAdapter(e);n&&n.registerSyncs&&d.b.runWithBidder(e,c.bind.call(n.registerSyncs,n,[],t,r))}))}(t,l,g)}(i,y,t,r,n,e.s2sConfig)},error:n},j,{contentType:"text/plain",withCredentials:!0}):Object(c.logError)("PBS request not made.  Check endpoints.")}},f.a.on(o.a.EVENTS.BID_WON,F),w(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:I})}Object(c.getPrebidInternal)().setEidPermissions=function(e){k=e},a.default.registerBidAdapter(new K,"prebidServer"),window.pbjs.installedModules.push("prebidServerBidAdapter")},714:function _(e,t,r){r.d(t,"a",(function(){return n}));var n={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}}}},[712]),pbjsChunk([163],{731:function _(e,r,t){e.exports=t(732)},732:function _(e,r,t){Object.defineProperty(r,"__esModule",{value:!0}),r.checkVideoPlacement=_,t.d(r,"spec",(function(){return X}));var a=t(0),i=t(1),n=t(2),s=t(3),o=t(13);function d(){return(d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var l="pubmatic",m="PubMatic: ",b="USD",g=void 0,f="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),h={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},y="number",v="string",O="boolean",E="array",I={mimes:E,minduration:y,maxduration:y,startdelay:y,playbackmethod:E,api:E,protocols:E,w:y,h:y,battr:E,linearity:y,placement:y,minbitrate:y,maxbitrate:y,skip:y},w={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},j=1,P=2,T=3,S=[{id:w.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:w.TITLE.ID,required:!0},{id:w.IMAGE.ID,required:!0}],D={1:"PMP",5:"PREF",6:"PMPG"},x=1,Y=2,k={bootstrapPlayer:function bootstrapPlayer(e){var r={code:e.adUnitCode};if(e.vastXml?r.vastXml=e.vastXml:e.vastUrl&&(r.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var t,i=k.getRendererId("pubmatic",e.rendererCode),n=document.getElementById(e.adUnitCode),s=0;s<window.bluebillywig.renderers.length;s++)if(window.bluebillywig.renderers[s]._id===i){t=window.bluebillywig.renderers[s];break}t?t.bootstrap(r,n):Object(a.logWarn)("".concat(m,": Couldn't find a renderer with ").concat(i))}else Object(a.logWarn)("".concat(m,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function newRenderer(e,r){var t=f.replace("$RENDERER",e),i=o.a.install({url:t,loaded:!1,adUnitCode:r});try{i.setRender(k.outstreamRender)}catch(e){Object(a.logWarn)("".concat(m,": Error tying to setRender on renderer"),e)}return i},outstreamRender:function outstreamRender(e){e.renderer.push((function(){k.bootstrapPlayer(e)}))},getRendererId:function getRendererId(e,r){return"".concat(e,"-").concat(r)}},R=[n.b,n.d,n.c],A=0,C=!1,z={},K={};function N(e,r){if(!Object(a.isStr)(r))return r&&Object(a.logWarn)("PubMatic: Ignoring param key: "+e+", expects string-value, found "+u(r)),g;switch(e){case"pmzoneid":return r.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(r)||g;case"yob":return parseInt(r)||g;default:return r}}function M(e){var r;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(r=e.params.adSlot,Object(a.isStr)(r)?r.replace(/^\s+/g,"").replace(/\s+$/g,""):(r&&Object(a.logWarn)("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var t=e.params.adSlot,i=t.split(":");if(t=i[0],2==i.length&&(e.params.adUnitIndex=i[1]),i=t.split("@"),e.params.adUnit=i[0],i.length>1){if(2!=(i=i[1].split("x")).length)return void Object(a.logWarn)("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(i[0],10),e.params.height=parseInt(i[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(n.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var s=0,o=[];s<e.mediaTypes.banner.sizes.length;s++)2===e.mediaTypes.banner.sizes[s].length&&o.push(e.mediaTypes.banner.sizes[s]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function U(e,r,t){var i,n="Ignoring param key: "+e+", expects "+t+", found "+u(r);switch(t){case O:i=a.isBoolean;break;case y:i=a.isNumber;break;case v:i=a.isStr;break;case E:i=a.isArray}return i(r)?r:(Object(a.logWarn)(m+n),g)}function q(e,r){var t=e.KEY;return{id:e.ID,required:r[t].required?1:0,data:{type:e.TYPE,len:r[t].len,ext:r[t].ext}}}function L(e){var r={assets:[]};for(var t in e){if(e.hasOwnProperty(t)){var i={};if(!(r.assets&&r.assets.length>0&&r.assets.hasOwnProperty(t)))switch(t){case w.TITLE.KEY:e[t].len||e[t].length?i={id:w.TITLE.ID,required:e[t].required?1:0,title:{len:e[t].len||e[t].length,ext:e[t].ext}}:Object(a.logWarn)("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case w.IMAGE.KEY:e[t].sizes&&e[t].sizes.length>0?i={id:w.IMAGE.ID,required:e[t].required?1:0,img:{type:3,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:g),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:g),wmin:e[t].wmin||e[t].minimumWidth||(e[t].minsizes?e[t].minsizes[0]:g),hmin:e[t].hmin||e[t].minimumHeight||(e[t].minsizes?e[t].minsizes[1]:g),mimes:e[t].mimes,ext:e[t].ext}}:Object(a.logWarn)("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case w.ICON.KEY:e[t].sizes&&e[t].sizes.length>0?i={id:w.ICON.ID,required:e[t].required?1:0,img:{type:1,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:g),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:g)}}:Object(a.logWarn)("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case w.VIDEO.KEY:i={id:w.VIDEO.ID,required:e[t].required?1:0,video:{minduration:e[t].minduration,maxduration:e[t].maxduration,protocols:e[t].protocols,mimes:e[t].mimes,ext:e[t].ext}};break;case w.EXT.KEY:i={id:w.EXT.ID,required:e[t].required?1:0};break;case w.LOGO.KEY:i={id:w.LOGO.ID,required:e[t].required?1:0,img:{type:2,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:g),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:g)}};break;case w.SPONSOREDBY.KEY:case w.BODY.KEY:case w.RATING.KEY:case w.LIKES.KEY:case w.DOWNLOADS.KEY:case w.PRICE.KEY:case w.SALEPRICE.KEY:case w.PHONE.KEY:case w.ADDRESS.KEY:case w.DESC2.KEY:case w.DISPLAYURL.KEY:case w.CTA.KEY:i=q(K[t],e)}}i&&i.id&&(r.assets[r.assets.length]=i)}var n=S.length,s=0;return S.forEach((function(e){for(var t=r.assets.length,a=0;a<t;a++)if(e.id==r.assets[a].id){s++;break}})),C=n!=s,r}function W(e){var r,t=e.mediaTypes.banner.sizes,i=[];if(t!==g&&Object(a.isArray)(t)){if(r={},e.params.width||e.params.height)r.w=e.params.width,r.h=e.params.height;else{if(0===t.length)return r=g,Object(a.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r;r.w=parseInt(t[0][0],10),r.h=parseInt(t[0][1],10),t=t.splice(1,t.length-1)}t.length>0&&(i=[],t.forEach((function(e){e.length>1&&i.push({w:e[0],h:e[1]})})),i.length>0&&(r.format=i)),r.pos=0,r.topframe=Object(a.inIframe)()?0:1}else Object(a.logWarn)("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),r=g;return r}function _(e,r){Object(a.deepAccess)(e,"placement")||Object(a.logWarn)("Video.Placement param missing for "+r)}function V(e){var r,t=Object(a.mergeDeep)(Object(a.deepAccess)(e.mediaTypes,"video"),e.params.video);if(t!==g){for(var i in r={},_(t,e.adUnitCode),I)t.hasOwnProperty(i)&&(r[i]=U(i,t[i],I[i]));Object(a.isArray)(e.mediaTypes.video.playerSize[0])?(r.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),r.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Object(a.isNumber)(e.mediaTypes.video.playerSize[0])&&(r.w=parseInt(e.mediaTypes.video.playerSize[0],10),r.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else r=g,Object(a.logWarn)("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return r}function B(e,r,t){var a=r.rtd&&r.rtd.jwplayer&&r.rtd.jwplayer.targeting||void 0,i="";if(void 0!==a&&""!==a&&a.hasOwnProperty("segments")){var n,s=a.segments.length;i+="jw-id="+a.content.id;for(var o=0;o<s;o++)i+="|jw-"+a.segments[o]+"=1";t?void 0===e.dctr||0==e.dctr.length?e.dctr=i:e.dctr+="|"+i:(n=e.ext)&&void 0===n.key_val?n.key_val=i:n.key_val+="|"+i}}function G(e,r){var t,i,o={},d={},l=e.hasOwnProperty("sizes")?e.sizes:[],f="",h=[];if(function(e,r){r.params.deals&&(Object(a.isArray)(r.params.deals)?r.params.deals.forEach((function(r){Object(a.isStr)(r)&&r.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:r})):Object(a.logWarn)("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+r)})):Object(a.logWarn)("PubMatic: Error: bid.params.deals should be an array of strings."))}(o={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:N("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:N("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?N("currency",e.params.currency):b},e),function(e,r){var t,i="";if(r.params.dctr)if(i=r.params.dctr,Object(a.isStr)(i)&&i.length>0){var n=i.split("|");i="",n.forEach((function(e){i+=e.length>0?e.trim()+"|":""})),t=i.length,"|"===i.substring(t,t-1)&&(i=i.substring(0,t-1)),e.ext.key_val=i.trim()}else Object(a.logWarn)("PubMatic: Ignoring param : dctr with value : "+i+", expects string-value, found empty or non-string value")}(o,e),B(o,e),e.hasOwnProperty("mediaTypes"))for(f in e.mediaTypes)switch(f){case n.b:(t=W(e))!==g&&(o.banner=t);break;case n.c:d.request=JSON.stringify(L(e.nativeParams)),C?Object(a.logWarn)("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):o.native=d;break;case n.d:(i=V(e))!==g&&(o.video=i)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:Object(a.inIframe)()?0:1},Object(a.isArray)(l)&&l.length>1&&((l=l.splice(1,l.length-1)).forEach((function(e){h.push({w:e[0],h:e[1]})})),t.format=h),o.banner=t;return function(e,r){var t=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){p(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(a.deepAccess)(r,"ortb2Imp.ext.data"));Object.keys(t).forEach((function(r){"pbadslot"===r?"string"==typeof t[r]&&t[r]&&Object(a.deepSetValue)(e,"ext.data.pbadslot",t[r]):"adserver"===r?["name","adslot"].forEach((function(r){var i=Object(a.deepAccess)(t,"adserver.".concat(r));"string"==typeof i&&i&&(Object(a.deepSetValue)(e,"ext.data.adserver.".concat(r.toLowerCase()),i),"adslot"===r&&Object(a.deepSetValue)(e,"ext.dfp_ad_unit_code",i))})):Object(a.deepSetValue)(e,"ext.data.".concat(r),t[r])}))}(o,e),function(e,r){var t=-1;"function"!=typeof r.getFloor||s.b.getConfig("pubmatic.disableFloors")||[n.b,n.d,n.c].forEach((function(i){if(e.hasOwnProperty(i)){var n=[];"banner"===i&&(e[i].w&&e[i].h&&n.push([e[i].w,e[i].h]),Object(a.isArray)(e[i].format)&&e[i].format.forEach((function(e){return n.push([e.w,e.h])}))),0===n.length&&n.push("*"),n.forEach((function(n){var s=r.getFloor({currency:e.bidfloorcur,mediaType:i,size:n});if(Object(a.logInfo)(m,"floor from floor module returned for mediatype:",i," and size:",n," is: currency",s.currency,"floor",s.floor),"object"===u(s)&&s.currency===e.bidfloorcur&&!isNaN(parseInt(s.floor))){var o=parseFloat(s.floor);Object(a.logInfo)(m,"floor from floor module:",o,"previous floor value",t,"Min:",Math.min(o,t)),t=-1===t?o:Math.min(o,t),Object(a.logInfo)(m,"new floor value:",t)}}))}})),e.bidfloor&&(Object(a.logInfo)(m,"floor from floor module:",t,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(t,e.bidfloor)),t=Math.max(t,e.bidfloor)),e.bidfloor=!isNaN(t)&&t>0?t:g,Object(a.logInfo)(m,"new impObj.bidfloor value:",e.bidfloor)}(o,e),o.hasOwnProperty(n.b)||o.hasOwnProperty(n.c)||o.hasOwnProperty(n.d)?o:g}function F(e,r){var t=null,i=Object(a.deepAccess)(e,"0.userId.flocId");if(i&&i.id)switch(r){case 2:t={id:"FLOC",name:"FLOC",ext:{ver:i.version},segment:[{id:i.id,name:"chrome.com",value:i.id.toString()}]};break;case 1:default:t={source:"chrome.com",uids:[{atype:1,id:i.id,ext:{ver:i.version}}]}}return t}function J(e){return!0===Object(a.isArray)(e)&&e.length>0}Object(a._each)(w,(function(e){z[e.ID]=e.KEY})),Object(a._each)(w,(function(e){K[e.KEY]=e}));var X={code:l,gvlid:76,supportedMediaTypes:[n.b,n.d,n.c],aliases:[{code:"groupm",gvlid:98}],isBidRequestValid:function isBidRequestValid(e){if(e&&e.params){if(!Object(a.isStr)(e.params.publisherId))return Object(a.logWarn)("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(n.d)){var r=Object(a.deepAccess)(e.mediaTypes,"video.mimes"),t=Object(a.deepAccess)(e,"params.video.mimes");if(!1===J(r)&&!1===J(t))return Object(a.logWarn)("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[n.d].hasOwnProperty("context"))return Object(a.logError)("".concat(m,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[n.d].context&&!Object(a.isStr)(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[n.d].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(n.b)||e.mediaTypes.hasOwnProperty(n.c)?(delete e.mediaTypes[n.d],Object(a.logWarn)("".concat(m,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):(Object(a.logError)("".concat(m,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function buildRequests(e,r){var t;r&&r.refererInfo&&(t=r.refererInfo);var i,o=function(e){return{pageURL:e&&e.referer?e.referer:window.location.href,refURL:window.document.referrer}}(t),c=function(e){return{id:""+(new Date).getTime(),at:1,cur:[b],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(o),p="",l=[],m=[];if(e.forEach((function(e){if((i=Object(a.deepClone)(e)).params.adSlot=i.params.adSlot||"",M(i),i.params.hasOwnProperty("video"));else if(!(i.hasOwnProperty("mediaTypes")&&i.mediaTypes.hasOwnProperty(n.c)||0!==i.params.width||0!==i.params.height))return void Object(a.logWarn)("PubMatic: Skipping the non-standard adslot: ",i.params.adSlot,JSON.stringify(i));o.pubId=o.pubId||i.params.publisherId,(o=function(e,r){var t,i,n;for(t in r.kadpageurl||(r.kadpageurl=r.pageURL),h)h.hasOwnProperty(t)&&(i=e[t])&&("object"===u(n=h[t])&&(i=n.f(i,r)),Object(a.isStr)(i)?r[t]=i:Object(a.logWarn)("PubMatic: Ignoring param : "+t+" with value : "+h[t]+", expects string-value, found "+u(i)));return r}(i.params,o)).transactionId=i.transactionId,""===p?p=i.params.currency||g:i.params.hasOwnProperty("currency")&&p!==i.params.currency&&Object(a.logWarn)("PubMatic: Currency specifier ignored. Only one currency permitted."),i.params.currency=p,i.params.hasOwnProperty("dctr")&&Object(a.isStr)(i.params.dctr)&&l.push(i.params.dctr),i.params.hasOwnProperty("bcat")&&Object(a.isArray)(i.params.bcat)&&(m=m.concat(i.params.bcat));var r=G(i);r&&c.imp.push(r)})),0!=c.imp.length){var f,y;c.site.publisher.id=o.pubId.trim(),A=o.pubId.trim(),c.ext.wrapper={},c.ext.wrapper.profile=parseInt(o.profId)||g,c.ext.wrapper.version=parseInt(o.verId)||g,c.ext.wrapper.wiid=o.wiid||r.auctionId,c.ext.wrapper.wv="prebid_prebid_6.5.0",c.ext.wrapper.transactionId=o.transactionId,c.ext.wrapper.wp="pbjs",c.user.gender=o.gender?o.gender.trim():g,c.user.geo={},c.user.geo.lat=N("lat",o.lat),c.user.geo.lon=N("lon",o.lon),c.user.yob=N("yob",o.yob),c.device.geo=c.user.geo,c.site.page=o.kadpageurl.trim()||c.site.page.trim(),c.site.domain=(f=c.site.page,(y=document.createElement("a")).href=f,y.hostname),"object"===u(s.b.getConfig("content"))&&(c.site.content=s.b.getConfig("content")),"object"===u(s.b.getConfig("device"))&&(c.device=d(c.device,s.b.getConfig("device"))),Object(a.deepSetValue)(c,"source.tid",o.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(c.test=1),e[0].schain&&Object(a.deepSetValue)(c,"source.ext.schain",e[0].schain),r&&r.gdprConsent&&(Object(a.deepSetValue)(c,"user.ext.consent",r.gdprConsent.consentString),Object(a.deepSetValue)(c,"regs.ext.gdpr",r.gdprConsent.gdprApplies?1:0)),r&&r.uspConsent&&Object(a.deepSetValue)(c,"regs.ext.us_privacy",r.uspConsent),!0===s.b.getConfig("coppa")&&Object(a.deepSetValue)(c,"regs.coppa",1),function(e,r){var t=Object(a.deepAccess)(r,"0.userIdAsEids"),i=F(r,1);i&&(t||(t=[]),t.push(i)),Object(a.isArray)(t)&&t.length>0&&Object(a.deepSetValue)(e,"user.eids",t)}(c,e),function(e,r){(r=r.filter((function(e){return"string"==typeof e||(Object(a.logWarn)("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,r,t){if(e.length>3)return t.indexOf(e)===r;Object(a.logWarn)("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Object(a.logWarn)("PubMatic: bcat: Selected: ",r),e.bcat=r)}(c,m),function(e,r){var t=F(r,2);t&&(e.user||(e.user={}),e.user.data||(e.user.data=[]),e.user.data.push(t))}(c,e);var v=s.b.getConfig("ortb2")||{};return v.site&&Object(a.mergeDeep)(c,{site:v.site}),v.user&&Object(a.mergeDeep)(c,{user:v.user}),"object"===u(s.b.getConfig("app"))&&(c.app=s.b.getConfig("app"),c.app.publisher=c.site.publisher,c.app.ext=c.site.ext||g,"object"!==u(c.app.content)&&(c.app.content=c.site.content||g),delete c.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(c),bidderRequest:r}}},interpretResponse:function interpretResponse(e,r){var t=[],i=b,s=JSON.parse(r.data),o=s.site&&s.site.ref?s.site.ref:"";try{e.body&&e.body.seatbid&&Object(a.isArray)(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((function(e){e.bid&&Object(a.isArray)(e.bid)&&e.bid.forEach((function(d){var c={requestId:d.impid,cpm:(parseFloat(d.price)||0).toFixed(2),width:d.w,height:d.h,creativeId:d.crid||d.id,dealId:d.dealid,currency:i,netRevenue:!0,ttl:300,referrer:o,ad:d.adm,pm_seat:e.seat||null,pm_dspid:d.ext&&d.ext.dspid?d.ext.dspid:null,partnerImpId:d.id||""};s.imp&&s.imp.length>0&&s.imp.forEach((function(e){if(d.impid===e.id)switch(function(e,r){if(e.ext&&null!=e.ext.bidtype)r.mediaType=R[e.ext.bidtype];else{Object(a.logInfo)("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var t=e.adm,i="",s=new RegExp(/VAST\s+version/);if(t.indexOf('span class="PubAPIAd"')>=0)r.mediaType=n.b;else if(s.test(t))r.mediaType=n.d;else try{(i=JSON.parse(t.replace(/\\/g,"")))&&i.native&&(r.mediaType=n.c)}catch(e){Object(a.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+t)}}}(d,c),c.mediaType){case n.b:break;case n.d:c.width=d.hasOwnProperty("w")?d.w:e.video.w,c.height=d.hasOwnProperty("h")?d.h:e.video.h,c.vastXml=d.adm,function(e,r){var t,a,i;if(r.bidderRequest&&r.bidderRequest.bids){for(var s=0;s<r.bidderRequest.bids.length;s++)r.bidderRequest.bids[s].bidId===e.requestId&&(t=r.bidderRequest.bids[s].params,a=r.bidderRequest.bids[s].mediaTypes[n.d].context,i=r.bidderRequest.bids[s].adUnitCode);a&&"outstream"===a&&t&&t.outstreamAU&&i&&(e.rendererCode=t.outstreamAU,e.renderer=k.newRenderer(e.rendererCode,i))}}(c,r);break;case n.c:!function(e,r){if(r.native={},e.hasOwnProperty("adm")){var t="";try{t=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Object(a.logWarn)("PubMatic: Error: Cannot parse native reponse for ad response: "+r.adm)}if(t&&t.native&&t.native.assets&&t.native.assets.length>0){r.mediaType=n.c;for(var i=0,s=t.native.assets.length;i<s;i++)switch(t.native.assets[i].id){case w.TITLE.ID:r.native.title=t.native.assets[i].title&&t.native.assets[i].title.text;break;case w.IMAGE.ID:r.native.image={url:t.native.assets[i].img&&t.native.assets[i].img.url,height:t.native.assets[i].img&&t.native.assets[i].img.h,width:t.native.assets[i].img&&t.native.assets[i].img.w};break;case w.ICON.ID:r.native.icon={url:t.native.assets[i].img&&t.native.assets[i].img.url,height:t.native.assets[i].img&&t.native.assets[i].img.h,width:t.native.assets[i].img&&t.native.assets[i].img.w};break;case w.SPONSOREDBY.ID:case w.BODY.ID:case w.LIKES.ID:case w.DOWNLOADS.ID:case w.PRICE:case w.SALEPRICE.ID:case w.PHONE.ID:case w.ADDRESS.ID:case w.DESC2.ID:case w.CTA.ID:case w.RATING.ID:case w.DISPLAYURL.ID:r.native[z[t.native.assets[i].id]]=t.native.assets[i].data&&t.native.assets[i].data.value}r.native.clickUrl=t.native.link&&t.native.link.url,r.native.clickTrackers=t.native.link&&t.native.link.clicktrackers||[],r.native.impressionTrackers=t.native.imptrackers||[],r.native.jstracker=t.native.jstracker||[],r.width||(r.width=0),r.height||(r.height=0)}}}(d,c)}})),d.ext&&d.ext.deal_channel&&(c.dealChannel=D[d.ext.deal_channel]||null),c.meta={},d.ext&&d.ext.dspid&&(c.meta.networkId=d.ext.dspid),d.ext&&d.ext.advid&&(c.meta.buyerId=d.ext.advid),d.adomain&&d.adomain.length>0&&(c.meta.advertiserDomains=d.adomain,c.meta.clickUrl=d.adomain[0]),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),t.push(c)}))})))}catch(e){Object(a.logError)(e)}return t},getUserSyncs:function getUserSyncs(e,r,t,a){var i=""+A;return t&&(i+="&gdpr="+(t.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(t.consentString||"")),a&&(i+="&us_privacy="+encodeURIComponent(a)),!0===s.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function transformBidParams(e,r,t,i){return B(e,t.bids[0],!0),Object(a.convertTypes)({publisherId:"string",adSlot:"string"},e)}};Object(i.registerBidder)(X),window.pbjs.installedModules.push("pubmaticBidAdapter")}},[731]),pbjsChunk([142],{793:function _(e,t,r){e.exports=r(794)},794:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return j})),t.hasVideoMediaType=I,r.d(t,"resetRubiConf",(function(){return k})),t.masSizeOrdering=R,t.determineRubiconVideoSizeId=z,t.getPriceGranularity=T,t.hasValidVideoParams=E,t.hasValidSupplyChainParams=U,t.encodeParam=P,t.resetUserSync=function(){N=!1};var i=r(0),n=r(1),o=r(3),a=r(2),c=r(11),s=r.n(c),d=r(13),u=r(14);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,o=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(i=r.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){c=!0,n=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var y="https://video-outstream.rubiconproject.com/apex-2.0.0.js",x={};o.b.getConfig("rubicon",(function(e){Object(i.mergeDeep)(x,e.rubicon)}));var h={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640",562:"300x431",564:"320x431",566:"320x300",568:"300x150",570:"300x125",572:"250x350",574:"620x891",576:"610x877",578:"980x552",580:"505x656"};Object(i._each)(h,(function(e,t){return h[e]=t}));var j={code:"rubicon",gvlid:52,supportedMediaTypes:[a.b,a.d],isBidRequestValid:function isBidRequestValid(e){if("object"!==v(e.params))return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return Object(i.logError)("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n=w(e,!0);return!!n&&("video"!==n||E(e))},buildRequests:function buildRequests(e,t){var r=[],n=e.filter((function(e){return"video"===w(e)})).map((function(e){e.startTime=(new Date).getTime();var r={id:e.transactionId,test:o.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:o.b.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:g({},e.bidder,e.params),video:Object(i.deepAccess)(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===x.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:T(o.b)},bidders:{rubicon:{integration:x.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(r.ext.prebid.aliases=g({},e.bidder,"rubicon"));var n,c,s=Object(u.a)().installedModules;if(!s||s.length&&-1===s.indexOf("rubiconAnalyticsAdapter")||Object(i.deepSetValue)(r,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||x.disableFloors)n=parseFloat(Object(i.deepAccess)(e,"params.floor"));else{var d;try{d=e.getFloor({currency:"USD",mediaType:"video",size:A(e,"video")})}catch(e){Object(i.logError)("Rubicon: getFloor threw an error: ",e)}n="object"!==v(d)||"USD"!==d.currency||isNaN(parseInt(d.floor))?void 0:parseFloat(d.floor)}isNaN(n)||(r.imp[0].bidfloor=n),r.imp[0].ext[e.bidder].video.size_id=z(e),function(e,t,r){e&&("object"===v(o.b.getConfig("app"))?e.app=o.b.getConfig("app"):e.site={page:O(t,r)},"object"===v(o.b.getConfig("device"))&&(e.device=o.b.getConfig("device")),t.params.video.language&&["site","device"].forEach((function(r){e[r]&&("site"===r?e[r].content=b({language:t.params.video.language},e[r].content):e[r]=b({language:t.params.video.language},e[r]))})))}(r,e,t),function(e,t){"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var r=A(t,"video");e.imp[0].video.w=r[0],e.imp[0].video.h=r[1]}(r,e),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(c=t.gdprConsent.gdprApplies?1:0),Object(i.deepSetValue)(r,"regs.ext.gdpr",c),Object(i.deepSetValue)(r,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&Object(i.deepSetValue)(r,"regs.ext.us_privacy",t.uspConsent);var p=Object(i.deepAccess)(t,"bids.0.userIdAsEids");p&&p.length&&Object(i.deepSetValue)(r,"user.ext.eids",p);var l=o.b.getConfig("user.id");l&&Object(i.deepSetValue)(r,"user.id",l),!0===o.b.getConfig("coppa")&&Object(i.deepSetValue)(r,"regs.coppa",1),e.schain&&U(e.schain)&&Object(i.deepSetValue)(r,"source.ext.schain",e.schain);var m=o.b.getConfig("multibid");return m&&Object(i.deepSetValue)(r,"ext.prebid.multibid",m.reduce((function(e,t){var r={};return Object.keys(t).forEach((function(e){r[e.toLowerCase()]=t[e]})),e.push(r),e}),[])),S(e,a.d,r),e.storedAuctionResponse&&Object(i.deepSetValue)(r.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),Object(i.deepSetValue)(r.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),{method:"POST",url:"https://".concat(x.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:r,bidRequest:e}}));if(!0!==x.singleRequest)r=n.concat(e.filter((function(e){return"banner"===w(e)})).map((function(e){var r=j.createSlotParams(e,t);return{method:"GET",url:"https://".concat(x.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:j.getOrderedParams(r).reduce((function(e,t){var n=r[t];return Object(i.isStr)(n)&&""!==n||Object(i.isNumber)(n)?"".concat(e).concat(P(t,n),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})));else{var c=e.filter((function(e){return"banner"===w(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{});r=n.concat(Object.keys(c).reduce((function(e,r){var n,o;return(n=c[r],o=10,n.map((function(e,t){return t%o==0?n.slice(t,t+o):null})).filter((function(e){return e}))).forEach((function(r){var n=j.combineSlotUrlParams(r.map((function(e){return j.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(x.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:j.getOrderedParams(n).reduce((function(e,t){var r=n[t];return Object(i.isStr)(r)&&""!==r||Object(i.isNumber)(r)?"".concat(e).concat(P(t,r),"&"):e}),"")+"slots=".concat(r.length,"&rand=").concat(Math.random()),bidRequest:r})})),e}),[]))}return r},getOrderedParams:function getOrderedParams(e){var t=/^tg_v/,r=/^tg_i/,i=/^eid_|^tpid_/,n=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return i.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return n.concat(Object.keys(e).filter((function(e){return-1===n.indexOf(e)})))},combineSlotUrlParams:function combineSlotUrlParams(e){if(1===e.length)return e[0];var t=e.reduce((function(t,r,i){return Object.keys(r).forEach((function(n){t.hasOwnProperty(n)||(t[n]=new Array(e.length)),t[n].splice(i,1,r[n])})),t}),{}),r=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var i=t[e].join(";"),n=i.match(r);t[e]=n?n[1]:i})),t},createSlotParams:function createSlotParams(e,t){e.startTime=(new Date).getTime();var r=e.params,n=A(e,"banner"),c=m(r.latLong||[],2),d=c[0],u=c[1],p={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:n[0],alt_size_ids:n.slice(1).join(",")||void 0,rp_floor:(r.floor=parseFloat(r.floor))>=.01?r.floor:void 0,rp_secure:"1",tk_flint:"".concat(x.int_type||"pbjs_lite","_v6.5.0"),"x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(d))?void 0:parseFloat(d).toFixed(4),"p_geo.longitude":isNaN(parseFloat(u))?void 0:parseFloat(u).toFixed(4),"tg_fl.eid":e.code,rf:O(e,t)};if("function"==typeof e.getFloor&&!x.disableFloors){var l;try{l=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){Object(i.logError)("Rubicon: getFloor threw an error: ",e)}p.rp_hard_floor="object"!==v(l)||"USD"!==l.currency||isNaN(parseInt(l.floor))?void 0:l.floor}var b={1:"atf",3:"btf"}[Object(i.deepAccess)(e,"mediaTypes.banner.pos")]||"";p.p_pos="atf"===r.position||"btf"===r.position?r.position:b;var f=o.b.getConfig("user.id");return f&&(p.ppuid=f),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{if("adserver.org"===e.source?(p.tpid_tdid=e.uids[0].id,p["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(p["tpid_liveintent.com"]=e.uids[0].id,p["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(p["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?p.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?p["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):p["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),!p.ppuid){var t=s()(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype}));t&&t.id&&(p.ppuid=t.id)}}catch(t){Object(i.logWarn)("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(p.gdpr=Number(t.gdprConsent.gdprApplies)),p.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(p.us_privacy=encodeURIComponent(t.uspConsent)),p.rp_maxbids=t.bidLimit||1,S(e,a.b,p),!0===o.b.getConfig("coppa")&&(p.coppa=1),e.schain&&U(e.schain)&&(p.rp_schain=j.serializeSupplyChain(e.schain)),p},serializeSupplyChain:function serializeSupplyChain(e){if(!U(e))return"";var t=e.ver,r=e.complete,i=e.nodes;return"".concat(t,",").concat(r,"!").concat(j.serializeSupplyChainNodes(i))},serializeSupplyChainNodes:function serializeSupplyChainNodes(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function interpretResponse(e,t){var r=t.bidRequest;if(!(e=e.body)||"object"!==v(e))return[];if(e.seatbid){var n=Object(i.deepAccess)(e,"ext.errors.rubicon");Array.isArray(n)&&n.length>0&&Object(i.logWarn)("Rubicon: Error in video response");var o=[];return e.seatbid.forEach((function(t){(t.bid||[]).forEach((function(n){var c={requestId:r.bidId,currency:e.cur||"USD",creativeId:n.crid,cpm:n.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==x.netRevenue,width:n.w||Object(i.deepAccess)(r,"mediaTypes.video.w")||Object(i.deepAccess)(r,"params.video.playerWidth"),height:n.h||Object(i.deepAccess)(r,"mediaTypes.video.h")||Object(i.deepAccess)(r,"params.video.playerHeight")};n.id&&(c.seatBidId=n.id),n.dealid&&(c.dealId=n.dealid),n.adomain&&Object(i.deepSetValue)(c,"meta.advertiserDomains",Array.isArray(n.adomain)?n.adomain:[n.adomain]),Object(i.deepAccess)(n,"ext.bidder.rp.advid")&&Object(i.deepSetValue)(c,"meta.advertiserId",n.ext.bidder.rp.advid);var s=Object(i.deepAccess)(e,"ext.responsetimemillis.rubicon");if(r&&s&&(r.serverResponseTimeMs=s),Object(i.deepAccess)(n,"ext.prebid.type")===a.d){c.mediaType=a.d,Object(i.deepSetValue)(c,"meta.mediaType",a.d);var u=Object(i.deepAccess)(n,"ext.prebid.targeting");u&&"object"===v(u)&&(c.adserverTargeting=u),n.ext.prebid.cache&&"object"===v(n.ext.prebid.cache.vastXml)&&n.ext.prebid.cache.vastXml.cacheId&&n.ext.prebid.cache.vastXml.url?(c.videoCacheKey=n.ext.prebid.cache.vastXml.cacheId,c.vastUrl=n.ext.prebid.cache.vastXml.url):u&&u.hb_uuid&&u.hb_cache_host&&u.hb_cache_path&&(c.videoCacheKey=u.hb_uuid,c.vastUrl="https://".concat(u.hb_cache_host).concat(u.hb_cache_path,"?uuid=").concat(u.hb_uuid)),n.adm&&(c.vastXml=n.adm),n.nurl&&(c.vastUrl=n.nurl),!c.vastUrl&&n.nurl&&(c.vastUrl=n.nurl),"outstream"===Object(i.deepAccess)(r,"mediaTypes.video.context").toLowerCase()&&(c.renderer=function(e){var t=d.a.install({id:e.adId,url:x.rendererUrl||y,config:x.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(_)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return t}(c))}else Object(i.logWarn)("Rubicon: video response received non-video media type");o.push(c)}))})),o}var c,s=e.ads,u=0;return"object"!==v(r)||Array.isArray(r)||"video"!==w(r)||"object"!==v(s)||(s=s[r.adUnitCode]),!Array.isArray(s)||s.length<1?[]:s.reduce((function(t,n,o){if(n.impression_id&&c===n.impression_id?u++:c=n.impression_id,"ok"!==n.status)return t;var s,d,p=Array.isArray(r)?r[o-u]:r;if(p&&"object"===v(p)){var l={requestId:p.bidId,currency:"USD",creativeId:n.creative_id||"".concat(n.network||"","-").concat(n.advertiser||""),cpm:n.cpm||0,dealId:n.deal,ttl:300,netRevenue:!1!==x.netRevenue,rubicon:{advertiserId:n.advertiser,networkId:n.network},meta:{advertiserId:n.advertiser,networkId:n.network,mediaType:a.b}};if(n.creative_type&&(l.mediaType=n.creative_type),n.adomain&&(l.meta.advertiserDomains=Array.isArray(n.adomain)?n.adomain:[n.adomain]),n.creative_type===a.d)l.width=p.params.video.playerWidth,l.height=p.params.video.playerHeight,l.vastUrl=n.creative_depot_url,l.impression_id=n.impression_id,l.videoCacheKey=n.impression_id;else{l.ad=(s=n.script,d=n.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(d,"'>\n<script type='text/javascript'>").concat(s,"<\/script>\n</div>\n</body>\n</html>"));var b=m(h[n.size_id].split("x").map((function(e){return Number(e)})),2);l.width=b[0],l.height=b[1]}l.rubiconTargeting=(Array.isArray(n.targeting)?n.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:p.adUnitCode}),t.push(l)}else Object(i.logError)("Rubicon: bidRequest undefined at index position:".concat(o),r,e);return t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function getUserSyncs(e,t,r,n){if(!N&&e.iframeEnabled){var o={};return r&&("boolean"==typeof r.gdprApplies&&(o.gdpr=Number(r.gdprApplies)),"string"==typeof r.consentString&&(o.gdpr_consent=r.consentString)),n&&(o.us_privacy=encodeURIComponent(n)),o=Object.keys(o).length?"?".concat(Object(i.formatQS)(o)):"",N=!0,{type:"iframe",url:"https://".concat(x.syncHost||"eus",".rubiconproject.com/usync.html")+o}}},transformBidParams:function transformBidParams(e,t){return Object(i.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},e)}};function O(e,t){var r=o.b.getConfig("pageUrl");return e.params.referrer?r=e.params.referrer:r||(r=t.refererInfo.referer),e.params.secure?r.replace(/^http:/i,"https:"):r}function _(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),function(e){var t=e.querySelector("script[id^='sas_script']"),r=t&&t.nextSibling;r&&"iframe"===r.localName&&r.style.setProperty("display","none")}(r);var i=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:"#".concat(e.adUnitCode),align:i.align||"center",position:i.position||"append"},closeButton:i.closeButton||!1,label:i.label||void 0,collapse:i.collapse||!0})}))}function A(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(Object(i.deepAccess)(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&e.sizes.length>0&&Array.isArray(e.sizes[0])&&e.sizes[0].length>1&&(n=e.sizes[0]),n}var o=[];return Array.isArray(r.sizes)?o=r.sizes:void 0!==Object(i.deepAccess)(e,"mediaTypes.banner.sizes")?o=C(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&e.sizes.length>0?o=C(e.sizes):Object(i.logWarn)("Rubicon: no sizes are setup or found"),R(o)}function S(e,t,r){var n={user:{ext:{data:l({},e.params.visitor)}},site:{ext:{data:l({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=Object(i.isArray)(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var c=Object(i.mergeDeep)({},o.b.getConfig("ortb2")||{},n),s=Object(i.deepAccess)(e.ortb2Imp,"ext.data")||{},d=Object(i.deepAccess)(e,"ortb2Imp.ext.gpid"),u={user:[4],site:[1,2,5,6]},p={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"},b=function b(e,t,r){if("data"===t&&Array.isArray(e))return e.filter((function(e){return e.segment&&Object(i.deepAccess)(e,"ext.segtax")&&u[r]&&-1!==u[r].indexOf(Object(i.deepAccess)(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(t.length>0)return t.toString()})).toString();if("object"!==v(e)||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter((function(e){if("object"!==v(e)&&void 0!==e)return e.toString();Object(i.logWarn)("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}else Object(i.logWarn)("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")},m=function m(e,t,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=b(e,i,t),a=p[i]&&n?"".concat(p[i]):"data"===i?"".concat(p[t],"iab"):"".concat(p[t]).concat(i);r[a]=r[a]?r[a].concat(",",o):o};t===a.b?(["site","user"].forEach((function(e){Object.keys(c[e]).forEach((function(t){"site"===e&&"content"===t&&c[e][t].data?m(c[e][t].data,e,"data"):"ext"!==t?m(c[e][t],e,t):c[e][t].data&&Object.keys(c[e].ext.data).forEach((function(t){m(c[e].ext.data[t],e,t,!1)}))}))})),Object.keys(s).forEach((function(e){"adserver"!==e?m(s[e],"site",e):"gam"===s[e].name&&m(s[e].adslot,name,e)})),d&&(r.p_gpid=d),r["tg_i.pbadslot"]&&delete r["tg_i.dfp_ad_unit_code"]):(Object.keys(s).length&&Object(i.mergeDeep)(r.imp[0].ext,{data:s}),d&&(r.imp[0].ext.gpid=d),Object(i.mergeDeep)(r,c))}function C(e){return Object(i.parseSizesInput)(e).reduce((function(e,t){var r=parseInt(h[t],10);return r&&e.push(r),e}),[])}function I(e){return"object"===v(Object(i.deepAccess)(e,"params.video"))&&void 0!==Object(i.deepAccess)(e,"mediaTypes.".concat(a.d))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return I(e)?-1===["outstream","instream"].indexOf(Object(i.deepAccess)(e,"mediaTypes.".concat(a.d,".context")))?void(t&&Object(i.logError)("Rubicon: mediaTypes.video.context must be outstream or instream")):A(e,"video").length<2?void(t&&Object(i.logError)("Rubicon: could not determine the playerSize of the video")):(t&&Object(i.logMessage)("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===A(e,"banner").length?void(t&&Object(i.logError)("Rubicon: could not determine the sizes for banner request")):(t&&Object(i.logMessage)("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}var k=function k(){return x={}};function R(e){var t=[15,2,9];return e.sort((function(e,r){var i=t.indexOf(e),n=t.indexOf(r);return i>-1||n>-1?-1===i?1:-1===n?-1:i-n:e-r}))}function z(e){var t=parseInt(Object(i.deepAccess)(e,"params.video.size_id"));return isNaN(t)?"outstream"===Object(i.deepAccess)(e,"mediaTypes.".concat(a.d,".context"))?203:201:t}function T(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function E(e){var t=!0,r=Object.prototype.toString.call([]),n={mimes:r,protocols:r,linearity:Object.prototype.toString.call(0),api:r};return Object.keys(n).forEach((function(r){Object.prototype.toString.call(Object(i.deepAccess)(e,"mediaTypes.video."+r))!==n[r]&&(t=!1,Object(i.logError)("Rubicon: mediaTypes.video."+r+" is required and must be of type: "+n[r]))})),t}function U(e){var t=!1,r=["asi","sid","hp"];return e.nodes?((t=e.nodes.reduce((function(e,t){return e?r.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||Object(i.logError)("Rubicon: required schain params missing"),t):t}function P(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var N=!1;Object(n.registerBidder)(j),window.pbjs.installedModules.push("rubiconBidAdapter")}},[793]),pbjsChunk([23],{15:function _(e,t,r){t.b=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))if("pubProvidedId"===r)t=t.concat(e.pubProvidedId);else{var n=i(e[r],r);n&&t.push(n)}return t},t.a=function(e){var t=[];return e.filter((function(e){return Object(n.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(r){Object(n.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(n.deepAccess)(o,r+".source")&&t.push({source:o[r].source,bidders:e.config.bidders})}))})),t};var n=r(0),o={intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function getUidExt(){return{rtiPartner:"TDID"}}},id5id:{getValue:function getValue(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function getUidExt(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function getValue(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function getUidExt(e){var t=Object(n.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function getValue(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function getEidExt(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function getValue(e){return e.id},getUidExt:function getUidExt(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function getValue(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function getValue(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1}};function i(e,t){var r=o[t];if(r&&e){var i={};i.source=r.source;var a=Object(n.isFn)(r.getValue)?r.getValue(e):e;if(Object(n.isStr)(a)){var c={id:a,atype:r.atype};if(Object(n.isFn)(r.getUidExt)){var u=r.getUidExt(e);u&&(c.ext=u)}if(i.uids=[c],Object(n.isFn)(r.getEidExt)){var d=r.getEidExt(e);d&&(i.ext=d)}return i}}return null}},811:function _(e,t,r){e.exports=r(812)},812:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"sharethroughInternal",(function(){return b})),r.d(t,"sharethroughAdapterSpec",(function(){return g}));var n=r(0),o=r(1),i=r(3),a=r(2),c=r(15);function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f="sharethrough",m="https://btlr.sharethrough.com/universal/v1?supply_id=".concat("WYu2BXv1"),b={getProtocol:function getProtocol(){return window.location.protocol}},g={code:f,supportedMediaTypes:[a.d,a.b],isBidRequestValid:function isBidRequestValid(e){return!!e.params.pkey&&e.bidder===f},buildRequests:function buildRequests(e,t){var r=i.b.getConfig("bidderTimeout"),o=b.getProtocol().indexOf("http")<0||b.getProtocol().indexOf("https")>-1,a={id:Object(n.generateUUID)(),at:1,cur:["USD"],tmax:r,site:{domain:window.location.hostname,page:window.location.href,ref:t.refererInfo&&t.refererInfo.referer||null},user:{ext:{eids:I(e[0])}},device:{ua:navigator.userAgent,language:navigator.language,js:1,dnt:"1"===navigator.doNotTrack?1:0,h:window.screen.height,w:window.screen.width},regs:{coppa:!0===i.b.getConfig("coppa")?1:0,ext:{}},source:{ext:{version:"6.5.0",str:"4.0.1",schain:e[0].schain}},bcat:e[0].params.bcat||[],badv:e[0].params.badv||[],test:0};if(t.gdprConsent){var c=!0===t.gdprConsent.gdprApplies;a.regs.ext.gdpr=c?1:0,c&&(a.user.ext.consent=t.gdprConsent.consentString)}return t.uspConsent&&(a.regs.ext.us_privacy=t.uspConsent),e.map((function(e){var t={},r=Object(n.deepAccess)(e,"ortb2Imp.ext.data.pbadslot");if(r&&(t.ext={gpid:r}),e.mediaTypes&&e.mediaTypes.video&&"outstream"===e.mediaTypes.video.context)return null;if(e.mediaTypes&&e.mediaTypes.video){var i=e.mediaTypes.video,a=640,c=360;if(i.playerSize&&i.playerSize[0]&&i.playerSize[1]){var u=l(i.playerSize,2);a=u[0],c=u[1]}t.video={pos:j(i.pos,0),topframe:Object(n.inIframe)()?0:1,skip:j(i.skip,0),linearity:j(i.linearity,1),minduration:j(i.minduration,5),maxduration:j(i.maxduration,60),playbackmethod:i.playbackmethod||[2],api:v(i),mimes:i.mimes||["video/mp4"],protocols:h(i),w:a,h:c,startdelay:j(i.startdelay,0),skipmin:j(i.skipmin,0),skipafter:j(i.skipafter,0)},i.placement&&(t.video.placement=i.placement),i.delivery&&(t.video.delivery=i.delivery),i.companiontype&&(t.video.companiontype=i.companiontype),i.companionad&&(t.video.companionad=i.companionad)}else t.banner={pos:Object(n.deepAccess)(e,"mediaTypes.banner.pos",0),topframe:Object(n.inIframe)()?0:1,format:e.sizes.map((function(e){return{w:+e[0],h:+e[1]}}))};return s({id:e.bidId,tagid:String(e.params.pkey),secure:o?1:0,bidfloor:O(e)},t)})).filter((function(e){return!!e})).map((function(e){return{method:"POST",url:m,data:s(s({},a),{},{imp:[e]})}}))},interpretResponse:function interpretResponse(e,t){var r=e.body;return r&&r.seatbid&&0!==r.seatbid.length&&r.seatbid[0].bid&&0!==r.seatbid[0].bid.length?r.seatbid[0].bid.map((function(e){var n={requestId:e.impid,width:+e.w,height:+e.h,cpm:+e.price,creativeId:e.crid,dealId:e.dealid||null,mediaType:t.data.imp[0].video?a.d:a.b,currency:r.cur||"USD",netRevenue:!0,ttl:360,ad:e.adm,nurl:e.nurl,meta:{advertiserDomains:e.adomain||[]}};return n.mediaType===a.d&&(n.ttl=3600,n.vastXml=e.adm),n})):[]},getUserSyncs:function getUserSyncs(e,t,r,n){var o=n?"&us_privacy=".concat(n):"",i=[];return e.pixelEnabled&&t.length>0&&t[0].body&&t[0].body.cookieSyncUrls&&t[0].body.cookieSyncUrls.forEach((function(e){i.push({type:"image",url:e+o})})),i},onTimeout:function onTimeout(e){},onBidWon:function onBidWon(e){},onSetTargeting:function onSetTargeting(e){}};function v(e){var t=e.api;return t&&Array.isArray(t)&&t.length>0?t:[2]}function h(e){var t=e.protocols;return t&&Array.isArray(t)&&t.length>0?t:[2,3,5,6,7,8]}function O(e){var t=null;if("function"==typeof e.getFloor){var r=e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.video?"video":"banner",size:e.sizes.map((function(e){return{w:e[0],h:e[1]}}))});"object"!==u(r)||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor))}return null!==t?t:e.params.floor}function I(e){var t=Object(c.b)(Object(n.deepAccess)(e,"userId"))||[],r=Object(n.deepAccess)(e,"userId.flocId");return r&&r.id&&r.version&&t.push({source:"chrome.com",uids:[{id:r.id,atype:1,ext:{ver:r.version}}]}),t}function j(e,t){return null==e?t:e}Object(o.registerBidder)(g),window.pbjs.installedModules.push("sharethroughBidAdapter")}},[811]),pbjsChunk([109],{883:function _(e,t,r){e.exports=r(884)},884:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"tripleliftAdapterSpec",(function(){return m}));var n=r(0),i=r(2),o=r(1),u=r(3);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e){return(a="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=!0,b=null,m={gvlid:28,code:"triplelift",supportedMediaTypes:[i.b,i.d],isBidRequestValid:function isBidRequestValid(e){return void 0!==e.params.inventoryCode},buildRequests:function buildRequests(e,t){var r="https://tlx.3lift.com/header/auction?",i=function(e){var t={},r=e[0].schain,i=function(){var e={},t={},r={},i=u.b.getLegacyFpd(u.b.getConfig("ortb2"))||{},o=c({},i.context),a=c({},i.user);return O(t,o),O(r,a),Object(n.isEmpty)(t)||(e.context=t),Object(n.isEmpty)(r)||(e.user=r),e}();t.imp=e.map((function(e,t){var r={id:t,tagid:e.params.inventoryCode,floor:v(e)};return g(e)?r.video=function(e){var t=d(d({},e.params.video),e.mediaTypes.video);return t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1]),"instream"===t.context&&(t.placement=1),delete t.playerSize,t}(e):e.mediaTypes.banner&&(r.banner={format:h(e.sizes)}),Object(n.isEmpty)(e.ortb2Imp)||(r.fpd=function(e){var t={},r={};return O(r,e.ext),Object(n.isEmpty)(r)||(t.context=r),t}(e.ortb2Imp)),r}));var o=[].concat(l(j(a=[e[0]],"tdid","adserver.org","TDID")),l(function(e){return j(e,"idl_env","liveramp.com","idl")}([e[0]])),l(function(e){return j(e,"criteoId","criteo.com","criteoId")}([e[0]])),l(function(e){return j(e,"pubcid","pubcid.org","pubcid")}([e[0]]))),a;o.length>0&&(t.user={ext:{eids:o}});var p=function(e,t){var r={};return Object(n.isEmpty)(e)||(r.schain=d({},e)),Object(n.isEmpty)(t)||(r.fpd=d({},t)),r}(r,i);return Object(n.isEmpty)(p)||(t.ext=p),t}(e);if(r=Object(n.tryAppendQueryString)(r,"lib","prebid"),r=Object(n.tryAppendQueryString)(r,"v","6.5.0"),t&&t.refererInfo){var o=t.refererInfo.referer;r=Object(n.tryAppendQueryString)(r,"referrer",o)}return t&&t.timeout&&(r=Object(n.tryAppendQueryString)(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(y=t.gdprConsent.gdprApplies,r=Object(n.tryAppendQueryString)(r,"gdpr",y.toString())),void 0!==t.gdprConsent.consentString&&(b=t.gdprConsent.consentString,r=Object(n.tryAppendQueryString)(r,"cmp_cs",b))),t&&t.uspConsent&&(r=Object(n.tryAppendQueryString)(r,"us_privacy",t.uspConsent)),!0===u.b.getConfig("coppa")&&(r=Object(n.tryAppendQueryString)(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),Object(n.logMessage)("tlCall request built: "+r),{method:"POST",url:r,data:i,bidderRequest:t}},interpretResponse:function interpretResponse(e,t){var r=t.bidderRequest;return(e.body.bids||[]).map((function(e){return function(e,t){var r={},n=t.width||1,i=t.height||1,o=t.deal_id||"",u=t.crid||"",c=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(r={requestId:c.bidId,cpm:t.cpm,width:n,height:i,netRevenue:!0,ad:t.ad,creativeId:u,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},g(c)&&(r.vastXml=t.ad,r.mediaType="video",r.ttl=3600),t.advertiser_name&&(r.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(r.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(r.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(r.meta.mediaType="native")),r}(r,e)}))},getUserSyncs:function getUserSyncs(e,t,r,i){var o=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(o){var u="https://eb2.3lift.com/sync?";return"image"===o&&(u=Object(n.tryAppendQueryString)(u,"px",1),u=Object(n.tryAppendQueryString)(u,"src","prebid")),null!==b&&(u=Object(n.tryAppendQueryString)(u,"gdpr",y),u=Object(n.tryAppendQueryString)(u,"cmp_cs",b)),i&&(u=Object(n.tryAppendQueryString)(u,"us_privacy",i)),[{type:o,url:u}]}}};function g(e){return!!e.mediaTypes.video&&!!e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase()}function v(e){var t=null;if("function"==typeof e.getFloor){var r=e.getFloor({currency:"USD",mediaType:g(e)?"video":"banner",size:"*"});"object"!==a(r)||"USD"!==r.currency||isNaN(parseFloat(r.floor))||(t=parseFloat(r.floor))}return null!==t?t:e.params.floor}function O(e,t){Object(n.isEmpty)(t)||Object.keys(t).forEach((function(r){null!=t[r]&&(e[r]=t[r])}))}function j(e,t,r,n){return e.map(function(e){return function(t){return t&&t.userId&&t.userId[e]}}(t)).filter(S(t)).map(function(e,t){return function(r){return{source:e,uids:[{id:r.id?r.id:r,ext:{rtiPartner:t}}]}}}(r,n))}var S=function S(e){return function(t,r,i){var o=!!t&&(Object(n.isStr)(t)?!!t:Object(n.isPlainObject)(t)&&!Object(n.isArray)(t)&&!Object(n.isEmpty)(t)&&t.id&&Object(n.isStr)(t.id)&&!!t.id);return o||void 0===i[0]||Object(n.logWarn)("Triplelift: invalid ".concat(e," userId format")),o}};function h(e){return e.filter(A).map((function(e){return{w:e[0],h:e[1]}}))}function A(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}Object(o.registerBidder)(m),window.pbjs.installedModules.push("tripleliftBidAdapter")}},[883]),pbjsChunk([107],{887:function _(e,t,r){e.exports=r(888)},888:function _(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",(function(){return S}));var n=r(0),i=r(1),o=r(13),a=r(2),s=r(3);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f="Bid from response has no auid parameter - ",m="Bid from response has no adm parameter - ",b="Array of bid objects is empty",y="Seatbid array from response has empty item",g="Response is empty",v="Response has empty seatbid array",h="Seatbid from response has no array of bid objects - ",S={code:"trustx",supportedMediaTypes:[a.b,a.d],isBidRequestValid:function isBidRequestValid(e){return!!e.params.uid},buildRequests:function buildRequests(e,t){if(!e.length)return null;var r=null,i=null,o=null,c=null,p=null,f=null,m=null,b=null,y=null,g=t||{},v=g.bidderRequestId,h=g.auctionId,S=g.gdprConsent,j=g.uspConsent,x=g.timeout,w=g.refererInfo,O=w?encodeURIComponent(w.referer):"",I=[],E={};e.forEach((function(e){v||(v=e.bidderRequestId),h||(h=e.auctionId),p||(p=e.schain),f||(f=e.userId),m||(m=e.userIdAsEids);var t=e.params,s=t.uid,l=t.keywords,b=e.mediaTypes,y=e.bidId,g=e.adUnitCode,S=e.rtd,j=e.ortb2Imp;E[y]=e;var x=function(e,t){var r=e.video?"video":"banner",n=t.params.bidFloor||0;if("function"==typeof t.getFloor){var i=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map((function(e){var t=d(e,2);return{w:t[0],h:t[1]}}))});"object"!==u(i)||"USD"!==i.currency||isNaN(parseFloat(i.floor))||(n=Math.max(n,parseFloat(i.floor)))}return n}(b||{},e);if(S){var w=S.jwplayer&&S.jwplayer.targeting;w&&(!i&&w.segments&&(i=w.segments),!c&&w.content&&(c=w.content));var A=S.p_standard&&S.p_standard.targeting;!o&&A&&A.segments&&(o=A.segments)}var O={id:y&&y.toString(),tagid:s.toString(),ext:{divid:g&&g.toString()}};if(j&&j.ext&&j.ext.data&&(O.ext.data=j.ext.data,O.ext.data.adserver&&O.ext.data.adserver.adslot?O.ext.gpid=O.ext.data.adserver.adslot.toString():O.ext.gpid=j.ext.data.pbadslot&&j.ext.data.pbadslot.toString()),Object(n.isEmpty)(l)||(r||(r=l),O.ext.bidder={keywords:l}),x&&(O.bidfloor=x),!b||b[a.b]){var R=function(e,t){var r=t.sizes||e.sizes;if(r&&r.length){var i=r.map((function(e){return Object(n.parseGPTSingleSizeArrayToRtbSize)(e)})),o=Object(n.parseGPTSingleSizeArrayToRtbSize)(r[0]);return i.length&&(o.format=i),o}}(e,b?b[a.b]:{});R&&(O.banner=R)}if(b&&b[a.d]){var T=function(e,t){var r=t.playerSize,i=t.mimes,o=t.durationRangeSec,a=t.protocols,s=(r||e.sizes||[])[0];if(s){var d=Object(n.parseGPTSingleSizeArrayToRtbSize)(s);return i&&(d.mimes=i),o&&2===o.length&&(d.minduration=o[0],d.maxduration=o[1]),a&&a.length&&(d.protocols=a),d}}(e,b[a.d]);T&&(O.video=T)}(O.banner||O.video)&&I.push(O)}));var R={tid:h&&h.toString(),ext:{wrapper:"Prebid_js",wrapper_version:"6.5.0"}};p&&(R.ext.schain=p);var T=s.b.getConfig("bidderTimeout")||x,k=x?Math.min(T,x):T,_={id:v&&v.toString(),site:{page:O},tmax:k,source:R,imp:I};c&&(_.site.content=c);var z=[];A("iow_labs_pub_data","jwpseg",i,z),A("permutive","p_standard",o,z,"permutive.com"),z.length&&(b={data:z}),S&&S.consentString&&(y={consent:S.consentString}),m&&m.length&&((y=y||{}).eids=l(m)),y&&Object.keys(y).length&&((b=b||{}).ext=y),b&&(_.user=b);var C=Object(n.deepAccess)(s.b.getConfig("ortb2.user"),"keywords")||null,N=Object(n.deepAccess)(s.b.getConfig("ortb2.site"),"keywords")||null;return C&&((r=r||{}).user=r.user||{},r.user.ortb2=[{name:"keywords",keywords:C.split(",")}]),N&&((r=r||{}).site=r.site||{},r.site.ortb2=[{name:"keywords",keywords:N.split(",")}]),r&&(r=function(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(n)if("site"===r||"user"===r){var i={};Object.keys(n).forEach((function(e){if(Array.isArray(n[e])){var t=[];n[e].forEach((function(e){if("object"===u(e)&&e.name){var r={name:e.name,segments:[]};Object.keys(e).forEach((function(t){Array.isArray(e[t])&&e[t].forEach((function(e){e&&("string"==typeof e?r.segments.push({name:t,value:e}):"segments"===t&&"string"==typeof e.name&&"string"==typeof e.value&&r.segments.push(e))}))})),r.segments.length&&t.push(r)}})),t.length&&(i[e]=t)}})),t[r]=i}else t[r]=n})),Object.keys(t).length&&t}(r))&&(_.ext={keywords:r}),S&&S.gdprApplies&&(_.regs={ext:{gdpr:S.gdprApplies?1:0}}),j&&(_.regs||(_.regs={ext:{}}),_.regs.ext.us_privacy=j),{method:"POST",url:"https://grid.bidswitch.net/hbjson?sp=trustx",data:JSON.stringify(_),bidsMap:E}},interpretResponse:function interpretResponse(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a;e=e&&e.body;var i,a=[];return e?e.seatbid&&!e.seatbid.length&&(i=v):i=g,!i&&e.seatbid&&e.seatbid.forEach((function(e){x(j(e),t,a,r)})),i&&Object(n.logError)(i),a},getUserSyncs:function getUserSyncs(e,t,r,n){if(e.pixelEnabled){var i=[];return r&&("boolean"==typeof r.gdprApplies&&i.push("gdpr=".concat(Number(r.gdprApplies))),"string"==typeof r.consentString&&i.push("gdpr_consent=".concat(r.consentString))),n&&i.push("us_privacy=".concat(n)),{type:"image",url:"https://x.bidswitch.net/sync?ssp=themediagrid"+i.join("&")}}}};function j(e){return e?e.bid?e.bid[0]||Object(n.logError)(b):Object(n.logError)(h+JSON.stringify(e)):Object(n.logError)(y),e&&e.bid&&e.bid[0]}function x(e,t,r,i){if(e){var o;if(e.auid||(o=f+JSON.stringify(e)),e.adm||e.nurl){var s=t.bidsMap[e.impid];if(!o&&s){var d={requestId:s.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!1,ttl:360,dealId:e.dealid,meta:{advertiserDomains:e.adomain?e.adomain:[]}};"video"===e.content_type?(e.adm?(d.vastXml=e.adm,d.adResponse={content:d.vastXml}):e.nurl&&(d.vastUrl=e.nurl),d.mediaType=a.d,s.renderer||s.mediaTypes&&s.mediaTypes.video&&"outstream"!==s.mediaTypes.video.context||(d.renderer=function(e,t,r){var i=r.install({id:t.id,url:t.url,loaded:!1});try{i.setRender(w)}catch(e){Object(n.logWarn)("Prebid Error calling setRender on renderer",e)}return i}(0,{id:s.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"},i))):(d.ad=e.adm,d.mediaType=a.b),r.push(d)}}else o=m+JSON.stringify(e);o&&Object(n.logError)(o)}}function w(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}function A(e,t,r,n,i){if(r&&r.length)n.push({name:e,segment:r.map((function(e){return e&&(e.id||e)})).filter((function(e){return e&&("string"==typeof e||"number"==typeof e)})).map((function(e){return{name:t,value:e.toString()}}))});else if(i){var o=s.b.getConfig("ortb2.user.data"),a=null;o&&o.some((function(e){var t=e.name,r=e.segment;if(t===i)return a=r,!0})),a&&a.length&&n.push({name:e,segment:a.map((function(e){return e&&(e.id||e)})).filter((function(e){return e&&("string"==typeof e||"number"==typeof e)})).map((function(e){return{name:t,value:e.toString()}}))})}}Object(i.registerBidder)(S),window.pbjs.installedModules.push("trustxBidAdapter")}},[887]),pbjsChunk([12],{15:function _(e,t,n){t.b=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n))if("pubProvidedId"===n)t=t.concat(e.pubProvidedId);else{var o=a(e[n],n);o&&t.push(o)}return t},t.a=function(e){var t=[];return e.filter((function(e){return Object(o.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){Object(o.deepAccess)(e,"config.bidders")&&Array.isArray(e.config.bidders)&&Object(o.deepAccess)(r,n+".source")&&t.push({source:r[n].source,bidders:e.config.bidders})}))})),t};var o=n(0),r={intentIqId:{source:"intentiq.com",atype:1},naveggId:{source:"navegg.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function getUidExt(){return{rtiPartner:"TDID"}}},id5id:{getValue:function getValue(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function getUidExt(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function getValue(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function getUidExt(e){var t=Object(o.pick)(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function getValue(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function getEidExt(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function getValue(e){return e.id},getUidExt:function getUidExt(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function getValue(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function getValue(e){return e.id}},dapId:{source:"akamai.com",atype:1},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1},publinkId:{source:"epsilon.com",atype:3},kpuid:{source:"kpuid.com",atype:3},imuid:{source:"intimatemerger.com",atype:1},connectId:{source:"yahoo.com",atype:3},qid:{source:"adquery.io",atype:1}};function a(e,t){var n=r[t];if(n&&e){var a={};a.source=n.source;var i=Object(o.isFn)(n.getValue)?n.getValue(e):e;if(Object(o.isStr)(i)){var c={id:i,atype:n.atype};if(Object(o.isFn)(n.getUidExt)){var u=n.getUidExt(e);u&&(c.ext=u)}if(a.uids=[c],Object(o.isFn)(n.getEidExt)){var s=n.getEidExt(e);s&&(a.ext=s)}return a}}return null}},905:function _(e,t,n){e.exports=n(906)},906:function _(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PBJS_USER_ID_OPTOUT_NAME",(function(){return C})),n.d(t,"coreStorage",(function(){return P})),n.d(t,"syncDelay",(function(){return I})),n.d(t,"auctionDelay",(function(){return k})),t.setSubmoduleRegistry=function(e){L=e},t.setStoredValue=N,t.setStoredConsentData=R,t.findRootDomain=H,t.requestBidsHook=K,n.d(t,"validateGdprEnforcement",(function(){return Z})),t.attachIdSystem=oe,t.init=re;var o=n(11),r=n.n(o),a=n(3),i=n(10),c=n.n(i),u=n(14),s=n(8),d=n(5),l=n.n(d),f=n(9),g=n(15),b=n(7),p=n(0),m=n(12),y=n.n(m);function O(e,t){var _n3="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!_n3){if(Array.isArray(e)||(_n3=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){_n3&&(e=_n3);var o=0,r=function r(){};return{s:r,n:function n(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function e(_e4){throw _e4},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function s(){_n3=_n3.call(e)},n:function n(){var e=_n3.next();return i=e.done,e},e:function e(_e5){c=!0,a=_e5},f:function f(){try{i||null==_n3.return||_n3.return()}finally{if(c)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var j,h,I,k,w,D="User ID",S="cookie",E="html5",x="_pbjs_userid_consent_data",A=30,C="_pbjs_id_optout",P=Object(b.a)("userid"),U=[],_=!1,T=[],V=[],L=[];function N(e,t){var n=e.config.storage,o="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var r=Object(p.isPlainObject)(t)?JSON.stringify(t):t,a=new Date(Date.now()+864e5*n.expires).toUTCString();n.type===S?(P.setCookie(n.name,r,a,"Lax",o),"number"==typeof n.refreshInSeconds&&P.setCookie("".concat(n.name,"_last"),(new Date).toUTCString(),a,"Lax",o)):n.type===E&&(P.setDataInLocalStorage("".concat(n.name,"_exp"),a),P.setDataInLocalStorage(n.name,encodeURIComponent(r)),"number"==typeof n.refreshInSeconds&&P.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString()))}catch(e){Object(p.logError)(e)}}function q(e){var t=Object(p.getPrebidInternal)().setEidPermissions;"function"==typeof t&&Object(p.isArray)(e)&&t(Object(g.a)(e))}function F(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=n?"".concat(e.name,"_").concat(n):e.name;try{if(e.type===S)t=P.getCookie(o);else if(e.type===E){var r=P.getDataFromLocalStorage("".concat(e.name,"_exp"));""===r?t=P.getDataFromLocalStorage(o):r&&new Date(r).getTime()-Date.now()>0&&(t=decodeURIComponent(P.getDataFromLocalStorage(o)))}"string"==typeof t&&"{"===t.trim().charAt(0)&&(t=JSON.parse(t))}catch(e){Object(p.logError)(e)}return t}function M(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),Object(p.cyrb53Hash)(JSON.stringify(t))}function R(e){try{var t=new Date(Date.now()+2592e6).toUTCString();P.setCookie(x,M(e),t,"Lax")}catch(e){Object(p.logError)(e)}}function G(){try{return P.getCookie(x)}catch(e){Object(p.logError)(e)}}function J(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return!1;if(1===e.apiVersion&&!1===Object(p.deepAccess)(e,"vendorData.purposeConsents.1"))return!1;if(2===e.apiVersion&&!1===Object(p.deepAccess)(e,"vendorData.purpose.consents.1"))return!1}return!0}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!P.cookiesAreEnabled())return e;var t,n,o=e.split(".");if(2==o.length)return e;var r=-2,a="_rdc".concat(Date.now()),i="writeable";do{t=o.slice(r).join(".");var c=new Date(Object(p.timestamp)()+1e4).toUTCString();P.setCookie(a,i,c,"Lax",t,void 0);var u=P.getCookie(a,void 0);u===i?(n=!1,P.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(r+=-1,n=Math.abs(r)<=o.length)}while(n);return t}function W(e,t){var n=function n(){};t&&(n=Object(p.delayExecution)((function(){clearTimeout(h),t()}),e.length)),e.forEach((function(e){e.callback((function(t){t?(e.config.storage&&N(e,t),e.idObj=e.submodule.decode(t,e.config)):Object(p.logInfo)("".concat(D,": ").concat(e.submodule.name," - request id responded with an empty value")),n()})),e.callback=void 0}))}function z(e){return Array.isArray(e)&&e.length?e.filter((function(e){return Object(p.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}function B(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&Object(p.isArray)(e.bids)&&e.bids.forEach((function(e){var n=function(e,t){return Array.isArray(e)&&e.length&&t?e.filter((function(e){return!e.config.bidders||!Object(p.isArray)(e.config.bidders)||y()(e.config.bidders,t)})).filter((function(e){return Object(p.isPlainObject)(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}(t,e.bidder);Object.keys(n).length&&(e.userId=n,e.userIdAsEids=Object(g.b)(n))}))}))}function $(e){var t=!1;if(void 0===j&&(j=function(e,t){var n=Z(e,t),o=n.userIdModules;if(!n.hasValidated&&!J(t))return Object(p.logWarn)("".concat(D," - gdpr permission not valid for local storage or cookies, exit module")),[];var r=G();return R(t),o.reduce((function(e,n){return ee(n,t,r,!1),e.push(n),e}),[])}(T,s.gdprDataHandler.getConsentData())).length){q(j);var n=j.filter((function(e){return Object(p.isFn)(e.callback)}));if(n.length)if(e&&k>0){t=!0;var o=!1,r=function r(){o||(o=!0,e())};Object(p.logInfo)("".concat(D," - auction delayed by ").concat(k," at most to fetch ids")),h=setTimeout(r,k),W(n,r)}else c.a.on(l.a.EVENTS.AUCTION_END,(function e(){c.a.off(l.a.EVENTS.AUCTION_END,e),I>0?setTimeout((function(){W(n)}),I):W(n)}))}e&&!t&&e()}function K(e,t){$((function(){B(t.adUnits||Object(u.a)().adUnits,j);var n=w&&(X()||[]).find((function(e){return e.source===w}));if(n&&"string"==typeof Object(p.deepAccess)(n,"uids.0.id")){var o=n.uids[0].id.replace(/[\W_]/g,"");o.length>=32&&o.length<=150?Object(p.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(o):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){window.googletag.pubads().setPublisherProvidedId(o)}))):Object(p.logWarn)("User ID - Googletag Publisher Provided ID for ".concat(w," is not between 32 and 150 characters - ").concat(o))}e.call(this,t)}))}function Q(){return $(),z(j)}function X(){return $(),Object(g.b)(z(j))}function Y(e,t){var n=e?e.submoduleNames:null;n||(n=[]),$((function(){var e=s.gdprDataHandler.getConsentData(),o=Z(T,e),r=o.userIdModules;if(o.hasValidated||J(e)){var a=G();R(e);var i,c=[],u=O(r);try{for(u.s();!(i=u.n()).done;){var d=i.value;n.length>0&&-1===n.indexOf(d.submodule.name)||(Object(p.logInfo)("".concat(D," - refreshing ").concat(d.submodule.name)),ee(d,e,a,!0),te(d),j.length&&q(j),Object(p.isFn)(d.callback)&&c.push(d))}}catch(e){u.e(e)}finally{u.f()}c.length>0&&W(c),t&&t()}else Object(p.logWarn)("".concat(D," - gdpr permission not valid for local storage or cookies, exit module"))}))}var Z=Object(f.b)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function ee(e,t,n,o){if(e.config.storage){var r,a=F(e.config.storage),i=!1;if("number"==typeof e.config.storage.refreshInSeconds){var c=new Date(F(e.config.storage,"last"));i=c&&Date.now()-c.getTime()>1e3*e.config.storage.refreshInSeconds}!a||i||o||!function(e,t){return null!=e&&e===M(t)}(n,t)?r=e.submodule.getId(e.config,t,a):"function"==typeof e.submodule.extendId&&(r=e.submodule.extendId(e.config,t,a)),Object(p.isPlainObject)(r)&&(r.id&&(N(e,r.id),a=r.id),"function"==typeof r.callback&&(e.callback=r.callback)),a&&(e.idObj=e.submodule.decode(a,e.config))}else if(e.config.value)e.idObj=e.config.value;else{var u=e.submodule.getId(e.config,t,void 0);Object(p.isPlainObject)(u)&&("function"==typeof u.callback&&(e.callback=u.callback),u.id&&(e.idObj=e.submodule.decode(u.id,e.config)))}}function te(e){for(var t=!1,n=0;n<j.length;n++)if(e.config.name.toLowerCase()===j[n].config.name.toLowerCase()){t=!0,j[n]=e;break}t||j.push(e)}function ne(){var e=function(e,t,n){return Array.isArray(e)?e.reduce((function(e,t){return!t||Object(p.isEmptyStr)(t.name)||(!t.storage||Object(p.isEmptyStr)(t.storage.type)||Object(p.isEmptyStr)(t.storage.name)||-1===n.indexOf(t.storage.type)?Object(p.isPlainObject)(t.value)?e.push(t):t.storage||t.value||e.push(t):e.push(t)),e}),[]):[]}(V,0,U);if(e.length){var t=L.filter((function(e){return!r()(T,(function(t){return t.name===e.name}))}));T=t.map((function(t){var n=r()(e,(function(e){return e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())}));return n&&t.name!==n.name&&(n.name=t.name),t.findRootDomain=H,n?{submodule:t,config:n,callback:void 0,idObj:void 0}:null})).filter((function(e){return null!==e})),!_&&T.length&&(Object(u.a)().requestBids.before(K,40),Object(p.logInfo)("".concat(D," - usersync config updated for ").concat(T.length," submodules: "),T.map((function(e){return e.submodule.name}))),_=!0)}}function oe(e){r()(L,(function(t){return t.name===e.name}))||(L.push(e),ne())}function re(e){w=void 0,T=[],V=[],_=!1,j=void 0,-1!==(U=[P.localStorageIsEnabled()?E:null,P.cookiesAreEnabled()?S:null].filter((function(e){return null!==e}))).indexOf(S)&&P.getCookie(C)?Object(p.logInfo)("".concat(D," - opt-out cookie found, exit module")):-1!==U.indexOf(E)&&P.getDataFromLocalStorage(C)?Object(p.logInfo)("".concat(D," - opt-out localStorage found, exit module")):(e.getConfig("userSync",(function(e){var t=e.userSync;w=t.ppid,t&&t.userIds&&(V=t.userIds,I=Object(p.isNumber)(t.syncDelay)?t.syncDelay:500,k=Object(p.isNumber)(t.auctionDelay)?t.auctionDelay:0,ne())})),Object(u.a)().getUserIds=Q,Object(u.a)().getUserIdsAsEids=X,Object(u.a)().refreshUserIds=Y)}re(a.b),Object(f.c)("userId",oe),window.pbjs.installedModules.push("userId")}},[905]),pbjsChunk([99],{907:function _(e,n,o){e.exports=o(908)},908:function _(e,n,o){Object.defineProperty(n,"__esModule",{value:!0}),n.userIdTargeting=b,n.init=u;var t=o(3),g=o(14),i=o(5),a=o.n(i),s=o(10),c=o.n(s),d=o(0),r="userIdTargeting",l="GAM";function b(e,n){if(Object(d.isPlainObject)(n)){var o,t=Object(d.isPlainObject)(n.GAM_KEYS)?n.GAM_KEYS:{},g=!!Object(d.isBoolean)(n.GAM)&&n.GAM;g?window.googletag&&Object(d.isFn)(window.googletag.pubads)&&Object(d.hasOwn)(window.googletag.pubads(),"setTargeting")&&Object(d.isFn)(window.googletag.pubads().setTargeting)?o=window.googletag.pubads().setTargeting:(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],o=function o(e,n){window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting(e,n)}))}):Object(d.logInfo)(r+": Not enabled for "+l),Object.keys(e).forEach((function(n){if(e[n]&&g&&""!==t[n]){var i;if(Object(d.isStr)(e[n]))i=e[n];else{if(!Object(d.isPlainObject)(e[n]))return void Object(d.logInfo)(r+": "+n+" User ID is not an object or a string.");i=JSON.stringify(e[n])}o(Object(d.hasOwn)(t,n)?t[n]:n,[i])}}))}else Object(d.logInfo)(r+": Invalid config found, not sharing userIds externally.")}function u(e){c.a.on(a.a.EVENTS.AUCTION_END,(function(){b(Object(g.a)().getUserIds(),e.getConfig(r))}))}u(t.b),window.pbjs.installedModules.push("userIdTargeting")}},[907]),pbjs.processQueue();var MODULE_NAME="Prebid Module",MODULE_VERSION="v4.0.40",MODULE_LOG_TAG="prebid",mergeDeep=window.AdFuelUtils.mergeDeep,isIntl=window.AdFuelUtils.isIntl,isUSCNN=window.AdFuelUtils.isUSCNN,IsMobile=window.AdFuelUtils.isMobile,getConsent=window.AdFuelUtils.getConsent,getUserConsentRegion=window.AdFuelUtils.getUserConsentRegion,getURLParam=window.AdFuelUtils.getURLParam,getLogger=window.AdFuelUtils.getLogger,addEvent=window.AdFuelUtils.addEvent,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,readCookie=window.AdFuelUtils.readCookie,pbLogger,initEventSet=!1,libraryConfigured=!1,RUBICON_SIZE_MAPPING={"728x90":2,"160x600":9,"300x600":10,"300x250":15,"320x50":43,"970x90":55,"970x250":57},PREBID_VIDEO_TARGETING={hb_uuid:"",hb_bidder:"",hb_adid:"",hb_pb:"",hb_size:"",hb_source:""},PREBID_VIDEO_REFRESHED_TARGETING={hb_uuid:"",hb_bidder:"",hb_adid:"",hb_pb:"",hb_size:"",hb_source:""},PREBID_MIDROLL_VIDEO_TARGETING={hb_pb_cat_dur:[],hb_cache_id:""},REQUESTED_AD_UNITS={banner:[],native:[],outstream:[]},BUILT_AD_UNITS=[],CONFIGURATION={BIDDERS:{CLIENT:{DOM:[],INTL:[]},NATIVE:{DOM:[],INTL:[]},S2S:{DOM:[],INTL:[]},OUTSTREAM:{DOM:[],INTL:[]}},TIMEOUTS:{DISPLAY:{DESKTOP:1150,MOBILE:750},VIDEO:{DEFAULT:500,MIDROLL:750,REFRESH:1e3}},VENDOR:{APPNEXUS:{ACCOUNT_ID:{DOM:0,INTL:0}},CRITEO:{},IX:{SITE_ID:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},OPENX:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},RUBICON:{ACCOUNT_ID:{DOM:0,INTL:0},SITE_ID:{DOM:{DESKTOP:0,MOBILE:0},INTL:{DESKTOP:0,MOBILE:0}},ZONE_MAPPING:{DOM:{DESKTOP:{HP:{},ROS:{}},MOBILE:{}},INTL:{DESKTOP:{HP:{},ROS:{}},MOBILE:{}}}},SHARETHROUGH:{UNIT_MAPPING:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},TRUSTX:{UID:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},TRIPLELIFT:{MAPPINGS:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},KARGO:{MAPPINGS:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},DISTRICTM:{PID:{DOM:0,INTL:0}},PUBMATIC:{PUBLISHER_ID:{DOM:0,INTL:0},MAPPINGS:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}},TEADS:{PAGE_ID:{DOM:0,INTL:124545},PLACEMENT_ID:{DOM:0,INTL:135466}},THIRTYTHREEACROSS:{SITE_ID:{DOM:{DESKTOP:{},MOBILE:{}},INTL:{DESKTOP:{},MOBILE:{}}}}},SEND_ALL_BIDS:{DOM:!0,INTL:!0}},APPROVED_BIDDERS={CLIENT:{DOM:["appnexus","rubicon","criteo","ix","trustx","triplelift","kargo","kargo","33across"],INTL:["appnexus","ix","rubicon","sharethrough","criteo","trustx","pubmatic"]},NATIVE:{DOM:["appnexus"],INTL:["appnexus"]},OUTSTREAM:{DOM:["appnexus"],INTL:["appnexus"]},S2S:{DOM:["ix"],INTL:["sharethrough","ix"]}},REQUIRED_CONFIGURATION_KEYS=["BIDDERS"],bidMocks={appnexus:{bidder:"appnexus",params:{invCode:"",member:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,reserve:.01}},criteo:{bidder:"criteo",params:{networkId:4157}},ix:{bidder:"ix",params:{siteId:"",size:[]}},openx:{bidder:"openx",params:{unit:"",delDomain:"turnereu1-d.openx.net",customParams:{}}},triplelift:{bidder:"triplelift",params:{inventoryCode:""}},rubicon:{bidder:"rubicon",params:{accountId:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.RUBICON.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.RUBICON.ACCOUNT_ID.DOM,siteId:26792,zoneId:231942,position:"btf"}},sharethrough:{bidder:"sharethrough",params:{pkey:""}},trustx:{bidder:"trustx",params:{uid:0}},kargo:{bidder:"kargo",params:{placementId:""}},districtm:{bidder:"districtm",params:{placementId:0}},teads:{bidder:"teads",params:{placementId:0,pageId:0}},pubmatic:{bidder:"pubmatic",params:{publisherId:"",adSlot:""}},"33across":{bidder:"33across",params:{siteId:"",productId:""}}},validateConfiguration=function validateConfiguration(config){try{var errors=[],status=!0;REQUIRED_CONFIGURATION_KEYS.forEach((function(key){config[key]||(errors.push("MISSING REQUIRED CONFIGURATION KEY: ".concat(key)),status=!1)})),pbLogger.log("Configured Vendors: ",config.VENDOR);var configuredBidderTypes=Object.keys(config.BIDDERS);pbLogger.log("Configured Bidder Types: ",configuredBidderTypes),configuredBidderTypes.forEach((function(bidderType){pbLogger.log("Bidder Type: ",bidderType);var configuredLocationBidders=Object.keys(config.BIDDERS[bidderType]);pbLogger.log("Configured Bidder Type Locations: ",configuredLocationBidders),configuredLocationBidders.forEach((function(location){var configuredBidders=config.BIDDERS[bidderType][location];pbLogger.log("Configured Bidders: ",configuredBidders),configuredBidders.forEach((function(bidder,index){pbLogger.log("Bidder: ",bidder),APPROVED_BIDDERS[bidderType][location].indexOf(bidder)<0&&(pbLogger.log("Removing Bidder at Index: ",index,bidder),config.BIDDERS[bidderType][location].splice(config.BIDDERS[bidderType][location].indexOf(bidder),1),errors.push("INVALID ".concat(bidderType," BIDDER: ").concat(bidder)),status=!0),config.VENDOR[bidder.toUpperCase()]||(config.BIDDERS[bidderType][location].indexOf(bidder)>=0&&(pbLogger.log("Removing Bidder at Index: ",index,bidder),config.BIDDERS[bidderType][location].splice(config.BIDDERS[bidderType][location].indexOf(bidder),1)),errors.push("NO CONFIGURATION PROVIDED FOR VENDOR: ".concat(bidder)),status=!0)}))}))}));var response={status:status,errors:errors};if(!1!==response.status){var finalConfig=mergeDeep(CONFIGURATION,config);response.config=finalConfig,CONFIGURATION=finalConfig}return response}catch(err){console.log("err on validateConfiguration: ",err)}},getVideoBids=function getVideoBids(slotName,timeout,targeting){try{return new Promise((function(resolve){pbLogger.log("Building Video AdUnit..."),slotName=slotName||"cnn_homepage_video1",timeout=timeout||CONFIGURATION.TIMEOUTS.VIDEO.DEFAULT;var videoBid={code:"video1",mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:[{bidder:"appnexus",params:{invCode:slotName,member:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,video:{skippable:!0,playback_methods:["auto_play_sound_off"]}}}]};pbLogger.log("Adding Video AdUnit: ",videoBid),window.pbjs.que.push((function(){BUILT_AD_UNITS.indexOf(videoBid.code)>=0&&(pbLogger.log("Removing Video Ad Unit: ",videoBid.code),window.pbjs.removeAdUnit(videoBid.code),BUILT_AD_UNITS.splice(BUILT_AD_UNITS.indexOf(videoBid.code),1)),pbLogger.log("Adding Video Ad Unit: ",videoBid.code),window.pbjs.addAdUnits(videoBid),BUILT_AD_UNITS.push(videoBid.code),pbLogger.log("Requesting Video Bids...",videoBid);var videoBidsBackHandler=function videoBidsBackHandler(bids,timedOut){try{var highestCmpBids=window.pbjs.getHighestCpmBids(["video1"]),uuid="",targetBid=highestCmpBids[0];highestCmpBids.forEach((function(bid){pbLogger.log("Found highest cmp bid for 'video'..."),bid.videoCacheKey&&""!==uuid&&(pbLogger.log("Returning Video Cache Key..."),uuid=targetBid.videoCacheKey)})),pbLogger.log("Received Bids..."),PREBID_VIDEO_TARGETING=window.pbjs.getAdserverTargeting().video1,""!==uuid&&(PREBID_VIDEO_TARGETING.hb_uuid=uuid),resolve(PREBID_VIDEO_TARGETING)}catch(err){pbLogger.warn("Could not get highest cmp bid for 'video1'...",err),resolve(err)}};window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:["video1"],bidsBackHandler:videoBidsBackHandler,timeout:timeout})}))}))}catch(err){console.log("err on getVideoBids: ",err)}},getRefreshedVideoBids=function getRefreshedVideoBids(slotName,timeout,targeting){try{return new Promise((function(resolve){slotName=slotName||"cnn_homepage_video1",timeout=timeout||CONFIGURATION.TIMEOUTS.VIDEO.REFRESH,pbLogger.log("Building Video AdUnit...");var videoBid={code:"video2",mediaTypes:{video:{context:"instream",playerSize:[640,480]}},bids:[{bidder:"appnexus",params:{invCode:slotName,member:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,video:{skippable:!0,playback_methods:["auto_play_sound_off"]}}}]};window.pbjs.que.push((function(){BUILT_AD_UNITS.indexOf(videoBid.code)>=0&&(pbLogger.log("Removing Video Ad Unit: ",videoBid.code),window.pbjs.removeAdUnit(videoBid.code),BUILT_AD_UNITS.splice(BUILT_AD_UNITS.indexOf(videoBid.code),1)),pbLogger.log("Adding Video Ad Unit: ",videoBid.code),window.pbjs.addAdUnits(videoBid),BUILT_AD_UNITS.push(videoBid.code),pbLogger.log("Requesting Video Bids...",videoBid);var videoBidsBackHandler=function videoBidsBackHandler(bids,timedOut){try{var highestCmpBids=window.pbjs.getHighestCpmBids(["video2"]),targetBid=highestCmpBids[0],uuid="";highestCmpBids.forEach((function(bid){pbLogger.log("Found highest cmp bid for 'video'..."),bid.videoCacheKey&&""===uuid&&(pbLogger.log("Returning Video Cache Key..."),uuid=targetBid.videoCacheKey)})),pbLogger.log("Received Bids..."),PREBID_VIDEO_REFRESHED_TARGETING=window.pbjs.getAdserverTargeting().video2,""!==uuid&&(PREBID_VIDEO_REFRESHED_TARGETING.hb_uuid=uuid),resolve(PREBID_VIDEO_REFRESHED_TARGETING)}catch(err){pbLogger.warn("Could not get highest cmp bid for 'video2'...",err),resolve(err)}};window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),window.pbjs.requestBids({adUnitCodes:["video1"],bidsBackHandler:videoBidsBackHandler,timeout:timeout})}))}))}catch(err){console.log("err on getRefreshedVideoBids: ",err)}},getMidRollVideoBids=function getMidRollVideoBids(){var slotName=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cnn_homepage_midroll",timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CONFIGURATION.TIMEOUTS.VIDEO.MIDROLL,duration=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,durationRange=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[30],playerSize=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[640,480],minDuration=arguments.length>5&&void 0!==arguments[5]?arguments[5]:30;try{return new Promise((function(resolve){var videoBids=[],x=1,codes=[];if(isIntl()&&!isUSCNN()?window.AdFuelOptions.PREBID.BIDDERS.CLIENT.INTL.indexOf("appnexus")>=0:window.AdFuelOptions.PREBID.BIDDERS.CLIENT.DOM.indexOf("appnexus")>=0){var code="midroll".concat(window.AdFuelUtils.generateCacheBuster());codes.push(code);var videoBid={code:code,mediaTypes:{video:{context:"adpod",playerSize:playerSize,adPodDurationSec:duration,durationRangeSec:durationRange}},bids:[{bidder:"appnexus",params:{invCode:slotName,member:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,video:{skippable:!1,playback_methods:["auto_play_sound_on"]}}}]};videoBids.push(videoBid),pbLogger.log("Building Video AdUnit..."),pbLogger.log("Adding Video AdUnits: ",videoBids);var innerFunc=function innerFunc(){BUILT_AD_UNITS.indexOf(videoBids[0].code)>=0&&(pbLogger.log("Removing Video Ad Unit: ",videoBids[0].code),BUILT_AD_UNITS.splice(BUILT_AD_UNITS.indexOf(videoBids[0].code),1),window.pbjs.removeAdUnit(videoBids[0].code)),pbLogger.log("Adding Video Ad Unit: ",videoBids[0].code),videoBids.forEach((function(videoBid){window.pbjs.addAdUnits(videoBid)})),BUILT_AD_UNITS.push(videoBids[0].code),pbLogger.log("Requesting Video Bids...",videoBids);var videoBidsBackHandler=function videoBidsBackHandler(bids,timedOut){try{var BidTargeting=JSON.parse(JSON.stringify(PREBID_MIDROLL_VIDEO_TARGETING));pbLogger.log("Calling pbjs.adServers.freewheel.getTargeting..."),window.pbjs.adServers.freewheel.getTargeting({codes:codes,callback:function callback(err,targeting){err&&(pbLogger.error("Freewheel Targeting Error: ",err),resolve(err)),pbLogger.log("FreewheelTargeting: ",targeting),codes.forEach((function(code){Array.isArray(targeting[code])&&targeting[code].forEach((function(target){Object.keys(target).forEach((function(key){Array.isArray(BidTargeting[key])?BidTargeting[key].push(target[key]):void 0!==BidTargeting[key]&&(BidTargeting[key]=target[key])}))})),pbLogger.log("Interim Targeting: ",JSON.parse(JSON.stringify(BidTargeting)))})),pbLogger.log("Final Targeting: ",BidTargeting),resolve(BidTargeting)}})}catch(err){pbLogger.warn("failed to get video ad for getMidRollVideoBids",err),resolve(err)}};window.pbjs.setConfig({adpod:{brandCategoryExclusion:!0,prioritizeDeals:!0,dealTier:{appnexus:{prefix:"tier",minDealTier:6}}}}),window.pbjs.requestBids({adUnitCodes:codes,bidsBackHandler:videoBidsBackHandler,timeout:timeout})};pbLogger.log("LibraryConfigured: ",libraryConfigured),libraryConfigured&&window.pbjs.que.push(innerFunc)}else pbLogger.log("Not sending midroll request.  AppNexus is not an approved bidder.")}))}catch(err){console.log("err on getMidRollVideoBids: ",err)}},buildPrebidOutstreamAdUnits=function buildPrebidOutstreamAdUnits(asset){try{var outstreamAdUnitMock={code:"video1",mediaTypes:{video:{context:"outstream",playerSize:IsMobile.any?[320,180]:[640,480]}},bids:[],sizes:[[1,1]]},BIDDERS=isIntl()?CONFIGURATION.BIDDERS.OUTSTREAM.INTL:CONFIGURATION.BIDDERS.OUTSTREAM.DOM;pbLogger.log("Outstream Bidders: ",BIDDERS);for(var invCode=asset.rktr_ad_id.split("/")[0].toLowerCase(),posValue="",slotTargets=asset.targeting||[],tIndex=0;tIndex<slotTargets.length;tIndex++){var target=slotTargets[tIndex];"pos"===target[0]&&(posValue=Array.isArray(target[1])?target[1][0]:target[1])}return BIDDERS.forEach((function(bidder){var outstreamBidMock=Object.assign({},bidMocks[bidder]);switch(pbLogger.log("Outstream Bid Mock: ",outstreamBidMock),outstreamAdUnitMock.code=asset.originalElementId||asset.rktr_slot_id,bidder){case"appnexus":outstreamBidMock.params.invCode=invCode+(IsMobile.any?"_out_vid_02":"_out_vid_01"),outstreamBidMock.params.member=isIntl()?CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&(outstreamBidMock.params.keywords=window.CNN.cep_topics),asset.programmatic=asset.programmatic||{},asset.programmatic.prebid=asset.programmatic.prebid||{},asset.programmatic.prebid.appnexus=outstreamBidMock.params;break;case"teads":outstreamBidMock.params.placementId=isIntl()?CONFIGURATION.VENDOR.TEADS.PLACEMENT_ID.INTL:CONFIGURATION.VENDOR.TEADS.PLACEMENT_ID.DOM,outstreamBidMock.params.pageId=isIntl()?CONFIGURATION.VENDOR.TEADS.PAGE_ID.INTL:CONFIGURATION.VENDOR.TEADS.PAGE_ID.DOM,asset.programmatic=asset.programmatic||{},asset.programmatic.prebid=asset.programmatic.prebid||{},asset.programmatic.prebid.teads=outstreamBidMock.params;break;case"pubmatic":outstreamBidMock.params.publisherId=isIntl()?CONFIGURATION.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:CONFIGURATION.VENDOR.PUBMATIC.PUBLISHER_ID.DOM,outstreamBidMock.params.outstreamAU="".concat(invCode,"_").concat(posValue),outstreamBidMock.params.video={skippable:!0,minduration:1,maxduration:30,mimes:["video/mp4","video/x-flv","video/webm","application/javascript"," video/ogg"],api:[2],startdelay:0,playbackmethod:[2],protocols:[2,3,5,6],w:640,h:480,linearity:1,placement:1},outstreamBidMock.params.adSlot=isIntl()?IsMobile.any?CONFIGURATION.VENDOR.PUBMATIC.MAPPINGS.INTL.MOBILE[outstreamBidMock.params.outstreamAU]:CONFIGURATION.VENDOR.PUBMATIC.MAPPINGS.INTL.DESKTOP[outstreamBidMock.params.outstreamAU]:IsMobile.any?CONFIGURATION.VENDOR.PUBMATIC.MAPPINGS.DOM.MOBILE[outstreamBidMock.params.outstreamAU]:CONFIGURATION.VENDOR.PUBMATIC.MAPPINGS.DOM.DESKTOP[outstreamBidMock.params.outstreamAU],asset.programmatic=asset.programmatic||{},asset.programmatic.prebid=asset.programmatic.prebid||{},asset.programmatic.prebid.pubmatic=outstreamBidMock.params}outstreamAdUnitMock.bids.push(outstreamBidMock)})),outstreamAdUnitMock}catch(err){console.log("err on buildPrebidOutstreamAdUnits: ",err)}},buildPrebidAdUnits=function buildPrebidAdUnits(asset){try{var adUnits=[],nativeAdUnits=[],outstreamAdUnits=[];return asset.forEach((function(slot){if(slot.rktr_ad_id){var bannerAdUnitMock={code:"",mediaTypes:{banner:{sizes:[]}},bids:[]},nativeMediaType={title:{required:!0,len:80},body:{required:!0},image:{required:!0,aspect_ratios:[{min_width:300,min_height:225,ratio_width:4,ratio_height:3}]},sponsoredBy:{required:!0},clickUrl:{required:!0},icon:{required:!0,aspect_ratios:[{min_width:15,min_height:15,ratio_width:1,ratio_height:1}]},cta:{required:!1}};if(slot.monetization||(slot.monetization={isMonetized:!0,filteredSizes:slot.sizes}),slot.monetization.isMonetized)if(slot.rktr_slot_id.indexOf("_out_vid_")>=0)pbLogger.log("Building Outstream Ad Unit: ",slot),outstreamAdUnits.push(buildPrebidOutstreamAdUnits(slot));else{for(var sizeMapArray=[],sIndex=0;sIndex<slot.monetization.filteredSizes.length;sIndex++)sizeMapArray.push(RUBICON_SIZE_MAPPING[slot.monetization.filteredSizes[sIndex].join("x")]);for(var adUnitArray=slot.rktr_ad_id.toLowerCase().split("/"),criteoPubSubId=adUnitArray[0]+(adUnitArray[1]?"_"+adUnitArray[1]:""),invCodeArray=slot.rktr_ad_id.split("/"),invCode=invCodeArray[0].toLowerCase()+(invCodeArray[1]?"_"+invCodeArray[1].toLowerCase():""),posValue="",position="atf",slotTargets=slot.targeting||[],tIndex=0;tIndex<slotTargets.length;tIndex++){var target=slotTargets[tIndex];"pos"===target[0]&&(Array.isArray(target[1])?(posValue=target[1][0],position=target[1][0].split("_")[1]):(posValue=target[1],position=target[1].split("_")[1]))}var isHomepage=slot.rktr_ad_id.indexOf("/homepage")>=0||slot.rktr_ad_id.indexOf("/business/landing")>=0;bannerAdUnitMock.code=slot.originalElementId||slot.rktr_slot_id,bannerAdUnitMock.mediaTypes.banner.sizes=slot.monetization.filteredSizes.map((function(fSize){return fSize.map((function(size){return parseInt(size,10)}))})),pbLogger.log("Sizes: ",bannerAdUnitMock.mediaTypes.banner.sizes),posValue=JSON.parse(JSON.stringify(posValue)).replace(/"/g,""),pbLogger.log("POS: ",posValue);var BIDDERS=isIntl()&&!isUSCNN()?CONFIGURATION.BIDDERS.CLIENT.INTL:CONFIGURATION.BIDDERS.CLIENT.DOM;pbLogger.log("Bidders: ",BIDDERS),BIDDERS.forEach((function(bidder){pbLogger.log("Bidder: ",bidder);var bannerBidMock=Object.assign({},bidMocks[bidder]);switch(bannerAdUnitMock.code=slot.originalElementId||slot.rktr_slot_id,bidder){case"appnexus":bannerBidMock.params.invCode=invCode+"_"+posValue,bannerBidMock.params.member=isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,window.CNN&&window.CNN.cep_topics&&(bannerBidMock.params.keywords=bannerBidMock.params.keywords||{},bannerBidMock.params.keywords=window.CNN.cep_topics),window.WM&&window.WM.getAllCDPFlags&&(bannerBidMock.params.keywords=bannerBidMock.params.keywords||{},bannerBidMock.params.keywords.cdpfl=window.WM.getAllCDPFlags()),pbLogger.log("Pushing AppNexus Bid: ",bannerBidMock),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(bannerBidMock))),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.appnexus=JSON.parse(JSON.stringify(bannerBidMock.params));break;case"criteo":CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerBidMock.params.networkId=isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.CRITEO.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.CRITEO.ACCOUNT_ID.DOM,bannerBidMock.params.publisherSubId="".concat(criteoPubSubId,"_").concat(slot.rktr_slot_id),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(bannerBidMock))),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.criteo=JSON.parse(JSON.stringify(bannerBidMock.params));break;case"rubicon":bannerBidMock.params.siteId=isIntl()&&!isUSCNN()?IsMobile.any?CONFIGURATION.VENDOR.RUBICON.SITE_ID.INTL.MOBILE:CONFIGURATION.VENDOR.RUBICON.SITE_ID.INTL.DESKTOP:IsMobile.any?CONFIGURATION.VENDOR.RUBICON.SITE_ID.DOM.MOBILE:CONFIGURATION.VENDOR.RUBICON.SITE_ID.DOM.DESKTOP,IsMobile.any?bannerBidMock.params.zoneId=isHomepage?isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.HP:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.HP:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.MOBILE.ROS:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.MOBILE.ROS:bannerBidMock.params.zoneId=isHomepage?isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.HP:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.HP[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.INTL.DESKTOP.ROS:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[position]?CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS[position]:CONFIGURATION.VENDOR.RUBICON.ZONE_MAPPING.DOM.DESKTOP.ROS,bannerBidMock.params.position=position,bannerBidMock.params.sizes=sizeMapArray,pbLogger.log("Pushing Rubicon Bid: ",bannerBidMock),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(bannerBidMock))),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.rubicon=JSON.parse(JSON.stringify(bannerBidMock.params));break;case"ix":slot.monetization.filteredSizes.forEach((function(fSize){var ixBidMock={bidder:"ix",params:{siteId:"",size:[]}},formattedSize=fSize.join("x");fSize=fSize.map((function(size){return parseInt(size,10)})),pbLogger.log("IX IsMobile: ",window.AdFuelUtils.isMobile.any),pbLogger.log("IX IsIntl: ",window.AdFuelUtils.isIntl()),pbLogger.log("IX IsUSCNN: ",isUSCNN()),pbLogger.log("IX Position: ",position),pbLogger.log("IX Size: ",formattedSize),pbLogger.log("IX SiteId: ",window.AdFuelUtils.isMobile.any?window.AdFuelUtils.isIntl()?CONFIGURATION.VENDOR.IX.SITE_ID.INTL.MOBILE:CONFIGURATION.VENDOR.IX.SITE_ID.DOM.MOBILE:window.AdFuelUtils.isIntl()?CONFIGURATION.VENDOR.IX.SITE_ID.INTL.DESKTOP:CONFIGURATION.VENDOR.IX.SITE_ID.DOM.DESKTOP),pbLogger.log("IX Selected SiteId: ",window.AdFuelUtils.isMobile.any?window.AdFuelUtils.isIntl()?CONFIGURATION.VENDOR.IX.SITE_ID.INTL.MOBILE[position][formattedSize]:CONFIGURATION.VENDOR.IX.SITE_ID.DOM.MOBILE[position][formattedSize]:window.AdFuelUtils.isIntl()?CONFIGURATION.VENDOR.IX.SITE_ID.INTL.DESKTOP[position][formattedSize]:CONFIGURATION.VENDOR.IX.SITE_ID.DOM.DESKTOP[position][formattedSize]),ixBidMock.params.siteId=IsMobile.any?isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.IX.SITE_ID.INTL.MOBILE[position][formattedSize]||"":CONFIGURATION.VENDOR.IX.SITE_ID.DOM.MOBILE[position][formattedSize]||"":isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.IX.SITE_ID.INTL.DESKTOP[position][formattedSize]||"":CONFIGURATION.VENDOR.IX.SITE_ID.DOM.DESKTOP[position][formattedSize]||"",ixBidMock.params.size=JSON.parse(JSON.stringify(fSize)),""!==ixBidMock.params.siteId&&(pbLogger.log("Pushing IX Bid: ",ixBidMock),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(ixBidMock)))),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.ix=JSON.parse(JSON.stringify(ixBidMock.params))}));break;case"trustx":slot.monetization.filteredSizes.forEach((function(fSize){var formattedSize=fSize.join("x"),trustxBidMock={bidder:"trustx",params:{uid:0}};window.CNN&&window.CNN.cep_topics&&(trustxBidMock.params.keywords=window.CNN.cep_topics),trustxBidMock.params.uid=window.AdFuelUtils.isMobile.any?window.AdFuelUtils.isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.TRUSTX.UID.INTL.MOBILE[position][formattedSize]||"":CONFIGURATION.VENDOR.TRUSTX.UID.DOM.MOBILE[position][formattedSize]||"":window.AdFuelUtils.isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.TRUSTX.UID.INTL.DESKTOP[position][formattedSize]:CONFIGURATION.VENDOR.TRUSTX.UID.DOM.DESKTOP[position][formattedSize],""!==trustxBidMock.params.uid&&(pbLogger.log("Pushing TRUSTX Bid: ",trustxBidMock),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(trustxBidMock))),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType)),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.trustx=JSON.parse(JSON.stringify(trustxBidMock.params))}));break;case"triplelift":bannerAdUnitMock.mediaTypes.banner.sizes.forEach((function(filteredSize){var tripleLiftBidMock={bidder:"triplelift",params:{inventoryCode:""}},formattedSize=filteredSize.join("x");tripleLiftBidMock.params.inventoryCode=IsMobile.any?isIntl()&&!isUSCNN()?isHomepage&&CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[formattedSize]?CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.HP[formattedSize]:CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.INTL.MOBILE.ROS[formattedSize]:isHomepage&&CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[formattedSize]?CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.HP[formattedSize]:CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.DOM.MOBILE.ROS[formattedSize]:isIntl()&&!isUSCNN()?isHomepage&&CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[formattedSize]?CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.HP[formattedSize]:CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.INTL.DESKTOP.ROS[formattedSize]:isHomepage&&CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[formattedSize]?CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.HP[formattedSize]:CONFIGURATION.VENDOR.TRIPLELIFT.MAPPINGS.DOM.DESKTOP.ROS[formattedSize];var exists=!1;bannerAdUnitMock.bids.forEach((function(bid){"triplelift"===bid.bidder&&(bid.params.inventoryCode===tripleLiftBidMock.params.inventoryCode&&(exists=!0),exists=!0)})),exists||(pbLogger.log("Pushing TripleLift Bid: ",tripleLiftBidMock),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(tripleLiftBidMock))))})),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.triplelift=JSON.parse(JSON.stringify(bannerBidMock.params));break;case"kargo":bannerAdUnitMock.mediaTypes.banner.sizes.forEach((function(filteredSize){var kargoBidMock={bidder:"kargo",params:{placementId:""}},formattedSize=filteredSize.join("x");kargoBidMock.params.placementId=isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.KARGO.MAPPINGS.INTL.MOBILE[formattedSize]:CONFIGURATION.VENDOR.KARGO.MAPPINGS.DOM.MOBILE[formattedSize];var exists=!1;bannerAdUnitMock.bids.forEach((function(bid){"kargo"===bid.bidder&&(exists=!0)})),!exists&&IsMobile.any&&(pbLogger.log("Pushing Kargo Bid: ",kargoBidMock),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(kargoBidMock))))})),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.kargo=JSON.parse(JSON.stringify(bannerAdUnitMock.bids.filter((function(bid){return"kargo"===bid.bidder}))));break;case"districtm":bidMocks.districtm.params.placementId=isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.DISTRICTM.PID.INTL:CONFIGURATION.VENDOR.DISTRICTM.PID.DOM,pbLogger.log("Pushing DistrictM Bid: ",bidMocks.districtm),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(bidMocks.districtm))),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.districtm=JSON.parse(JSON.stringify(bidMocks.districtm.params));break;case"sharethrough":bannerAdUnitMock.mediaTypes.banner.sizes.forEach((function(filteredSize){var sharethroughBidMock=JSON.parse(JSON.stringify(bidMocks.sharethrough)),formattedSize=filteredSize.join("x");sharethroughBidMock.params.pkey=IsMobile.any?isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.MOBILE[formattedSize]:CONFIGURATION.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.MOBILE[formattedSize]:isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.SHARETHROUGH.UNIT_MAPPING.INTL.DESKTOP[formattedSize]:CONFIGURATION.VENDOR.SHARETHROUGH.UNIT_MAPPING.DOM.DESKTOP[formattedSize];var exists=!1;bannerAdUnitMock.bids.forEach((function(bid){"sharethrough"===bid.bidder&&bid.params.pkey===sharethroughBidMock.params.pkey&&(exists=!0)})),!exists&&sharethroughBidMock.params.pkey&&""!==sharethroughBidMock.params.pkey&&(pbLogger.log("Pushing Sharethrough Bid for ".concat(bannerAdUnitMock.code),sharethroughBidMock,slot),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(sharethroughBidMock))))})),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.sharethrough=JSON.parse(JSON.stringify(bannerAdUnitMock.bids.filter((function(item){return"sharethrough"===item.bidder}))));break;case"pubmatic":bannerBidMock.params.publisherId=isIntl()?CONFIGURATION.VENDOR.PUBMATIC.PUBLISHER_ID.INTL:CONFIGURATION.VENDOR.PUBMATIC.PUBLISHER_ID.DOM,bannerBidMock.params.adSlot="".concat(invCodeArray[0].toLowerCase(),"_").concat(posValue),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(bannerBidMock))),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.pubmatic=JSON.parse(JSON.stringify(bannerBidMock.params));break;case"33across":bannerBidMock.params.productId="siab",bannerBidMock.params.siteId=isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.THIRTYTHREEACROSS.SITE_ID.INTL:CONFIGURATION.VENDOR.THIRTYTHREEACROSS.SITE_ID.DOM,pbLogger.log("Pushing 33Across Bid: ",bannerBidMock),CONFIGURATION.BIDDERS.NATIVE[isIntl()&&!isUSCNN()?"INTL":"DOM"].indexOf(bidder)>=0&&(bannerAdUnitMock.mediaTypes.native=nativeMediaType),bannerAdUnitMock.bids.push(JSON.parse(JSON.stringify(bannerBidMock))),slot.programmatic||(slot.programmatic={}),slot.programmatic.prebid||(slot.programmatic.prebid={}),slot.programmatic.prebid.thirtyThreeAcross=JSON.parse(JSON.stringify(bannerBidMock.params))}})),pbLogger.log("Banner Ad Unit: ",bannerAdUnitMock),pbLogger.log("Built Ad Units: ",BUILT_AD_UNITS),BUILT_AD_UNITS.indexOf(JSON.parse(JSON.stringify(bannerAdUnitMock.code)))<0?(BUILT_AD_UNITS.push(JSON.parse(JSON.stringify(bannerAdUnitMock.code))),adUnits.push(JSON.parse(JSON.stringify(bannerAdUnitMock)))):nativeAdUnits.push(JSON.parse(JSON.stringify(bannerAdUnitMock)))}}})),pbLogger.log("Built Ad Units: ",JSON.parse(JSON.stringify({banner:adUnits,native:nativeAdUnits,outstream:outstreamAdUnits}))),{banner:adUnits,native:nativeAdUnits,outstream:outstreamAdUnits}}catch(err){console.log("err on buildPrebidAdUnits: ",err)}},preQueueCallback=function preQueueCallback(asset){try{var preQueuePromise=new Promise((function(resolve){var callbackExecuted=!1;if(asset.length>0){var adUnits=buildPrebidAdUnits(asset),bannerAdUnits=adUnits.banner.filter((function(adUnit){return adUnit.bids.length>0&&-1===REQUESTED_AD_UNITS.banner.indexOf(adUnit)})),outstreamAdUnits=null==adUnits?void 0:adUnits.outstream.filter((function(adUnit){return adUnit.bids.length>0&&-1===(null==REQUESTED_AD_UNITS?void 0:REQUESTED_AD_UNITS.outstream.indexOf(adUnit))})),pbQueueFunction=function pbQueueFunction(){bannerAdUnits.length>0&&(pbLogger.log("Adding Banner Ad Units...",JSON.parse(JSON.stringify(bannerAdUnits))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(bannerAdUnits))),bannerAdUnits.forEach((function(bau){REQUESTED_AD_UNITS.banner.push(bau)}))),outstreamAdUnits.length>0&&(pbLogger.log("Adding Outstream Ad Units...",JSON.parse(JSON.stringify(outstreamAdUnits))),window.pbjs.addAdUnits(JSON.parse(JSON.stringify(outstreamAdUnits))),outstreamAdUnits.forEach((function(oau){REQUESTED_AD_UNITS.outstream.push(oau)}))),pbLogger.log("Requesting Bids...");var requestedSlots=asset.map((function(rockSlot){return rockSlot.rktr_slot_id}));pbLogger.log("Requested slots...",requestedSlots);var slots=bannerAdUnits.map((function(adUnit){return pbLogger.log("Checking AdUnit: ",adUnit),requestedSlots.indexOf(adUnit.code)>=0?adUnit.code:null})).filter((function(item){return null!==item}));outstreamAdUnits.forEach((function(adUnit){pbLogger.log("Checking AdUnit: ",adUnit),requestedSlots.indexOf(adUnit.code)>=0&&slots.push(adUnit.code)}));var bidsBackHandlerFunc=function bidsBackHandlerFunc(bids,timedOut){asset.forEach((function(slot){bids[slot.rktr_slot_id]&&bids[slot.rktr_slot_id].bids&&(slot.programmatic.prebid.bids=bids[slot.rktr_slot_id].bids)}));try{window.googletag.cmd.push((function(){asset.forEach((function(slot){bids[slot.rktr_slot_id]&&bids[slot.rktr_slot_id].bids&&(pbLogger.log("SETTING PROGRAMMATIC BID INFORMATION:",bids),slot.programmatic=slot.programmatic||{},slot.programmatic.prebid=slot.programmatic.prebid||{},slot.programmatic.prebid.bids=bids[slot.rktr_slot_id].bids,pbLogger.log("SET PROGRAMMATIC BID INFORMATION:",slot.programmatic.prebid.bids))})),pbLogger.log("SETTING TARGETING:",slots),window.pbjs.setTargetingForGPTAsync(slots),callbackExecuted||(callbackExecuted=!0,resolve(bids||window.pbjs.getAdserverTargeting()))}))}catch(err){pbLogger.warn("failed to get display ad for preQueueCallback",err),resolve(err)}};if(pbLogger.log("Banner Ad Units: ",bannerAdUnits),pbLogger.log("Slots: ",slots),slots.length>0){window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}});var adUnitCodes=[];bannerAdUnits.forEach((function(adUnit){adUnitCodes.push(adUnit.code)})),outstreamAdUnits.forEach((function(adUnit){adUnitCodes.push(adUnit.code)})),pbLogger.log("REQUESTING TARGETING:",{adUnitCodes:adUnitCodes,bannerAdUnits:bannerAdUnits,outstreamAdUnits:outstreamAdUnits}),window.pbjs.requestBids({adUnitCodes:adUnitCodes,timeout:IsMobile.any?CONFIGURATION.TIMEOUTS.DISPLAY.MOBILE:CONFIGURATION.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:bidsBackHandlerFunc})}else resolve({msg:"No Slots"})};window.pbjs.que.push(pbQueueFunction)}else callbackExecuted||(callbackExecuted=!0,resolve({msg:"No Registry"}))}));return preQueuePromise.id="".concat(MODULE_NAME," ").concat(MODULE_VERSION),preQueuePromise.monetized=!0,preQueuePromise}catch(err){console.log("err on preQueueCallback: ",err)}},preDispatchCallback=function preDispatchCallback(asset){try{var preDispatchPromise=new Promise((function(resolve){setGeoTargeting(),resolve({msg:"GeoTargeting Set"})}));return preDispatchPromise.id="".concat(MODULE_NAME," ").concat(MODULE_VERSION),preDispatchPromise.monetized=!0,preDispatchPromise}catch(err){console.log("err on preDispatchCallback: ",err)}},preRefreshCallback=function preRefreshCallback(asset){try{var preRefreshPromise=new Promise((function(resolve){var callbackExecuted=!1;if(asset.length>0){var adUnits=buildPrebidAdUnits(asset);pbLogger.log("Pre-Refresh Asset: ",asset);var refreshedPageSlots=asset.map((function(pageSlot){return pbLogger.log("Page Slot: ",pageSlot,pageSlot.rktr_slot_id),pageSlot.rktr_slot_id}));if(pbLogger.log("Refreshed Page Slots: ",refreshedPageSlots),adUnits.banner.length>0||adUnits.native.length>0){var adUnitCodes=[];adUnits.banner.forEach((function(adUnit){adUnitCodes.push(adUnit.code)})),adUnits.native.forEach((function(adUnit){adUnitCodes.push(adUnit.code)})),adUnits.outstream.forEach((function(adUnit){adUnitCodes.push(adUnit.code)})),window.pbjs.setConfig({adpod:{brandCategoryExclusion:!1}}),pbLogger.log("Requesting Bids...",adUnitCodes),window.pbjs.requestBids({adUnitCodes:adUnitCodes,timeout:IsMobile.any?CONFIGURATION.TIMEOUTS.DISPLAY.MOBILE:CONFIGURATION.TIMEOUTS.DISPLAY.DESKTOP,bidsBackHandler:function bidsBackHandler(bids,timedOut){try{pbLogger.log("GOT BIDS: ",bids,adUnitCodes),window.googletag.cmd.push((function(){window.pbjs.setTargetingForGPTAsync(adUnitCodes),callbackExecuted||(callbackExecuted=!0,resolve(bids||window.pbjs.getAdserverTargeting()))}))}catch(err){pbLogger.warn("failed to get display ad for preRefreshCallback",err),resolve(err)}}})}else pbLogger.log("No Ad Units to Refresh.",adUnits),callbackExecuted||(callbackExecuted=!0,resolve({msg:"No Ad Units"}))}else callbackExecuted||(callbackExecuted=!0,resolve({msg:"No Slots"}))}));return preRefreshPromise.id="".concat(MODULE_NAME," ").concat(MODULE_VERSION),preRefreshPromise.monetized=!0,preRefreshPromise}catch(err){console.log("err on preRefreshCallback: ",err)}},destroySlotsCallback=function destroySlotsCallback(slotIds){try{var destroySlotsPromise=new Promise((function(resolve){var rAU=Object.assign({},REQUESTED_AD_UNITS),bAU=[].concat(BUILT_AD_UNITS);slotIds.forEach((function(slotId){rAU.banner.forEach((function(adUnit,index){pbLogger.log("rAU AdUnit: ",adUnit),adUnit.code===slotId&&(pbLogger.log("Destroying Slot Requested Record: ",slotId),REQUESTED_AD_UNITS.banner.splice(index,1))})),bAU.forEach((function(adUnit,index){pbLogger.log("bAU AdUnit: ",adUnit),adUnit===slotId&&(pbLogger.log("Destroying Slot Built Record: ",slotId),BUILT_AD_UNITS.splice(index,1))})),pbLogger.log("Removing Ad Unit from PBJS: ",slotId),window.pbjs.removeAdUnit(slotId)})),resolve({msg:"Slots Destroyed"})}));return destroySlotsPromise.id="".concat(MODULE_NAME," ").concat(MODULE_VERSION),destroySlotsPromise}catch(err){console.log("err on destroySlotsCallback: ",err)}},setGeoTargeting=function setGeoTargeting(forceIntl){try{var setGeoTarget=function setGeoTarget(){pbLogger.log("Setting GeoTargeting... ",isIntl()||forceIntl),isIntl()?(pbLogger.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):window.googletag.pubads().setTargeting("hbg","EU")):forceIntl?(pbLogger.log("Setting Geo Target: EU"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","EU"):window.googletag.pubads().setTargeting("hbg","EU")):(pbLogger.log("Setting Geo Target: US"),window.AdFuel?window.AdFuel.addPageLevelTarget("hbg","US"):window.googletag.pubads().setTargeting("hbg","US"))};window.googletag&&window.googletag.apiReady?setGeoTarget():window.googletag.cmd.push(setGeoTarget)}catch(err){console.log("err on setGeoTargeting: ",err)}},registerModuleWithAdFuel=function registerModuleWithAdFuel(){try{pbLogger.log("Registering "+MODULE_NAME+" module with AdFuel",CONFIGURATION),window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback,preDispatchCallback:preDispatchCallback,preRefreshCallback:preRefreshCallback,destroySlotsCallback:destroySlotsCallback},MODULE_VERSION,CONFIGURATION,!0)}catch(err){console.log("err on registerModuleWithAdFuel: ",err)}},configurePrebidLibrary=function configurePrebidLibrary(prebidConfig,initConfig){try{if(!libraryConfigured){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],libraryConfigured=!0,bidMocks.appnexus.params.member=isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.APPNEXUS.ACCOUNT_ID.DOM,bidMocks.rubicon.params.accountId=isIntl()&&!isUSCNN()?CONFIGURATION.VENDOR.RUBICON.ACCOUNT_ID.INTL:CONFIGURATION.VENDOR.RUBICON.ACCOUNT_ID.DOM;var displayPriceBuckets={buckets:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:isIntl()?50:115,increment:1}]},videoPriceBuckets,outstreamVideoPriceBuckets,mediaTypePriceBuckets={banner:displayPriceBuckets,video:{buckets:[{precision:2,min:4,max:50,increment:1},{precision:2,min:50,max:100,increment:5}]},native:displayPriceBuckets,"video-outstream":{buckets:[{precision:2,min:1,max:50,increment:1}]}},priceBuckets={buckets:[{precision:2,min:0,max:5,increment:.01},{precision:2,min:5,max:30,increment:.05},{precision:2,min:30,max:isIntl()?50:115,increment:1}]},userIds=[],identityLinkUserIdConfig={name:"identityLink",params:{pid:13452},storage:{type:"cookie",name:"tok_lr",expires:30}},id5IdUserIdConfig={name:"id5Id",params:{partner:963},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},sendAllBids=isIntl()&&!isUSCNN()?prebidConfig.SEND_ALL_BIDS.INTL:prebidConfig.SEND_ALL_BIDS.DOM,innerFunc=function innerFunc(){var checkConsent=void 0!==initConfig.USER_CONSENT&&!0===initConfig.USER_CONSENT.ENABLED,prebidConfigObject={priceGranularity:priceBuckets,mediaTypePriceGranularity:mediaTypePriceBuckets,enableSendAllBids:sendAllBids,bidderTimeout:IsMobile.any?prebidConfig.TIMEOUTS.DISPLAY.MOBILE:prebidConfig.TIMEOUTS.DISPLAY.DESKTOP,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},adpod:{brandCategoryExclusion:!0,prioritizeDeals:!0,dealTier:{appnexus:{prefix:"tier",minDealTier:6}}},targetingControls:{allowTargetingKeys:["BIDDER","AD_ID","PRICE_BUCKET","SIZE","DEAL","SOURCE","FORMAT","UUID","CACHE_ID","CACHE_HOST","ADOMAIN"],alwaysIncludeDeals:!0},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},userIds:userIds,auctionDelay:50}},sendAuthToken=readCookie("sendAuthToken");pbLogger.log("sendAuthToken:",sendAuthToken);var sendAuthTokenBool=!1;sendAuthTokenBool="string"==typeof sendAuthToken?"true"===readCookie("sendAuthToken").toLowerCase():null!==sendAuthToken&&sendAuthToken,pbLogger.log("sendAuthToken Boolean: ",sendAuthTokenBool),!isIntl()&&identityLinkUserIdConfig.params.pid&&sendAuthTokenBool?(pbLogger.log("Adding IdentityLink/LiveRamp UserID Config...",identityLinkUserIdConfig),prebidConfigObject.userSync.userIds.push(identityLinkUserIdConfig),window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){pbLogger.log("Setting tok_lr targeting...",readCookie("tok_lr")),window.googletag.pubads().setTargeting("tok_lr",readCookie("tok_lr"))}))):isIntl()&&(pbLogger.log("Adding Id5Id UserID Config...",id5IdUserIdConfig),prebidConfigObject.userSync.userIds.push(id5IdUserIdConfig));var s2sBidders=prebidConfig.BIDDERS.S2S[isIntl()&&!isUSCNN()?"INTL":"DOM"];pbLogger.log("Fire S2S: ",s2sBidders.length>0),s2sBidders.length>0&&(prebidConfigObject.s2sConfig={accountId:"f7c6e556-48f6-4b8c-9fb6-921c12c9362f",enabled:!prebidConfig.ENABLE_S2S||prebidConfig.ENABLE_S2S[isIntl()&&!isUSCNN()?"INTL":"DOM"],bidders:prebidConfig.BIDDERS.S2S[isIntl()&&!isUSCNN()?"INTL":"DOM"],timeout:IsMobile.any?prebidConfig.TIMEOUTS.DISPLAY.MOBILE:prebidConfig.TIMEOUTS.DISPLAY.DESKTOP,adapter:"prebidServer",endpoint:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",syncEndpoint:"https://prebid.adnxs.com/pbs/v1/cookie_sync"});var bidderSettings={appnexus:{suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_appnexus_tier",val:function val(bidResponse){if(null!=bidResponse.appnexus.dealPriority)return bidResponse.appnexus.dealPriority}}]}};if(!isIntl()&&sendAllBids&&(bidderSettings.rubicon={alwaysUseBid:!0,suppressEmptyKeys:!0,adserverTargeting:[{key:"hb_db_rubicon",val:function val(bidResponse){var keyvalue,dealTier;if(bidResponse.adserverTargeting&&bidResponse.adserverTargeting["rpfl_"+(isIntl()&&!isUSCNN()?prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.INTL:prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.DOM)])keyvalue=bidResponse.adserverTargeting["rpfl_"+(isIntl()?prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.INTL:prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.DOM)];else{if(!bidResponse.rubiconTargeting||!bidResponse.rubiconTargeting["rpfl_"+(isIntl()&&!isUSCNN()?prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.INTL:prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.DOM)])return;keyvalue=bidResponse.rubiconTargeting["rpfl_"+(isIntl()&&!isUSCNN()?prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.INTL:prebidConfig.VENDOR.RUBICON.ACCOUNT_ID.DOM)]}return keyvalue.substring(keyvalue.indexOf("_")+1)}}]}),Object.keys(bidMocks).forEach((function(bidder){pbLogger.log("Setting sendStandardTargeting for ".concat(bidder," to ").concat(!sendAllBids)),bidderSettings[bidder]=bidderSettings[bidder]||{},bidderSettings[bidder].sendStandardTargeting=!sendAllBids})),checkConsent){var consentGranted=getConsent(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),consentRegion=getUserConsentRegion();pbLogger.log("Checking for GDPR Consent..."),(consentGranted||"gdpr"===consentRegion)&&("gdpr"===consentRegion&&(pbLogger.log("Setting consentManagement config..."),prebidConfigObject.consentManagement={cmpApi:"iab",timeout:750,allowAuctionWithoutConsent:!1}),pbLogger.log("Setting config...",prebidConfigObject),window.pbjs.setConfig(prebidConfigObject),pbLogger.log("Setting Bidder Settings...",bidderSettings),window.pbjs.bidderSettings=bidderSettings,pbLogger.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm"))}else pbLogger.log("Skipping User Consent Check..."),pbLogger.log("Setting config...",prebidConfigObject),window.pbjs.setConfig(prebidConfigObject),pbLogger.log("Setting Bidder Settings...",bidderSettings),window.pbjs.bidderSettings=bidderSettings,pbLogger.log("Adding alias for DistrictM..."),window.pbjs.aliasBidder("appnexus","districtm")};window.pbjs.que.push(innerFunc),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.Prebid=window.PrebidVideoAPI={getTargetingData:getVideoBids,getRefreshedTargetingData:getMidRollVideoBids,getPreRollTargetingData:getVideoBids,getMidRollTargetingData:getMidRollVideoBids,getRefreshedPreRollTargetingData:getRefreshedVideoBids,getRefreshedMidRollTargetingData:getMidRollVideoBids,__VERSION__:MODULE_VERSION};var timeoutOverride=getURLParam("mdt");timeoutOverride&&(Object.keys(prebidConfig.TIMEOUTS).forEach((function(type){Object.keys(prebidConfig.TIMEOUTS[type]).forEach((function(platform){prebidConfig.TIMEOUTS[type][platform]=parseInt(timeoutOverride,10)}))})),pbLogger.log("Overriding Max Duration Time: ",prebidConfig.TIMEOUTS))}}catch(err){console.log("err on configurePrebidLibrary: ",err)}},init=function init(config){try{var initPromise=new Promise((function(resolve){addLogTracker(MODULE_LOG_TAG),pbLogger=getLogger(MODULE_NAME,MODULE_VERSION,MODULE_LOG_TAG,"color: #58f53f; padding: 2px",config.PREBID.DEBUG);var consentGranted=getConsent(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]),consentRegion;if("ccpa"!==getUserConsentRegion()||consentGranted){var validation=validateConfiguration(config.PREBID);validation.status?(pbLogger.log("Configuration Validated: ",config.PREBID),configurePrebidLibrary(CONFIGURATION,config),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(registerModuleWithAdFuel):window.AdFuel&&window.AdFuel.registerModule?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel)):validation.errors.forEach((function(error){pbLogger.error(error)})),resolve()}else pbLogger.log("Preventing Initialization due to CCPA Restrictions."),resolve()}));return initPromise.id="".concat(MODULE_NAME," ").concat(MODULE_VERSION),initPromise}catch(err){console.log("err on init: ",err)}};try{if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions)}catch(err){console.log("err on start: ",err)}var index={getTargetingData:getVideoBids,getRefreshedTargetingData:getMidRollVideoBids,getPreRollTargetingData:getVideoBids,getMidRollTargetingData:getMidRollVideoBids,getRefreshedPreRollTargetingData:getRefreshedVideoBids,getRefreshedMidRollTargetingData:getMidRollVideoBids,init:init,preQueueCallback:preQueueCallback,preDispatchCallback:preDispatchCallback,preRefreshCallback:preRefreshCallback,__VERSION__:MODULE_VERSION,__NAME__:MODULE_NAME};return index})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).AmazonA9=factory()}(void 0,(function(){var MODULE_NAME="Amazon A9 Module",MODULE_VERSION="v4.0.23",MODULE_LOG_TAG="a9",mergeDeep=window.AdFuelUtils.mergeDeep,getLogger=window.AdFuelUtils.getLogger,setIsIntl=window.AdFuelUtils.setIsIntl,getURLParam=window.AdFuelUtils.getURLParam,getUserConsentRegion=window.AdFuelUtils.getUserConsentRegion,getConsent=window.AdFuelUtils.getConsent,getConsentString=window.AdFuelUtils.getConsentString,isIntl=window.AdFuelUtils.isIntl,isUSCNN=window.AdFuelUtils.isUSCNN,addEvent=window.AdFuelUtils.addEvent,waitForVideo=window.AdFuelUtils.waitForVideo,hasVideo=window.AdFuelUtils.hasVideo,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,logger,scriptIncluded=!1,scriptInitialized=!1,initEventSet=!1,initialPreRollSent=!1,CONFIGURATION={ACCOUNT_IDS:{DOM:"3159",INTL:"3288"},TIMEOUTS:{DESKTOP:{DISPLAY:{INITIAL:1150,REFRESH:1150},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}},MOBILE:{DISPLAY:{INITIAL:750,REFRESH:750},VIDEO:{INITIAL:500,REFRESH:750,MIDROLL:750}}},SLOTNAMES:{PREROLL:"aps-preroll",MIDROLL:"aps-midroll",PREPEND_ADUNIT:!1}},blocked=!1,builtSlots=[],refreshSlots=[],defaultTimeout,defaultRefreshTimeout,siSection="",getTargetingData=function getTargetingData(timeout){var useTimeout=!0;if(blocked)return logger.log("Blocked..."),new Promise((function(resolve){return resolve({amznbid:"",amzniid:""})}));initialPreRollSent||(useTimeout=!1),timeout=timeout||defaultTimeout;var timeoutOverride=getURLParam("mdt");timeoutOverride&&(timeout=timeoutOverride,logger.log("Overriding Max Duration Time: ",timeout));var timeoutFunction=function timeoutFunction(resolve,reject){logger.log("Pseudo-timeout function executed"),resolve({amznbid:"",amzniid:""})};useTimeout&&(timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout((function(){logger.log("getTargetingData timed out after "+timeout+"ms."),clearTimeout(window.targetingTimeoutId),reject("getTargetingData timed out after "+timeout+"ms.")}),timeout)});var wrappedFunction=function wrappedFunction(resolve){logger.log("Getting Video targeting...");var innerFunction=function innerFunction(bids){logger.log("Clearing Timeout: ",window.targetingTimeoutId),clearTimeout(window.targetingTimeoutId);var targetBid={};logger.log("Pre-Roll Bids: ",bids),bids&&bids.forEach((function(bid){bid.slotID.indexOf("aps-preroll")>=0&&(targetBid=bid)}));var result=targetBid.targeting||{amznbid:"",amzniid:""};logger.log("Returning Targeting: ",result),resolve(result)};if(!window.A9VideoAPI._targetingPromise||!initialPreRollSent){logger.log("Targeting Promise not yet created. Sending pre-roll request manually."),initialPreRollSent=!0;var bidTimeout=window.AdFuelUtils.isMobile.any?CONFIGURATION.TIMEOUTS.MOBILE.VIDEO.INITIAL:CONFIGURATION.TIMEOUTS.DESKTOP.VIDEO.INITIAL,slotName=window.AdFuelUtils.isMobile.phone?"aps-preroll-mobile":"aps-preroll",slotNameOverride=getURLParam("slotname");slotNameOverride&&(slotName=slotNameOverride,logger.log("Overriding Slot Name: ",slotName)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise((function(resolve){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:slotName,slotName:slotName,mediaType:"video"}],timeout:bidTimeout},resolve)}))}window.A9VideoAPI._targetingPromise.then((function(bids){resolve(innerFunction(bids))}))},wrappedCallback=new Promise(wrappedFunction),timeoutCallback=new Promise(timeoutFunction);return useTimeout?(logger.log("Racing against a timeout..."),Promise.race([timeoutCallback,wrappedCallback])):(logger.log("Running solo..."),wrappedCallback)},getRefreshedTargetingData=function getRefreshedTargetingData(slotName,timeout){if(blocked)return new Promise((function(resolve){return resolve({amznbid:"",amzniid:""})}));timeout=timeout||defaultRefreshTimeout,slotName=slotName?slotName+(window.AdFuelUtils.isMobile.phone?"-mobile":""):window.AdFuelUtils.isMobile.phone?"aps-midroll-mobile":"aps-midroll";var timeoutOverride=getURLParam("mdt"),slotNameOverride=getURLParam("slotname");timeoutOverride&&(timeout=timeoutOverride,logger.log("Overriding Max Duration Time: ",timeout)),slotNameOverride&&(logger.log("Overriding Slot Name: ",slotName),slotName=slotNameOverride);var timeoutFunction=function timeoutFunction(resolve,reject){window.targetingTimeoutId=setTimeout((function(){logger.log("getRefreshedTargetingData timed out after "+timeout+"ms."),clearTimeout(window.targetingTimeoutId),reject("getRefreshedTargetingData timed out after "+timeout+"ms.")}),timeout)},wrappedFunction=function wrappedFunction(resolve){window.A9VideoAPI._refreshedTargetingPromise=new Promise((function(resolve){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:slotName,slotName:slotName,mediaType:"video"}],timeout:timeout},resolve)}));var innerFunction=function innerFunction(bids){clearTimeout(window.targetingTimeoutId);var targetBid={};bids.forEach((function(bid){bid.slotID===slotName&&(targetBid=bid)}));var result=targetBid.targeting||{amznbid:"",amzniid:""};logger.log("Returning Refreshed Targeting: ",result),resolve(result)};logger.log("Refreshing Video targeting..."),window.A9VideoAPI._refreshedTargetingPromise.then(innerFunction)},wrappedCallback=new Promise(wrappedFunction),timeoutCallback=new Promise(timeoutFunction);return Promise.race([timeoutCallback,wrappedCallback])},preQueueCallback=function preQueueCallback(asset){var preQueuePromise=new Promise((function(resolve){var bidSlots=[];if(asset&&asset.length>0){logger.time("Slot Building");for(var x=0;x<asset.length;x++){var slot=asset[x];if(slot.rktr_ad_id&&slot.monetization&&slot.rktr_slot_id.indexOf("_out_vid_")<=0&&slot.monetization.isMonetized){if(""===siSection){var adUnitArray=slot.rktr_ad_id.split("/");adUnitArray.length>1&&"homepage"!==adUnitArray[1]&&(siSection=adUnitArray[0]+(adUnitArray[1]?"/"+adUnitArray[1]:""))}var slotId=slot.rktr_slot_id,slotName=slotId;CONFIGURATION.SLOTNAMES.PREPEND_ADUNIT&&(logger.log("Prepending Ad Unit To SlotName..."),slotName="".concat(slot.rktr_ad_id,"_").concat(slotId));var obj={slotID:slotId,slotName:slotName,sizes:slot.monetization.filteredSizes};logger.log("A9 Slot Object: ",obj),slot.programmatic||(slot.programmatic={}),slot.programmatic.a9=JSON.parse(JSON.stringify(obj)),builtSlots.indexOf(obj.slotID)<0&&(bidSlots.push(obj),builtSlots.push(obj.slotID))}}logger.timeEnd("Slot Building")}else if(asset&&void 0!==asset.rktr_ad_id){logger.time("Slot Building");var _slot=asset;if(_slot.monetization&&_slot.monetization.isMonetized){if(""===siSection){var _adUnitArray=_slot.rktr_ad_id.split("/");_adUnitArray.length>1&&"homepage"!==_adUnitArray[1]&&(siSection=_adUnitArray[0]+(_adUnitArray[1]?"/"+_adUnitArray[1]:""))}var _slotId=_slot.rktr_slot_id,_slotName=_slotId;CONFIGURATION.SLOTNAMES.PREPEND_ADUNIT&&(logger.log("Prepending Ad Unit To Slot ID..."),_slotName="".concat(_slot.rktr_ad_id,"_").concat(_slotId));var _obj={slotID:_slotId,slotName:_slotName,sizes:_slot.monetization.filteredSizes};logger.log("A9 Slot Object: ",_obj),_slot.programmatic||(_slot.programmatic={}),_slot.programmatic.a9=JSON.parse(JSON.stringify(_obj)),builtSlots.indexOf(_obj.slotID)<0&&(bidSlots.push(_obj),builtSlots.push(_obj.slotID))}logger.timeEnd("Slot Building")}else resolve({msg:"No Slots",asset:asset});var processBids=function processBids(bids){logger.log("SETTING MANUAL TARGETING: ",bids),bids.forEach((function(bid){var slotId=bid.slotID;if(bid.targeting){var targets=Object.keys(bid.targeting);logger.log("Setting targeting for slot: ",slotId),targets.forEach((function(target){logger.log("Setting target [".concat(target,"] with value: ").concat(bid.targeting[target])),window.AdFuel.addSlotLevelTarget(slotId,target,bid.targeting[target])}))}else logger.log("No targeting returned for bid: ",bid)})),bidSlots.length=0,resolve(bids||{msg:"No Bids",asset:asset})};if(bidSlots.length>0){var fetchBidsConfig={slots:bidSlots,timeout:window.AdFuelUtils.isMobile.any?CONFIGURATION.TIMEOUTS.MOBILE.DISPLAY.INITIAL:CONFIGURATION.TIMEOUTS.DESKTOP.DISPLAY.INITIAL};""!==siSection&&(fetchBidsConfig.params={si_section:siSection}),logger.log("REQUESTING TARGETING:",fetchBidsConfig),window.apstag.fetchBids(fetchBidsConfig,processBids),refreshSlots=[].concat(_toConsumableArray(refreshSlots),bidSlots),logger.log("Setting refreshable slots to: ",refreshSlots)}else logger.log("No valid slots."),resolve({msg:"No monetization.",asset:asset})}));return preQueuePromise.id="".concat(MODULE_NAME," ").concat("v4.0.23"),preQueuePromise.monetized=!0,preQueuePromise},preRefreshCallback=function preRefreshCallback(asset){var preRefreshPromise=new Promise((function(resolve){logger.time("Refreshing Bids"),asset.forEach((function(slot){if(""===siSection){var adUnitArray=slot.rktr_ad_id.split("/");siSection=adUnitArray[0]+(adUnitArray[1]?"/"+adUnitArray[1]:"")}})),logger.log("Refresh Slots: ",refreshSlots);var removeDuplicateObjects,slotsToRefresh=function removeDuplicateObjects(input){var strings=input.map((function(item){return JSON.stringify(item)})),results;return(strings=_toConsumableArray(new Set(strings))).map((function(item){return JSON.parse(item)}))}(refreshSlots),fetchBidsConfig={slots:slotsToRefresh,timeout:window.AdFuelUtils.isMobile.any?CONFIGURATION.TIMEOUTS.MOBILE.DISPLAY.REFRESH:CONFIGURATION.TIMEOUTS.DESKTOP.DISPLAY.REFRESH};""!==siSection&&(fetchBidsConfig.params={si_section:siSection}),slotsToRefresh.length>0?(logger.log("Fetching Bids... ",fetchBidsConfig),window.apstag.fetchBids(fetchBidsConfig,(function(bids){logger.log("Setting Display Bids..."),window.apstag.setDisplayBids(),logger.timeEnd("Refreshing Bids"),resolve({msg:"refreshed slots",bids:bids})}))):(logger.log("No slots to refresh: ",asset,refreshSlots),logger.timeEnd("Refreshing Bids"),resolve({msg:"No slots to refresh"}))}));return preRefreshPromise.id="".concat(MODULE_NAME," ").concat("v4.0.23"),preRefreshPromise.monetized=!0,preRefreshPromise},sendInitialPreRollRequest=function sendInitialPreRollRequest(){if(hasVideo()&&!initialPreRollSent){logger.log("Sending Initial Pre-Roll Request...");var bidTimeout=window.AdFuelUtils.isMobile.any?CONFIGURATION.TIMEOUTS.MOBILE.VIDEO.INITIAL:CONFIGURATION.TIMEOUTS.DESKTOP.VIDEO.INITIAL,timeoutOverride=getURLParam("mdt");timeoutOverride&&(bidTimeout=timeoutOverride,logger.log("Overriding Max Duration Time: ",bidTimeout));var slotName=window.AdFuelUtils.isMobile.phone?"aps-preroll-mobile":"aps-preroll",slotNameOverride=getURLParam("slotname");slotNameOverride&&(slotName=slotNameOverride,logger.log("Overriding Slot Name: ",slotName)),window.A9VideoAPI._preRollTargetingPromise=window.A9VideoAPI._targetingPromise=new Promise((function(resolve){window.apstag.fetchBids({params:{si_section:"video"},slots:[{slotID:slotName,slotName:slotName,mediaType:"video"}],timeout:bidTimeout},resolve)}))}else hasVideo()?logger.log("Initial pre-roll request already sent."):logger.log("No video tag found. Not sending automatic pre-roll request.")},registerModuleWithAdFuel=function registerModuleWithAdFuel(){blocked?logger.log("A9 Module Registration is Blocked!",blocked):(logger.log("Registering module with AdFuel"),window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback,preRefreshCallback:preRefreshCallback},"v4.0.23",CONFIGURATION,!0,"a9"))},configureA9Library=function configureA9Library(a9Config){defaultTimeout=window.AdFuelUtils.isMobile.any?CONFIGURATION.TIMEOUTS.MOBILE.VIDEO.INITIAL:CONFIGURATION.TIMEOUTS.DESKTOP.VIDEO.INITIAL,defaultRefreshTimeout=window.AdFuelUtils.isMobile.any?CONFIGURATION.TIMEOUTS.MOBILE.VIDEO.REFRESH:CONFIGURATION.TIMEOUTS.DESKTOP.VIDEO.REFRESH;var consentRegion=getUserConsentRegion();if("ccpa"===consentRegion||"gdpr"===consentRegion){logger.log("Checking User Consent...");var consentStatus=getConsent(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);logger.log("User Consent Granted: ",consentStatus),logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.A9VideoAPI={getTargetingData:getTargetingData,getRefreshedTargetingData:getRefreshedTargetingData,getPreRollTargetingData:deprecationWarning,getMidRollTargetingData:deprecationWarning,getRefreshedPreRollTargetingData:deprecationWarning,getRefreshedMidRollTargetingData:deprecationWarning,__VERSION__:"v4.0.23"};var pubId=CONFIGURATION.ACCOUNT_IDS.DOM;isIntl()&&(pubId=isUSCNN()?CONFIGURATION.ACCOUNT_IDS.DOM:CONFIGURATION.ACCOUNT_IDS.INTL),logger.log("Final Pub ID: ",pubId);var bidTimeout=window.AdFuelUtils.isMobile.any?CONFIGURATION.TIMEOUTS.MOBILE.VIDEO.INITIAL:CONFIGURATION.TIMEOUTS.DESKTOP.VIDEO.INITIAL,timeoutOverride=getURLParam("mdt");timeoutOverride&&(bidTimeout=timeoutOverride,logger.log("Overriding Max Duration Time: ",bidTimeout));var slotName=window.AdFuelUtils.isMobile.phone?CONFIGURATION.SLOTNAMES.PREROLL+"-mobile":CONFIGURATION.SLOTNAMES.PREROLL,slotNameOverride=getURLParam("slotname");slotNameOverride&&(slotName=slotNameOverride,logger.log("Overriding Slot Name: ",slotName));var _a9Config={pubID:pubId,adServer:"googletag",videoAdServer:"freeWheel",deals:!0};if(!blocked&&consentStatus){if("gdpr"===consentRegion){logger.log("Enabling GDPR...");var consent=getConsentString();_a9Config.gdpr={enabled:!0,consent:consent}}scriptIncluded||(scriptIncluded=!0,function(a9,a,p,s,t,A,g){function q(c,r){a[a9]._Q.push([c,r])}a[a9]||(a[a9]={init:function init(){q("i",arguments)},fetchBids:function fetchBids(){q("f",arguments)},_Q:[]},(A=p.createElement(s)).async=!0,A.src=t,(g=p.getElementsByTagName(s)[0]).parentNode.insertBefore(A,g))}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js")),scriptInitialized||(scriptInitialized=!0,logger.log("Initializing APSTAG Library..."),window.apstag.init(_a9Config),logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.A9=window.A9VideoAPI={getTargetingData:getTargetingData,getRefreshedTargetingData:getRefreshedTargetingData,getPreRollTargetingData:deprecationWarning,getMidRollTargetingData:deprecationWarning,getRefreshedPreRollTargetingData:deprecationWarning,getRefreshedMidRollTargetingData:deprecationWarning,__VERSION__:"v4.0.23"},waitForVideo(sendInitialPreRollRequest),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(registerModuleWithAdFuel):window.AdFuel?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel))}else consentStatus||logger.log("A9 is blocked due to GDPR restrictions."),blocked=!0,logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.A9=window.A9VideoAPI={getTargetingData:getTargetingData,getRefreshedTargetingData:getRefreshedTargetingData,getPreRollTargetingData:deprecationWarning,getMidRollTargetingData:deprecationWarning,getRefreshedPreRollTargetingData:deprecationWarning,getRefreshedMidRollTargetingData:deprecationWarning,__VERSION__:"v4.0.23"}}else{logger.log("Skipping User Consent Check...");var _pubId=CONFIGURATION.ACCOUNT_IDS.DOM;isIntl()&&(_pubId=isUSCNN()?CONFIGURATION.ACCOUNT_IDS.DOM:CONFIGURATION.ACCOUNT_IDS.INTL),logger.log("Final Pub ID: ",_pubId);var _a9Config2={pubID:_pubId,adServer:"googletag",videoAdServer:"freeWheel",deals:!0};scriptIncluded||(scriptIncluded=!0,function(a9,a,p,s,t,A,g){function q(c,r){a[a9]._Q.push([c,r])}a[a9]||(a[a9]={init:function init(){q("i",arguments)},fetchBids:function fetchBids(){q("f",arguments)},_Q:[]},(A=p.createElement(s)).async=!0,A.src=t,(g=p.getElementsByTagName(s)[0]).parentNode.insertBefore(A,g))}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js")),scriptInitialized||(scriptInitialized=!0,logger.log("Initializing APSTAG Library..."),window.apstag.init(_a9Config2),logger.log("Exposing AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.A9=window.A9VideoAPI={getTargetingData:getTargetingData,getRefreshedTargetingData:getRefreshedTargetingData,getPreRollTargetingData:deprecationWarning,getMidRollTargetingData:deprecationWarning,getRefreshedPreRollTargetingData:deprecationWarning,getRefreshedMidRollTargetingData:deprecationWarning,__VERSION__:"v4.0.23"},sendInitialPreRollRequest(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(registerModuleWithAdFuel):window.AdFuel?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel))}},validateConfiguration=function validateConfiguration(config){var errors=[];config.ACCOUNT_IDS&&Object.keys(CONFIGURATION.ACCOUNT_IDS).forEach((function(location){logger.log("Config Account ID for Location: ",{location:location,config:config.ACCOUNT_IDS}),config.ACCOUNT_IDS[location]||errors.push("Missing Account ID for Location: ".concat(location))})),config.TIMEOUTS&&Object.keys(CONFIGURATION.TIMEOUTS).forEach((function(platform){logger.log("Config Timeout for Platform: ",{platform:platform,config:config.TIMEOUTS}),config.TIMEOUTS[platform]||errors.push("Missing Timeout Platform: ".concat(platform)),Object.keys(CONFIGURATION.TIMEOUTS[platform]).forEach((function(type){logger.log("Config Timeout for Platform and Type: ",{platform:platform,type:type,config:config.TIMEOUTS}),config.TIMEOUTS[platform][type]||errors.push("Missing Timeout Platform [".concat(platform,"] Type: ").concat(type))}))})),config.SLOTNAMES&&Object.keys(CONFIGURATION.SLOTNAMES).forEach((function(type){logger.log("Config Slotname for Type: ",{type:type,config:config.SLOTNAMES}),void 0===config.SLOTNAMES[type]&&errors.push("Missing Slot Name Type: ".concat(type))}));var response={status:0===errors.length,errors:errors};return response.status&&(CONFIGURATION=mergeDeep(CONFIGURATION,config),response.config=CONFIGURATION),response},deprecationWarning=function deprecationWarning(){return new Promise((function(resolve){logger.warn("This function has been deprecated. Please update your code to use getTargetingData or getRefreshedTargetingData"),resolve({})}))},init=function init(config){addLogTracker("a9"),logger=getLogger(MODULE_NAME,"v4.0.23","a9","color: #58f53f; padding: 2px",config.A9.DEBUG),setIsIntl&&setIsIntl();var initPromise=new Promise((function(resolve,reject){var consentRegion=getUserConsentRegion(),consentStatus=getConsent(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);if("ccpa"!==consentRegion||consentStatus){logger.log("Initializing Module...",config);var filler=function filler(){return new Promise((function(resolve){logger.warn("Amazon Video API not yet available."),resolve({})}))};logger.log("Predefining AdFuelVideoAPI.A9 and A9VideoAPI"),window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.A9=window.A9VideoAPI={getTargetingData:filler,getRefreshedTargetingData:filler,getPreRollTargetingData:deprecationWarning,getMidRollTargetingData:deprecationWarning,getRefreshedPreRollTargetingData:deprecationWarning,getRefreshedMidRollTargetingData:deprecationWarning,__VERSION__:"v4.0.23"};var validation=validateConfiguration(config.A9);logger.log("Config Validation: ",validation),validation.status?(configureA9Library(),resolve({config:config})):(validation.errors.forEach((function(error){logger.error(error)})),reject(validation.errors))}else logger.log("Preventing Initialization due to CCPA Restrictions.")}));return initPromise.id="".concat(MODULE_NAME," ").concat("v4.0.23"),initPromise},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{getTargetingData:getTargetingData,getRefreshedTargetingData:getRefreshedTargetingData,getPreRollTargetingData:deprecationWarning,getMidRollTargetingData:deprecationWarning,getRefreshedPreRollTargetingData:deprecationWarning,getRefreshedMidRollTargetingData:deprecationWarning,preQueueCallback:preQueueCallback,preRefreshCallback:preRefreshCallback,registerModuleWithAdFuel:registerModuleWithAdFuel,init:init,__NAME__:MODULE_NAME,__VERSION__:"v4.0.23"}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Blockthrough=factory()}(void 0,(function(){var MODULE_NAME="Blockthrough Module",MODULE_VERSION="v4.0.2",MODULE_LOG_TAG="bt",getLogger=window.AdFuelUtils.getLogger,getConsent=window.AdFuelUtils.getConsent,addEvent=window.AdFuelUtils.addEvent,logger,scriptLoaded=!1,initEventSet=!1,includeBlockthroughScript=function includeBlockthroughScript(){if(!scriptLoaded){logger.log("Including Library..."),scriptLoaded=!0;var source="//warnermediagroup-com.videoplayerhub.com/galleryloader.js";logger.log("Script source: ",source);var script=document.createElement("script");script.src=source,script.async=!0,document.head.appendChild(script)}},registerModuleWithAdFuel=function registerModuleWithAdFuel(){logger.log("Registering Module..."),window.AdFuel.registerModule(MODULE_NAME,{preDispatchCallback:preDispatchCallback},"v4.0.2",window.AdFuelOptions.BLOCKTHROUGH||{})},preDispatchCallback=function preDispatchCallback(asset){var preDispatchPromise=new Promise((function(resolve){window.AdFuelUtils.isBlockerEnabled=!!window.BT&&window.BT.BLOCKER_ENABLED,window.AdFuelUtils.isReinsertionAllowed=!!window.BT&&window.BT.REINSERTION_ALLOWED,window.AdFuelUtils.getPermissionToReinsert=function(cb){window.BT&&window.BT.getPermissionToReinsert((function(isPermitted){isPermitted&&cb()}))},resolve()}));return preDispatchPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),preDispatchPromise},init=function init(config){var consentStatus;(window.AdFuelUtils.addLogTracker&&window.AdFuelUtils.addLogTracker("bt"),(logger=getLogger(MODULE_NAME,"v4.0.2","bt","color: #d2b000; padding: 2px",config.BLOCKTHROUGH.DEBUG)).log("Initializing Module..."),window.AdFuelOptions.USER_CONSENT.ENABLED)?getConsent()&&(includeBlockthroughScript(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(registerModuleWithAdFuel):window.AdFuel?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel)):(includeBlockthroughScript(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(registerModuleWithAdFuel):window.AdFuel?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel))},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{init:init,preDispatchCallback:preDispatchCallback,registerModuleWithAdFuel:registerModuleWithAdFuel,__NAME__:MODULE_NAME,__VERSION__:"v4.0.2"}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).GUID=factory()}(void 0,(function(){var MODULE_NAME="Turner GUID Module",MODULE_VERSION="v4.0.2",MODULE_LOG_TAG="guid",addEvent=window.AdFuelUtils.addEvent,hasCookie=window.AdFuelUtils.hasCookie,getLogger=window.AdFuelUtils.getLogger,getConsent=window.AdFuelUtils.getConsent,readCookie=window.AdFuelUtils.readCookie,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,consentTags=["data-store","ads-contextual","ads-person-prof","ads-person","content-person-prof","content-person","measure-ads","measure-content","measure-market","product-develop"],tGetGuid,logger,enableGuid=!0,targetingSet=!1,initEventSet=!1,siteConfig;function setGUIDTargeting(asset){var preDispatchPromise=new Promise((function(resolve){var guid=window.turner_getGuid();targetingSet||(logger.log("Setting GUID Targeting: ",guid),window.AdFuel?window.AdFuel.addPageLevelTarget("guid",guid):window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("guid",guid)})),logger.log("targetingSet set to true..."),targetingSet=!0),resolve(guid)}));return preDispatchPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),preDispatchPromise}function gdprInit(){logger.log("Initializing Module..."),window&&(window.turner_getGuid=tGetGuid);var gdprProcessCookie=function gdprProcessCookie(){function registerModuleWithAdFuel(){window.AdFuel.registerModule(MODULE_NAME,{preDispatchCallback:setGUIDTargeting},"v4.0.2",siteConfig.GUID);var guid=window.turner_getGuid();logger.log("setting guid targeting",{guid:guid})}window.AdFuel?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel)};if(hasCookie("ugs"))gdprProcessCookie();else{var guidUrl="//www.ugdturner.com/xd.sjs",a=document,b=a.createElement("script"),c=a.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,e=!1;b.type="text/javascript",b.async=!0,b.src=guidUrl,b.onload=b.onreadystatechange=function(){e||"readyState"in b&&d.test(b.readyState)||(b.onload=b.onreadystatechange=null,e=!0,gdprProcessCookie())},c.parentNode.insertBefore(b,c)}}function processCookie(){function registerModuleWithAdFuel(){window.AdFuel.registerModule(MODULE_NAME,{preDispatchCallback:setGUIDTargeting},"v4.0.2",siteConfig.GUID)}window&&(window.turner_getGuid=tGetGuid),window.AdFuel?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel)}function init(){if(logger.log("Initializing Module..."),hasCookie("ugs"))processCookie();else{var guidUrl="//www.ugdturner.com/xd.sjs",a=document,b=a.createElement("script"),c=a.getElementsByTagName("script")[0],d=/^(complete|loaded)$/,e=!1;b.type="text/javascript",b.async=!0,b.src=guidUrl,b.onload=b.onreadystatechange=function(){e||"readyState"in b&&d.test(b.readyState)||(b.onload=b.onreadystatechange=null,e=!0,processCookie())},c.parentNode.insertBefore(b,c)}}var initialize=function initialize(config){var initPromise=new Promise((function(resolve){addLogTracker("guid"),(logger=getLogger(MODULE_NAME,"v4.0.2","guid","color: #d2b000; padding: 2px",config.GUID.DEBUG)).log("Initializing GUID Module...");var consentStatus=getConsent(consentTags);(siteConfig=config).USER_CONSENT&&siteConfig.USER_CONSENT.ENABLED?(logger.log("UserConsent Enabled..."),consentStatus||(logger.log("Disabling GUID due to User Consent restrictions."),enableGuid=!1),enableGuid&&(tGetGuid=function tGetGuid(){return readCookie("ug")},gdprInit())):(tGetGuid=function tGetGuid(){return readCookie("ug")},init()),resolve()}));return initPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),initPromise},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?initialize(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?initialize(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else initialize(window.AdFuelOptions);return{init:initialize,runAuction:function runAuction(){var auctionPromise=new Promise((function(resolve){resolve()}));return auctionPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),auctionPromise},buildSlot:function buildSlot(){var buildPromise=new Promise((function(resolve){setGUIDTargeting(),resolve()}));return buildPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),buildPromise},setTargeting:function setTargeting(){var targetingPromise=new Promise((function(resolve){resolve()}));return targetingPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),targetingPromise},__NAME__:MODULE_NAME,__VERSION__:"v4.0.2"}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).InViewRefresh=factory()}(void 0,(function(){var MODULE_NAME="In-View Refresh Module",MODULE_VERSION="v4.0.5",MODULE_LOG_TAG="ivr",addEvent=window.AdFuelUtils.addEvent,getLogger=window.AdFuelUtils.getLogger,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,logger,initEventSet=!1,_refreshableInViewSlots={},_focused=!0,TARGET_DISPLAY_MILLISECONDS,TARGET_DISPLAY_PERCENT,DISALLOWED_RENDERED_SIZES=["970x66","970x90","970x250"],registeredSlots=[],renderedCreativeIds={},renderedLineItemIds={},invalidSlotIds=[],_viewabilityListenersStarted=!1,startViewabilityListeners=function startViewabilityListeners(){_viewabilityListenersStarted||(window.googletag.cmd.push((function startViewabilityListeners(){window.googletag.pubads().addEventListener("impressionViewable",(function impressionViewableFunc(event){var _event$slot,_event$detail,_event$detail$slot,detail=event,divId=(null===(_event$slot=event.slot)||void 0===_event$slot?void 0:_event$slot.getSlotElementId())||(null===(_event$detail=event.detail)||void 0===_event$detail?void 0:null===(_event$detail$slot=_event$detail.slot)||void 0===_event$detail$slot?void 0:_event$detail$slot.getSlotElementId());logger.log("Refreshable In View Slots: ",_refreshableInViewSlots),void 0!==_refreshableInViewSlots[divId]&&_refreshableInViewSlots[divId].listenersSet?logger.log("Refreshable In View Slot listeners have already been set for: ",divId,{object:_refreshableInViewSlots[divId]}):(logger.log("Refreshable In View Slot listeners have not been set: ",divId,{object:_refreshableInViewSlots[divId]}),_createInViewRefreshObject(detail))})),window.googletag.pubads().addEventListener("slotVisibilityChanged",(function slotVisibilityChangedFunc(event){var detail;_visibilityChanged(event)})),window.googletag.pubads().addEventListener("slotRenderEnded",(function slotRenderEndedFunc(event){var detail=event,divId=detail.slot.getSlotElementId(),renderedSize=detail.size?detail.size.join("x"):"0x0",creativeId=event.creativeId||event.sourceAgnosticCreativeId,lineItemId=event.lineItemId||event.sourceAgnosticLineItemId,creativeIds=renderedCreativeIds[divId]||[],lineItemIds=renderedLineItemIds[divId]||[];logger.log("----------Slot: ["+divId+"]----------"),logger.log("Rendered Size: ",renderedSize),logger.log("Creative Ids: ",{selected:creativeId,native:event.creativeId,agnostic:event.sourceAgnosticCreativeId}),creativeIds.indexOf(creativeId)>=0?(delete _refreshableInViewSlots[divId],registeredSlots.splice(registeredSlots.indexOf(divId),1),invalidSlotIds.push(divId),logger.log("Duplicate Creative ["+creativeId+"] returned for slot ["+divId+"].  Stopping refresh.",registeredSlots)):DISALLOWED_RENDERED_SIZES.indexOf(renderedSize)>=0?(delete _refreshableInViewSlots[divId],registeredSlots.splice(registeredSlots.indexOf(divId),1),invalidSlotIds.push(divId),logger.log("Rendered size ["+renderedSize+"] for slot ["+divId+"] is invalid for IVR.  Stopping refresh.",registeredSlots)):(creativeId&&creativeIds.indexOf(creativeId)<0&&creativeIds.push(creativeId),lineItemId&&lineItemIds.indexOf(lineItemId)<0&&lineItemIds.push(lineItemId),renderedCreativeIds[divId]=creativeIds,renderedLineItemIds[divId]=lineItemIds,logger.log("Rendered Creatives: ",renderedCreativeIds[divId]),logger.log("Rendered LineItems: ",renderedLineItemIds[divId]))}))})),addEvent(document,"visibilitychange",_visibilityChangeEvent),_viewabilityListenersStarted=!0,logger.log("Listeners Started!"))},_visibilityChangeEvent=function _visibilityChangeEvent(event){logger.log("Visibility Change Event: ",event),logger.log("Relaying to _focusChanged..."),_focused=!document.hidden,_focusChanged()},_focusChanged=function _focusChanged(){var hidden;document.hidden?(logger.log("Page is hidden.  Destroying all intervals..."),destroyInterval()):(logger.log("Page is not hidden. Checking Intervals..."),Object.keys(_refreshableInViewSlots).forEach((function(slotIndex){var interval;logger.log({index:slotIndex,slot:_refreshableInViewSlots[slotIndex]}),getInterval(slotIndex)?logger.log("Interval exists...",slotIndex):(logger.log("Creating Interval...",slotIndex),_detectInView())})))},_visibilityChanged=function _visibilityChanged(obj){var percent=obj.inViewPercentage||0,elementId=obj.slot.getSlotElementId(),interval=getInterval(elementId);percent>=TARGET_DISPLAY_PERCENT?(logger.log("Element ["+elementId+"] Meets In-View Percentage Requirements",percent),_focused?(logger.log("... and page has focus"),interval||(logger.log("... interval does not exist. Creating Interval..."),createInterval(elementId))):logger.log("... but page does not have focus.  Not creating interval.")):(logger.log("Element ["+elementId+"] Does NOT Meet In-View Percentage Requirements",percent),interval&&(logger.log("Found Interval for Element ["+elementId+"]... Destroying Interval."),destroyInterval(elementId)))},getInterval=function getInterval(elementId){return logger.log("Getting Interval for: ",elementId),(!_refreshableInViewSlots[elementId]||null!==_refreshableInViewSlots[elementId].timer)&&(!!_refreshableInViewSlots[elementId]&&_refreshableInViewSlots[elementId].timer)},createInterval=function createInterval(elementId){if(logger.log("Refreshable In-View Slots: ",_refreshableInViewSlots),_refreshableInViewSlots[elementId]){var slot=_refreshableInViewSlots[elementId],SLOT_INTERVAL="string"==typeof slot.inViewRefreshInterval?1e3*parseInt(slot.inViewRefreshInterval,10):"number"==typeof slot.inViewRefreshInterval?1e3*slot.inViewRefreshInterval:TARGET_DISPLAY_MILLISECONDS;logger.log("Slot ".concat(elementId," interval: ").concat(SLOT_INTERVAL)),slot.inViewRefreshCounter=_refreshableInViewSlots[elementId].inViewRefreshCounter||0,logger.log("Creating Interval for: ",elementId),slot.timer=window.setInterval((function(){if(logger.log("Slot: ",slot),null!=slot)if("string"==typeof slot.inViewRefreshCount&&(slot.inViewRefreshCount=parseInt(slot.inViewRefreshCount)),slot.inViewRefreshCount>0){slot.el=slot.el||document.getElementById(elementId);var elId=slot.el.id;if(slot.inViewRefreshCount--,slot.inViewRefreshCounter++,slot.inViewRefreshCount>=0){var googleSlot=window.googletag.pubads().getSlots().filter((function(slot){return slot.getSlotElementId()===elId}))[0];logger.log("GoogleSlot: ",googleSlot),logger.log("Slot ["+elId+"] is in view and is being refreshed."),logger.log("Starting Targeting Keys: ",googleSlot.getTargetingKeys()),logger.log("Clearing targeting on slot ["+elId+"]...",slot),googleSlot.clearTargeting(),logger.log("Cleared Targeting Keys: ",googleSlot.getTargetingKeys()),logger.log("Setting rfv count targeting on slot ["+elId+"]: ",slot.inViewRefreshCounter),googleSlot.setTargeting("rfv",slot.inViewRefreshCounter),googleSlot.setTargeting("pos",elId.replace("ad_","")),invalidSlotIds.indexOf(elId)<0?(logger.log("Calling refresh On slot["+elId+"]...",slot),window.AdFuel.refresh([elId]),logger.log("Slot ["+slot.el.id+"] is in view, was just refreshed, and still has "+slot.inViewRefreshCount+" refreshes remaining.")):logger.log("Slot ["+slot.el.id+"] is invalid for refresh.")}}else logger.log("Slot ["+elementId+"] is in view but has no refreshes remaining.",slot,slot.inViewRefreshCount);else logger.log("Slot refresh prevented due to rendered size.")}),SLOT_INTERVAL),logger.log("Done.")}},destroyInterval=function destroyInterval(elementId){var slot;elementId?(logger.log("Destroying interval for: ",elementId),slot=_refreshableInViewSlots[elementId],window.clearInterval(slot.timer),slot.timer=null,slot.inView=!1):(logger.log("Destroying All Intervals"),Object.keys(_refreshableInViewSlots).forEach((function(slotIndex){logger.log("Destroying interval for: ",slotIndex),slot=_refreshableInViewSlots[slotIndex],window.clearInterval(slot.timer),slot.timer=null,slot.inView=!1})))},_createInViewRefreshObject=function _createInViewRefreshObject(event){var _event$slot2;logger.log("Checking Element: ",{event:event});var divId=(null===(_event$slot2=event.slot)||void 0===_event$slot2?void 0:_event$slot2.getSlotElementId())||event.detail.slot.getSlotElementId(),el=document.getElementById(divId);-1!==registeredSlots.indexOf(divId)&&_refreshableInViewSlots[divId]?(logger.log("Slot is registered with InView Refresh"),_refreshableInViewSlots[divId].inView=!1,_refreshableInViewSlots[divId].el=el,_refreshableInViewSlots[divId].refreshCount=0,_refreshableInViewSlots[divId].listenersSet=!0):logger.log("Slot is NOT registered with InView Refresh")},_isInsideBounds=function _isInsideBounds(clientX1,clientX2,clientY1,clientY2,elX1,elX2,elY1,elY2){var a=Math.max(clientY1,elY1),b=Math.min(clientY2,elY2),c=Math.max(clientX1,elX1),d=Math.min(clientX2,elX2),viewableArea=0,aCheck,bCheck,cCheck,dCheck;a>=clientY1&&a<=clientY2&&(b>=clientY1&&b<=clientY2)&&(c>=clientX1&&c<=clientX2)&&(d>=clientX1&&d<=clientX2)&&(viewableArea=(b-a)*(d-c));var elArea=(elX2-elX1)*(elY2-elY1),ratioArea=0;return elArea>0&&(ratioArea=viewableArea/elArea),ratioArea},_getPercentInView=function _getPercentInView(el){var clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,clientX1=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,clientY1=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;clientWidth=parseInt(clientWidth,10),clientHeight=parseInt(clientHeight,10),clientX1=parseInt(clientX1,10),clientY1=parseInt(clientY1,10);var elWidth=parseInt(el.clientWidth),elHeight=parseInt(el.clientHeight),elXy=el.getBoundingClientRect(),elX1=elXy.left+document.body.scrollLeft,elY1=elXy.top+document.body.scrollTop,elX2,elY2,clientX2,clientY2,viewablePercent;return 100*_isInsideBounds(clientX1,clientX1+clientWidth,clientY1,clientY1+clientHeight,elX1,elX1+elWidth,elY1,elY1+elHeight)},_detectInView=function _detectInView(){logger.log("Detecting In View Slots."),_refreshableInViewSlots.length<1&&logger.log("No registered slots have been rendered yet."),Object.keys(_refreshableInViewSlots).forEach((function(divId){var slot,el=_refreshableInViewSlots[divId].el||document.getElementById(divId),viewTest=!1;el&&(viewTest=el&&_focused&&_getPercentInView(el)>=TARGET_DISPLAY_PERCENT&&parseInt(_refreshableInViewSlots[divId].inViewRefreshCount)>0);var interval=getInterval(divId);viewTest&&!interval&&createInterval(divId)}))},preQueueCallbackForIVR=function preQueueCallbackForIVR(asset){var preQueuePromise=new Promise((function(resolve){var startListeners=!1;logger.time("IVR Pre-Queue Process Start");for(var x=0;x<asset.length;x++){var slot=asset[x];slot.hasInViewRefresh="true"===slot.hasInViewRefresh||!0===slot.hasInViewRefresh||!1,!0===slot.hasInViewRefresh&&(logger.log("Slot has In-View Refresh..."),slot.inViewRefreshCounter=0,startListeners=!0,registeredSlots.push(slot.rktr_slot_id))}startListeners&&(logger.log("Starting IVR Listeners..."),startViewabilityListeners()),logger.timeEnd("IVR Pre-Queue Process Start"),resolve()}));return preQueuePromise.id="".concat(MODULE_NAME," ").concat("v4.0.5"),preQueuePromise},preDispatchCallbackForIVR=function preDispatchCallbackForIVR(queue){var preDispatchPromise=new Promise((function(resolve){for(var qId=0;qId<queue.length;qId++){var rocketeerSlot=queue[qId];!0===rocketeerSlot.hasInViewRefresh||"true"===rocketeerSlot.hasInViewRefresh?(logger.log("Slot is configured for in view refresh.  Creating refresh object for slot ["+rocketeerSlot.rktr_slot_id+"]"),_refreshableInViewSlots[rocketeerSlot.rktr_slot_id]=rocketeerSlot):logger.log("Slot is not configured for in view refresh. ["+rocketeerSlot.rktr_slot_id+"]")}resolve()}));return preDispatchPromise.id="".concat(MODULE_NAME," ").concat("v4.0.5"),preDispatchPromise},registerModuleWithAdFuel=function registerModuleWithAdFuel(config){window.AdFuelUtils=window.AdFuelUtils||{},window.AdFuelUtils.startViewabilityListeners=startViewabilityListeners,window.AdFuel.registerModule("In View Refresh",{preQueueCallback:preQueueCallbackForIVR,preDispatchCallback:preDispatchCallbackForIVR},"v4.0.5",config)},init=function init(siteConfig){addLogTracker("ivr"),logger=getLogger(MODULE_NAME,"v4.0.5","ivr","color: #00e1e1; padding: 2px",siteConfig.IVR.DEBUG),_focused="undefined"!=typeof document&&!document.hidden,TARGET_DISPLAY_MILLISECONDS=siteConfig.IVR.DEFAULT_DISPLAY_MILLISECONDS,TARGET_DISPLAY_PERCENT=siteConfig.IVR.DEFAULT_DISPLAY_PERCENT,window.AdFuel?registerModuleWithAdFuel(siteConfig.IVR):addEvent(document,"AdFuelCreated",(function(){registerModuleWithAdFuel(siteConfig.IVR)}))},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{init:init,preQueueCallback:preQueueCallbackForIVR,preDispatchCallback:preDispatchCallbackForIVR,startViewabilityListeners:startViewabilityListeners,__NAME__:MODULE_NAME,__VERSION__:"v4.0.5"}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).IAS=factory()}(void 0,(function(){var MODULE_NAME="Integral Ad Science Module",MODULE_VERSION="v4.0.6",MODULE_LOG_TAG="ias",isIntl=window.AdFuelUtils.isIntl,getLogger=window.AdFuelUtils.getLogger,getUserConsentRegion=window.AdFuelUtils.getUserConsentRegion,getConsent=window.AdFuelUtils.getConsent,addEvent=window.AdFuelUtils.addEvent,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,logger,iasActive=!1,initEventSet=!1,DOMESTIC_PUB_ID=0,INTERNATIONAL_PUB_ID=0,registeredSlots={},getTargetingForVideo=function getTargetingForVideo(){var ssid=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cnn.com_politics_carousel_t1",videoTargetingPromise=new Promise((function(resolve,reject){logger.log("Getting Video targeting...");var videoSlot={adSlotId:"video1",size:[1,1],type:"video",adUnitPath:ssid||""};window.__iasPET.queue.push({adSlots:[videoSlot],dataHandler:function dataHandler(targeting){targeting||(logger.warn("No IAS Targeting For Video"),reject(new Error("No Targeting Returned")));try{var parsedTargeting=JSON.parse(targeting),response=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},parsedTargeting),parsedTargeting.brandSafety),parsedTargeting.slots.video1),parsedTargeting.custom);delete response.brandSafety,delete response.slots,delete response.custom,logger.log("IAS Video Targeting",response),resolve(response)}catch(err){logger.error("Error Parsing IAS Targeting: ",err),reject(err)}}})}));return videoTargetingPromise.id="IAS Video Targeting Promise",videoTargetingPromise},preQueueCallback=function preQueueCallback(asset){window.AdFuelUtils.IASFallbackTimeout=window.AdFuelUtils.IASFallbackTimeout||[];var preQueuePromise=new Promise((function(resolve){logger.log("Building slots for IAS...",asset);var adSlots=[],queueId="0",promiseResolved=!1;if(Array.isArray(asset)&&asset.length>0)for(var x=0;x<asset.length;x++)!registeredSlots[asset[x].rktr_slot_id]&&"page"!==asset[x].rktr_slot_id&&asset[x].sizes.length>0&&(registeredSlots[asset[x].rktr_slot_id]=!0,queueId=asset[x].queue_id,logger.log("Pushing Slot: ",{adSlotId:asset[x].rktr_slot_id,size:asset[x].sizes.map((function(size){return"fluid"===size[0]?[1,1]:size})),adUnitPath:"/8663477/"+asset[x].rktr_ad_id},queueId),adSlots.push({adSlotId:asset[x].rktr_slot_id,size:asset[x].sizes.map((function(size){return"fluid"===size[0]?[1,1]:size})),adUnitPath:"/8663477/"+asset[x].rktr_ad_id})),"page"!==asset[x].rktr_slot_id&&(asset[x].programmatic||(asset[x].programmatic={}),asset[x].programmatic.ias={adSlotId:asset[x].rktr_slot_id,size:asset[x].sizes.map((function(size){return"fluid"===size[0]?[1,1]:size})),adUnitPath:"/8663477/"+asset[x].rktr_ad_id});else asset&&asset.sizes&&asset.sizes.length>0&&(queueId=asset.queue_id,adSlots.push({adSlotId:asset.rktr_slot_id,size:asset.sizes.map((function(size){return"fluid"===size[0]?[1,1]:size})),adUnitPath:"/8663477/"+asset.rktr_ad_id}),asset.programmatic||(asset.programmatic={}),asset.programmatic.ias={adSlotId:asset.rktr_slot_id,size:asset.sizes.map((function(size){return"fluid"===size[0]?[1,1]:size})),adUnitPath:"/8663477/"+asset.rktr_ad_id});adSlots.length>0?(window.AdFuelUtils.IASFallbackTimeout[queueId]=setTimeout((function(){promiseResolved||(delete window.AdFuelUtils.IASFallbackTimeout[queueId],resolve({msg:"Fallback timeout",queueId:queueId}),promiseResolved=!0)}),window.AdFuelUtils.isMobile.any?window.AdFuelOptions.ADFUEL.DEFAULT_MOBILE_TIMEOUT:window.AdFuelOptions.ADFUEL.DEFAULT_DESKTOP_TIMEOUT),window.__iasPET.queue.push({adSlots:adSlots,dataHandler:function dataHandler(targeting){targeting||(logger.warn("No IAS Targeting",queueId),promiseResolved||(clearTimeout(window.AdFuelUtils.IASFallbackTimeout[queueId]),delete window.AdFuelUtils.IASFallbackTimeout[queueId],resolve({msg:"No IAS Targeting",queueId:queueId}),promiseResolved=!0));var parsedTargeting=targeting;try{parsedTargeting=JSON.parse(targeting)}catch(err){logger.error("Error Parsing IAS Targeting: ",err,queueId,targeting)}logger.log("Setting IAS Targeting...",parsedTargeting,queueId),window.__iasPET.setTargetingForGPT(),promiseResolved||(clearTimeout(window.AdFuelUtils.IASFallbackTimeout[queueId]),delete window.AdFuelUtils.IASFallbackTimeout[queueId],resolve(targeting,queueId),promiseResolved=!0)}}),window.__iasPET.queue.length>0&&"function"==typeof window.__iasPET.start&&(logger.log("Manually starting IAS queue processes for queue: ",queueId),window.__iasPET.start())):promiseResolved||(resolve({msg:"No Ad Slots",queueId:queueId}),promiseResolved=!0)}));return preQueuePromise.id="".concat(MODULE_NAME," ").concat("v4.0.6"),preQueuePromise},registerModuleWithAdFuel=function registerModuleWithAdFuel(config){iasActive&&(window.AdFuelVideoAPI=window.AdFuelVideoAPI||{},window.AdFuelVideoAPI.IAS=window.IASVideoAPI={getTargetingForVideo:getTargetingForVideo},logger.log("Registering module with AdFuel"),window.AdFuel.registerModule(MODULE_NAME,{preQueueCallback:preQueueCallback,preRefreshCallback:preQueueCallback},"v4.0.6",config.IAS))},addIASJavascript=function addIASJavascript(config){logger.log("Adding IAS script to head...");var iasTag=document.createElement("script");iasTag.async=!0,iasTag.src="//static.adsafeprotected.com/iasPET.1.js";var targetNode=document.getElementsByTagName("head")[0];targetNode.insertBefore(iasTag,targetNode.firstChild),iasActive=!0;var pubId=isIntl()?config.IAS.ACCOUNT_IDS.INTL:config.IAS.ACCOUNT_IDS.DOM;logger.log("Pub Ids: ",0,0),logger.log("Setting iasPET.pubId: ",pubId),window.__iasPET.pubId=pubId},init=function init(config){var initPromise=new Promise((function(resolve){addLogTracker("ias"),(logger=getLogger(MODULE_NAME,"v4.0.6","ias","color: #d2b000; padding: 2px",config.IAS.DEBUG)).log("Initializing Module..."),window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[];var consentRegion=getUserConsentRegion(),consentStatus=getConsent(["data-store","ads-contextual","ads-person-prof","ads-person","vendor"]);config.USER_CONSENT&&config.USER_CONSENT.ENABLED?"gdpr"!==consentRegion||consentStatus?(addIASJavascript(config),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(registerModuleWithAdFuel):window.AdFuel?registerModuleWithAdFuel(config):addEvent(document,"AdFuelCreated",registerModuleWithAdFuel)):logger.log("Disabling IAS due to GDPR restrictions."):(addIASJavascript(config),getTargetingForVideo(),window.AdFuel&&window.AdFuel.cmd?window.AdFuel.cmd.push(registerModuleWithAdFuel):window.AdFuel?registerModuleWithAdFuel(config):addEvent(document,"AdFuelCreated",registerModuleWithAdFuel)),resolve()}));return initPromise.id="".concat(MODULE_NAME," ").concat("v4.0.6"),initPromise},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{init:init,getTargetingForVideo:getTargetingForVideo,preQueueCallback:preQueueCallback,buildSlot:function buildSlot(slotData){var buildPromise=new Promise((function(resolve){preQueueCallback(slotData)}));return buildPromise.id="".concat(MODULE_NAME," ").concat("v4.0.6"),buildPromise},runAuction:function runAuction(){var auctionPromise=new Promise((function(resolve){resolve()}));return auctionPromise.id="".concat(MODULE_NAME," ").concat("v4.0.6"),auctionPromise},setTargeting:function setTargeting(slotData){var targetingPromise=new Promise((function(resolve){resolve()}));return targetingPromise.id="".concat(MODULE_NAME," ").concat("v4.0.6"),targetingPromise},__NAME__:MODULE_NAME,__VERSION__:"v4.0.6"}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).Krux=factory()}(void 0,(function(){function unwrapExports(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}var ZionMessageBus_1=createCommonjsModule((function(module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var ZionMessageBus=function(){function ZionMessageBus(){this.watching={}}return ZionMessageBus.getInstance=function(){return window.ZION_MESSAGE_BUS||(window.ZION_MESSAGE_BUS=new ZionMessageBus),window.ZION_MESSAGE_BUS},ZionMessageBus.prototype.addToMessageQueue=function(topic,payload){this.watching.hasOwnProperty(topic)||(this.watching[topic]=this.addTopicModel(topic,[function(){}]));var now=new Date,messageModel={message:payload,messageCount:++this.watching[topic].messageCount,timestamp:now.getTime(),topic:topic};return this.watching[topic].messageQueue.push(messageModel),this.watching[topic].messageQueue},ZionMessageBus.prototype.getMessageCallbacks=function(topic){return this.watching.hasOwnProperty(topic)&&this.watching[topic].callBacks.length?this.watching[topic].callBacks:[]},ZionMessageBus.prototype.messageBroadcast=function(topic,payload){if(this.watching.hasOwnProperty(topic))for(var callbacks=this.getMessageCallbacks(topic),messageQueue=this.addToMessageQueue(topic,payload),_i=0,callbacks_1=callbacks;_i<callbacks_1.length;_i++){var callback;(0,callbacks_1[_i])(messageQueue.slice())}else this.addToMessageQueue(topic,payload);return this.watching},ZionMessageBus.prototype.addTopicModel=function(topic,callbacks){return{callBacks:callbacks,messageCount:0,messageQueue:[],topic:topic}},ZionMessageBus.prototype.subscribeSetup=function(topics,callback){for(var _i=0,topics_1=topics=this.makeIterable(topics);_i<topics_1.length;_i++){var topic=topics_1[_i];this.watching.hasOwnProperty(topic)?this.watching[topic].callBacks.push(callback):this.watching[topic]=this.addTopicModel(topic,[callback])}return this.watching},ZionMessageBus.prototype.makeIterable=function(data){return Array.isArray(data)?data:"string"==typeof data?[data]:[]},ZionMessageBus.prototype.subscribe=function(topics,callback){return this.subscribeSetup(topics,callback)},ZionMessageBus.prototype.publish=function(topic,payload){return this.messageBroadcast(topic,payload)},ZionMessageBus}();exports.ZionMessageBus=ZionMessageBus,exports.default=ZionMessageBus}));unwrapExports(ZionMessageBus_1);var ZionMessageBus_2=ZionMessageBus_1.ZionMessageBus,MODULE_NAME="Krux Module",MODULE_VERSION="v4.1.4",MODULE_LOG_TAG="krux",consentTags=["vendor","data-store","ads-person-prof","ads-person","measure-ads","measure-content","measure-market"],logger,initEventSet=!1,zionBus,processCookie,setControlTag,registerModuleWithAdFuel,messageSent=!1,subscribersSet=!1,targetingSet=!1,enableKrux=!0,retrieve=function retrieve(n){var k="kx"+n,ls=function(){try{return window.localStorage}catch(e){return null}}();if(ls)return ls[k]||"";if(navigator.cookieEnabled){var m=document.cookie.match(k+"=([^;]*)");return m&&unescape(m[1])||""}return""},init=function init(config){var initPromise=new Promise((function(resolve){window.AdFuelUtils.addLogTracker&&window.AdFuelUtils.addLogTracker("krux"),(logger=window.AdFuelUtils.getLogger(MODULE_NAME,"v4.1.4","krux","color: #d2b000; padding: 2px",config.KRUX.DEBUG)).log("Initializing Module: ",config);var consentStatus=window.AdFuelUtils.getConsent(consentTags),start;logger.log("Consent Status: ",consentStatus),consentStatus?logger.log("Consent given..."):(logger.log("Disabling Krux due to User Consent restrictions."),enableKrux=!1),enableKrux&&(logger.log("Initializing Module: ",config),window.Krux||((window.Krux=function(){window.Krux.q.push([arguments])}).q=[])),window.krux_getFWKeyValues=enableKrux?function(prefix,limit){window.Krux.segments=retrieve("segs")?retrieve("segs").split(","):[];for(var segPrefix=prefix||"_fwu:386123:",segLimit=limit||35,fwKVP={},x=0;x<window.Krux.segments.length;x++)x<segLimit&&(fwKVP[segPrefix+window.Krux.segments[x]]=1);return fwKVP}:function(){},window.krux_getDESegments=enableKrux?function(){var segmentString="&kxid=";return window.Krux.user&&(segmentString+=window.Krux.user),segmentString+="&kxseg="+window.kvs.join(",")}:function(){},window.krux_getFWSegments=enableKrux?function(){return window.Krux.segments=retrieve("segs")?retrieve("segs").split(","):[],"kxseg="+window.Krux.segments.join(",kxseg=")}:function(){},window.krux_getUser=enableKrux?function(){return window.Krux.user=retrieve("user"),window.Krux.user}:function(){},window.krux_getKuid=enableKrux?function(){return window.Krux.kuid=retrieve("kuid"),window.Krux.kuid}:function(){},processCookie=enableKrux?function(asset){var processCookiePromise=new Promise((function(resolve){window.Krux.user=retrieve("user"),window.Krux.segments=retrieve("segs")?retrieve("segs").split(","):[],window.Krux.kuid=retrieve("kuid");var kuser=window.Krux.user,ksg=window.Krux.segments.filter((function filterFunc(segment,index){return index<35})),kuid=window.Krux.kuid;config.KRUX.SEND_VALUES_TO_ZION&&!messageSent&&(messageSent=!0,logger.log("Publishing to Zion Bus",{zionBus:zionBus,kuser:kuser,kuid:kuid,ksg:ksg}),zionBus.publish("id_found",{type:"krux_kuid",value:kuid}),zionBus.publish("id_found",{type:"krux_kxuser",value:kuser}),zionBus.publish("sg_found",{type:"ksg",value:ksg})),targetingSet||(targetingSet=!0,logger.log("Adding Krux Targeting..."),window.AdFuel?(window.AdFuel.addPageLevelTarget("kuid",kuid),window.AdFuel.addPageLevelTarget("ksg",ksg)):window.googletag.cmd.push((function(){window.googletag.pubads().setTargeting("kuid",kuid),window.googletag.pubads().setTargeting("ksg",ksg)}))),resolve({ksg:ksg,kuid:kuid,kuser:kuser})}));if(processCookiePromise.id="".concat(MODULE_NAME," ").concat("v4.1.4"),asset&&asset.length>0){var _iterator10=_createForOfIteratorHelper(asset),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var slot=_step10.value;slot.programmatic||(slot.programmatic={}),slot.programmatic.krux={dom_controltag:config.KRUX.DOM_CONTROLTAG,intl_controltag:config.KRUX.INTL_CONTROLTAG}}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}}return processCookiePromise}:function(){var mockPromise=new Promise((function(resolve){resolve()}));return mockPromise.id="".concat(MODULE_NAME," ").concat("v4.1.4"),mockPromise},registerModuleWithAdFuel=enableKrux?function(){window.AdFuel.registerModule(MODULE_NAME,{preDispatchCallback:processCookie},"v4.1.4",config.KRUX)}:function(){},setControlTag=enableKrux?function(controlTagId){logger.log("Setting Control Tag: ",controlTagId);var a=document,b=a.createElement("script"),c=a.getElementsByTagName("head")[0];b.type="text/javascript",b.async=!0,b.src="https://cdn.krxd.net/controltag?confid="+controlTagId,window.AdFuelUtils.piiFilter.hash()||window.AdFuelUtils.piiFilter.qs()||window.AdFuelUtils.piiFilter.ref()||(logger.log("Adding Krux Script To Head of Page...",b.src),c.appendChild(b))}:function(){},function start(){if(config.KRUX){var controlTags=config.KRUX.CONTROLTAGS?config.KRUX.CONTROLTAGS:{DOM:config.KRUX.DOM_CONTROLTAG,INTL:config.KRUX.INTL_CONTROLTAG};config.KRUX.SEND_VALUES_TO_ZION&&!subscribersSet&&(subscribersSet=!0,zionBus=ZionMessageBus_2.getInstance());var controlTag=window.AdFuelUtils.isIntl()?controlTags.INTL:controlTags.DOM;enableKrux&&consentStatus?(setControlTag(controlTag),window.AdFuel?registerModuleWithAdFuel():window.AdFuelUtils.addEvent(document,"AdFuelCreated",registerModuleWithAdFuel)):logger.log("Krux disabled.")}resolve()}()}));return initPromise.id="".concat(MODULE_NAME," ").concat("v4.1.4"),initPromise},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(window.AdFuelUtils.addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():window.AdFuelUtils.addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{preDispatchCallback:processCookie,init:init,buildSlot:function buildSlot(slotData){var buildPromise=new Promise((function(resolve){resolve()}));return buildPromise.id="".concat(MODULE_NAME," ").concat("v4.1.4"),buildPromise},runAuction:function runAuction(slotData){var auctionPromise=new Promise((function(resolve){resolve()}));return auctionPromise.id="".concat(MODULE_NAME," ").concat("v4.1.4"),auctionPromise},setTargeting:function setTargeting(slotData){var targetingPromise=new Promise((function(resolve){processCookie(slotData,resolve)}));return targetingPromise.id="".concat(MODULE_NAME," ").concat("v4.1.4"),targetingPromise},__NAME__:MODULE_NAME,__VERSION__:"v4.1.4"}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).MalvertisingDetection=factory()}(void 0,(function(){var MODULE_NAME="Malvertising Detection",MODULE_VERSION="v4.0.6",MODULE_LOG_TAG="maldetect",getLogger=window.AdFuelUtils.getLogger,addEvent=window.AdFuelUtils.addEvent,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,logger=null,addScript=!0,scriptAdded=!1,initEventSet=!1,addMdScript=function addMdScript(options){if(addScript&&!scriptAdded){var head=document.getElementsByTagName("head")[0],mdScript=document.createElement("script"),src=options.SCRIPT_SRC;mdScript.type="text/javascript",mdScript.src=src,src&&head?(head.insertBefore(mdScript,head.firstChild),scriptAdded=!0,logger.log("Added Malvertising Detection script to head of page: ".concat(mdScript))):logger.log("Failed to add Malvertising Detection script...")}},init=function init(opts){var initPromise=new Promise((function(resolve){addLogTracker("maldetect"),(logger=getLogger(MODULE_NAME,"v4.0.6","maldetect","color: #58f53f; padding: 2px")).log("Initialization Options: ",opts),addScript=!0,"undefined"!=typeof window&&addMdScript(opts.MALVERTISING);var registerModuleWithAdFuel=function registerModuleWithAdFuel(){window.AdFuel.registerModule(MODULE_NAME,{},"v4.0.6",opts.MALVERTISING)};window.AdFuel?registerModuleWithAdFuel():addEvent(document,"AdFuelCreated",registerModuleWithAdFuel),resolve()}));return initPromise.id="".concat(MODULE_NAME," ").concat("v4.0.6"),initPromise},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{__VERSION__:"v4.0.6",__NAME__:MODULE_NAME,init:init,addMdScript:addMdScript}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).SourcepointAdBlocking=factory()}(void 0,(function(){var MODULE_NAME="Sourcepoint Add-on: Ad Blocking",MODULE_VERSION="v4.0.2",blockerStatus,initEventSet=!1,logger,spIsBlocking=function spIsBlocking(){return logger.log("Returning Ad Blocker Status: ",blockerStatus),blockerStatus||!1},init=function init(config){var initPromise=new Promise((function(resolve){(logger=window.AdFuelUtils.getLogger(MODULE_NAME,"v4.0.2","spblocking","color: #00e1e1; padding: 2px",config.SOURCEPOINT.DEBUG)).log("Initializing Module Add-On...");var registerModuleWithAdFuel=function registerModuleWithAdFuel(){window.AdFuel.registerModule(MODULE_NAME,{},"v4.0.2",config.SOURCEPOINT)};window.AdFuel?registerModuleWithAdFuel():window.AdFuelUtils.addEvent(document,"AdFuelCreated",registerModuleWithAdFuel),window.spIsBlocking=spIsBlocking,window.AdFuelUtils.addEvent(document,"sp.blocking",(function(e){logger.log("Ad Status: BLOCKED"),blockerStatus=!0})),window.AdFuelUtils.addEvent(document,"sp.not_blocking",(function(e){logger.log("Ad Status: Not Blocked"),blockerStatus=!1}))}));return initPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),initPromise},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(window.AdFuelUtils.addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():window.AdFuelUtils.addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{init:init,spIsBlocking:spIsBlocking,buildSlot:function buildSlot(){var buildPromise=new Promise((function(resolve){resolve()}));return buildPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),buildPromise},runAuction:function runAuction(){var auctionPromise=new Promise((function(resolve){resolve()}));return auctionPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),auctionPromise},setTargeting:function setTargeting(){var targetingPromise=new Promise((function(resolve){resolve()}));return targetingPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),targetingPromise},__NAME__:MODULE_NAME,__VERSION__:"v4.0.2"}})),function(global,factory){"object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global=global||self).TransactionID=factory()}(void 0,(function(){var MODULE_NAME="Transaction ID Module",MODULE_VERSION="v4.0.2",MODULE_LOG_TAG="transid",getLogger=window.AdFuelUtils.getLogger,getUserConsentRegion=window.AdFuelUtils.getUserConsentRegion,getConsent=window.AdFuelUtils.getConsent,addEvent=window.AdFuelUtils.addEvent,addLogTracker=window.AdFuelUtils.addLogTracker||window.AdFuelUtils.noop,logger,targetingSet=!1,initEventSet=!1,registerModuleWithAdfuel=function registerModuleWithAdfuel(){window.AdFuel.registerModule(MODULE_NAME,{},"v4.0.2",{}),setTransIdTargeting()},setTransIdTargeting=function setTransIdTargeting(){var transId=window.turner_getTransactionId();targetingSet||(targetingSet=!0,window.AdFuel?(logger.log("AdFuel: setting transid targeting",{transId:transId}),window.AdFuel.addPageLevelTarget("transId",transId)):(logger.log("googletag: setting transid targeting",{transId:transId}),window.googletag.pubads().setTargeting("transId",transId)))},init=function init(siteConfig){var initPromise=new Promise((function(resolve){if(addLogTracker("transid"),logger=getLogger(MODULE_NAME,"v4.0.2","transid","color: #d2b000; padding: 2px",siteConfig.TRANSACTION_ID.DEBUG),window.cnnad_transactionID=null,window.cnnad_getTransactionID=function(){return window.cnnad_transactionID||(window.cnnad_transactionID=Math.round((new Date).getTime()/1e3)+""+Math.floor(9007199254740992*Math.random())),window.cnnad_transactionID},window.turner_getTransactionId=window.cnnad_getTransactionID,window.turner_getTransactionId(),siteConfig.USER_CONSENT&&siteConfig.USER_CONSENT.ENABLED){var consentRegion=getUserConsentRegion(),consentStatus=getConsent();"ccpa"!==consentRegion&&"gdpr"!==consentRegion||consentStatus?(logger.log("Initializing Module..."),window.AdFuel?registerModuleWithAdfuel():addEvent(document,"AdFuelCreated",registerModuleWithAdfuel)):logger.log("Disabling module due to GDPR restrictions.")}else logger.log("Initializing Module..."),window.AdFuel?registerModuleWithAdfuel():addEvent(document,"AdFuelCreated",registerModuleWithAdfuel)}));return initPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),initPromise},index;if(window.AdFuelOptions)if(window.AdFuelOptions.USER_CONSENT.ENABLED){var callInit=function callInit(){setTimeout((function(){window.WM.UserConsent&&window.WM.UserConsent.isReady()&&("ccpa"===window.WM.UserConsent.getRegion()?init(window.AdFuelOptions):initEventSet||window.WM.UserConsent.isOptanonLoaded()?init(window.AdFuelOptions):(addEvent(window,"optanonLoaded",callInit),initEventSet=!0))}),100)};window.WM&&window.WM.UserConsent&&window.WM.UserConsent.isReady()?callInit():addEvent(window,"userConsentReady",callInit)}else init(window.AdFuelOptions);return{init:init,buildSlot:function buildSlot(slotData){var buildPromise=new Promise((function(resolve){resolve()}));return buildPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),buildPromise},runAuction:function runAuction(slotData){var auctionPromise=new Promise((function(resolve){resolve()}));return auctionPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),auctionPromise},setTargeting:function setTargeting(slotData){var targetingPromise=new Promise((function(resolve){setTransIdTargeting(),resolve()}));return targetingPromise.id="".concat(MODULE_NAME," ").concat("v4.0.2"),targetingPromise},__NAME__:MODULE_NAME,__VERSION__:"v4.0.2"}}));